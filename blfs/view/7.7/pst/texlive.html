<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      texlive-20140525-source
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-7.7">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 7.7
      </h4>
      <h3>
        Chapter&nbsp;48.&nbsp;Typesetting
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="tl-installer.html" title=
          "install-tl-unx">Prev</a>
          <p>
            install-tl-unx
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="tex-path.html" title=
          "Setting the PATH for TeX Live">Next</a>
          <p>
            Setting the PATH for TeX Live
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="typesetting.html" title=
          "Chapter&nbsp;48.&nbsp;Typesetting">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.7">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="texlive" name="texlive"></a>texlive-20140525-source
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to TeX Live from source
        </h2>
        <p>
          Most of TeX Live can be built from source without a pre-existing
          installation, but <span class="application">xindy</span> (for
          indexing) needs working versions of <span class=
          "command"><strong>latex</strong></span> and <span class=
          "command"><strong>pdflatex</strong></span> when configure is run,
          and the testsuite and install for <span class=
          "command"><strong>asy</strong></span> (for vector graphics) will
          fail if TeX has not already been installed. Additionally,
          <span class="application">biber</span> is not provided within the
          <span class="application">texlive</span> source.
        </p>
        <p>
          All of those packages are dealt with on their own pages and can be
          built after installing this package and proceeding to <a class=
          "xref" href="tex-path.html" title=
          "Setting the PATH for TeX Live">Setting the PATH for TeX Live</a>.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.7
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (FTP): <a class="ulink" href=
                "ftp://tug.org/texlive/historic/2014/texlive-20140525-source.tar.xz">
                ftp://tug.org/texlive/historic/2014/texlive-20140525-source.tar.xz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 09ee265ff51637827559affc7304078c
              </p>
            </li>
            <li>
              <p>
                Download size: 40 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 3.6 GB including the
                additional download
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 8.2 SBU including the additional
                download
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Required Additional Download
        </h3>
        <p>
          Much of the texlive environment (including scripts, documentation,
          fonts and various other files) is not part of the source tarball.
          You must download it separately. This will give you all of the
          additional files which are provided by a full install of the binary
          version, there is no realistic way to restrict which parts get
          installed.
        </p>
        <p>
          Because of the size of this package, it is unlikely to be mirrored
          by BLFS mirrors. In case of difficulty, go to
          http://www.ctan.org/mirrors/ to find a more-accessible mirror.
        </p>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (FTP): <a class="ulink" href=
                "ftp://tug.org/texlive/historic/2014/texlive-20140525-texmf.tar.xz">
                ftp://tug.org/texlive/historic/2014/texlive-20140525-texmf.tar.xz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 645a6f1d3a0ef4a9c279dae02588eab7
              </p>
            </li>
            <li>
              <p>
                Download size: 1.7 GB
              </p>
            </li>
          </ul>
        </div>
        <h3>
          TeX Live from source Dependencies
        </h3>
        <h4>
          Recommended
        </h4>
        <p class="recommended">
          <a class="xref" href="gs.html" title=
          "ghostscript-9.15">ghostscript-9.15</a> (for dvisvgm - used by
          asymptote which provides a mathematical coordinate-based framework
          for technical drawing), <a class="xref" href="../x/installing.html"
          title="Chapter&nbsp;24.&nbsp;X Window System Environment">X Window
          System</a>
        </p>
        <p class="recommended">
          The source ships with its own versions of <span class=
          "emphasis"><em>many</em></span> libraries, and will use them unless
          it is forced to use the system versions. The following are
          recommended so that the system version will be used: <a class=
          "xref" href="../general/fontconfig.html" title=
          "Fontconfig-2.11.1">Fontconfig-2.11.1</a>, <a class="xref" href=
          "../general/freetype2.html" title=
          "FreeType-2.5.5">FreeType-2.5.5</a>, <a class="xref" href=
          "../general/gc.html" title="GC-7.4.2">GC-7.4.2</a>, <a class="xref"
          href="../general/graphite2.html" title=
          "Graphite2-1.2.4">Graphite2-1.2.4</a>, <a class="xref" href=
          "../general/harfbuzz.html" title=
          "Harfbuzz-0.9.38">Harfbuzz-0.9.38</a> (linked to graphite2),
          <a class="xref" href="../general/icu.html" title=
          "ICU-54.1">ICU-54.1</a>, <a class="xref" href=
          "../general/libpaper.html" title=
          "libpaper-1.1.24+nmu4">libpaper-1.1.24+nmu4</a> (used by at least
          context and xelatex), <a class="xref" href="../general/libpng.html"
          title="libpng-1.6.16">libpng-1.6.16</a>, <a class="xref" href=
          "../general/poppler.html" title="Poppler-0.31.0">Poppler-0.31.0</a>
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          The source ships with its own versions of several libraries which
          are either not under active development, or only used for limited
          functionality. If you install these, as with some other optional
          dependencies in this book you will need to tell <span class=
          "command"><strong>configure</strong></span> to use the system
          versions. <a class="ulink" href=
          "http://libgd.bitbucket.org">GD</a>, <a class="ulink" href=
          "http://fossies.org/linux/misc/t1lib-5.1.2.tar.gz/">t1lib</a>,
          <a class="ulink" href=
          "http://sourceforge.net/projects/zziplib/">ZZIPlib</a>, <a class=
          "ulink" href=
          "http://scripts.sil.org/cms/scripts/page.php?site_id=nrsi&amp;id=TECkitDownloads">
          TECkit</a>
        </p>
        <h4>
          Runtime dependencies
        </h4>
        <p class="recommended">
          <a class="xref" href="../general/python2.html" title=
          "Python-2.7.9">Python-2.7.9</a> is used by many scripts. <a class=
          "xref" href="../general/ruby.html" title=
          "Ruby-2.2.0">Ruby-2.2.0</a> is used by some scripts, mostly within
          mtx_context which is part of <span class=
          "application">conTeXt</span>, but also for one or two others, such
          as match_parens, which are generally useful.
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/texlive">http://wiki.linuxfromscratch.org/blfs/wiki/texlive</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of TeX Live
        </h2>
        <p>
          Install TeX Live by running the following commands:
        </p>
        <pre class="userinput">
<kbd class=
"command">TEXARCH=$(uname -m | sed -e 's/i.86/i386/' -e 's/$/-linux/') &amp;&amp;
mkdir texlive-build &amp;&amp;
cd texlive-build    &amp;&amp;

../configure                                        \
    --prefix=/opt/texlive/2014                      \
    --bindir=/opt/texlive/2014/bin/$TEXARCH         \
    --datarootdir=/opt/texlive/2014                 \
    --includedir=/usr/include                       \
    --infodir=/opt/texlive/2014/texmf-dist/doc/info \
    --libdir=/usr/lib                               \
    --mandir=/opt/texlive/2014/texmf-dist/doc/man   \
    --disable-native-texlive-build                  \
    --disable-static --enable-shared                \
    --with-system-cairo                             \
    --with-system-fontconfig                        \
    --with-system-freetype2                         \
    --with-system-graphite2                         \
    --with-system-harfbuzz                          \
    --with-system-icu                               \
    --with-system-libgs                             \
    --with-system-libpaper                          \
    --with-system-libpng                            \
    --with-system-pixman                            \
    --with-system-poppler                           \
    --with-system-xpdf                              \
    --with-system-zlib                              \
    --with-banner-add=" - BLFS" &amp;&amp;
unset TEXARCH &amp;&amp;

make</kbd>
</pre>
        <p>
          To test the results, issue: <span class="command"><strong>make -k
          check</strong></span> One test in each of web2c, dvipng and ttf2pk2
          will SKIP because kpathsea has not yet been installed.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install &amp;&amp;
make texlinks</kbd>
</pre>
        <p>
          And now, install the additional files as the <code class=
          "systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">mkdir -pv /opt/texlive/2014 &amp;&amp;
tar -xf ../../texlive-20140525-texmf.tar.xz -C /opt/texlive/2014 --strip-components=1</kbd>
</pre>
        <p>
          Now proceed to <a class="xref" href="tex-path.html" title=
          "Setting the PATH for TeX Live">Setting the PATH for TeX Live</a>.
        </p>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>--prefix=, --bindir=, --datarootdir=,
          --infodir=, --mandir= ...</code></em> : these switches ensure that
          the files installed from source will overwrite any corresponding
          files previously installed by <span class=
          "application">install-tl-unx</span> so that the alternative methods
          of installing <span class="application">texlive</span> are
          consistent..
        </p>
        <p>
          <em class="parameter"><code>--includedir=, --libdir=
          ...</code></em> : these switches ensure that the libraries will be
          found at runtime, and that programs can be compiled against them.
        </p>
        <p>
          <em class="parameter"><code>--disable-static</code></em>: This
          switch prevents installation of static versions of the libraries.
        </p>
        <p>
          <em class="parameter"><code>--enable-shared</code></em>: Use shared
          versions of <code class="filename">libkpathsea</code> and
          <code class="filename">libptexenc</code>.
        </p>
        <p>
          <em class="parameter"><code>--with-system-...</code></em>: Unless
          this parameter is used, the included versions of these libraries
          will be statically compiled into the programs which need them. If
          you decided not to install a recommended library, omit the
          corresponding switch.
        </p>
        <p>
          <em class="parameter"><code>--with-system-xpdf</code></em>:
          Uniquely, this parameter has a non-standard meaning, it tells
          <span class="command"><strong>configure</strong></span> to use the
          system-installed <span class="application">poppler</span> headers
          and library. Again, omit this if you have not installed
          <span class="application">poppler</span>.
        </p>
        <p>
          <code class="option">--without-x</code>: use this if you do not
          have Xorg installed.
        </p>
        <p>
          <em class="parameter"><code>make texlinks</code></em> : this runs
          the texlinks.sh script to create (or recreate) symbolic links from
          formats to engines. In practice, several of the targets such as
          <span class="command"><strong>xetex</strong></span> are now
          separate binaries and for these it will report "file already
          exists".
        </p>
        <p>
          <em class="parameter"><code>tar -xf texlive-20140525-texmf.tar.xz
          -C /opt/texlive/2014 --strip-components=1</code></em>: the tarball
          contains the files for the texmf-dist directory, and because of its
          size we do not want to waste time and space untarring it and then
          copying the files.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">Over 300 binaries and symlinks to
              scripts</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libkpathsea.so, libptexenc.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/opt/texlive/2014/bin,
              /opt/texlive/2014/texmf-dist, /usr/include/kpathsea,
              /usr/include/ptexenc</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="texlive-programs" name=
                    "texlive-programs"></a><span class="term"><span class=
                    "command"><strong>TeX&nbsp;programs</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    The programs included in <span class=
                    "application">TeX</span> are too numerous to individually
                    list. Please refer to the individual program HTML and PDF
                    pages in the installation directory's <code class=
                    "filename">2014/doc.html</code> file, or the various
                    html, man, or pdf files within the subdirectories of
                    <code class="filename">2014/texmf-dist/</code>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libkpathsea" name="libkpathsea"></a><span class=
                    "term"><code class=
                    "filename">libkpathsea.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    (kpathsearch) exists to look up a file in a list of
                    directories.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libptexenc" name="libptexenc"></a><span class=
                    "term"><code class="filename">libptexenc.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a library for Japanese pTeX (publishing TeX).
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2015-02-27 16:25:31 -0800
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="tl-installer.html" title=
          "install-tl-unx">Prev</a>
          <p>
            install-tl-unx
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="tex-path.html" title=
          "Setting the PATH for TeX Live">Next</a>
          <p>
            Setting the PATH for TeX Live
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="typesetting.html" title=
          "Chapter&nbsp;48.&nbsp;Typesetting">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.7">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
