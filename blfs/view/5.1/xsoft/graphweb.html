<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      Chapter&nbsp;35.&nbsp;Graphical Web Browsers
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.65.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body>
    <div class="navheader">
      <div class="headertitles">
        <p>
          Beyond Linux From Scratch - Version 5.1
        </p>
        <p>
          <b>Part&nbsp;XI.&nbsp;X Software</b>
        </p>
      </div>
      <div class="headerlinks">
        <div class="prev">
          <a accesskey="p" href="openoffice.html">Prev</a>
        </div>
        <div class="next">
          <a accesskey="n" href="firefox.html">Next</a>
        </div>
        <div class="home">
          <a accesskey="h" href="../index.html">Home</a>
        </div>
      </div>
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <h1 class="chapter">
          Graphical Web Browsers
        </h1>
      </div>
      <p>
        This chapter contains a wonderful selection of browsers. We hope you
        can find one you enjoy using or give them each a trial run.
      </p>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="mozilla" name="mozilla"></a>
          <h2 class="sect1">
            Mozilla-1.6
          </h2>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h3 class="sect2">
              Introduction to Mozilla
            </h3>
          </div>
          <p>
            <span class="application">Mozilla</span> is a browser suite, the
            Open Source sibling of <span class="application">Netscape</span>.
            It includes the browser, composer, mail client, a calendar client
            and an <span class="acronym">IRC</span> client.
          </p>
          <p>
            The Mozilla project also hosts two subprojects that aim to
            satisfy the needs of users who don't need the complete browser
            suite or like to have separate applications for browsing and
            e-mail. These subprojects are <a href=
            "http://www.mozilla.org/products/firefox/">Mozilla Firefox</a>,
            (a stand-alone browser based on the Mozilla source code) and
            <a href="http://www.mozilla.org/projects/thunderbird/">Mozilla
            Thunderbird</a>, (a stand-alone mail client based on the Mozilla
            source code). The build instructions for these two applications
            are discussed in separate sections:
          </p>
          <div class="itemizedlist">
            <ul>
              <li>
                <p>
                  <a href="firefox.html">MozillaFirefox-0.8</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="other.html#thunderbird">MozillaThunderbird-0.5</a>
                </p>
              </li>
            </ul>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="id3135426" name="id3135426"></a>Package
                    information
                  </h4>
                </div>
              </div>
            </div>
            <div class="itemizedlist">
              <ul compact="compact">
                <li>
                  <p>
                    Download (HTTP): <a href=
                    "http://ftp.mozilla.org/pub/mozilla/releases/mozilla1.6/src/mozilla-source-1.6.tar.bz2">
                    http://ftp.mozilla.org/pub/mozilla/releases/mozilla1.6/src/mozilla-source-1.6.tar.bz2</a>
                  </p>
                </li>
                <li>
                  <p>
                    Download (FTP): <a href=
                    "ftp://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.6/src/mozilla-source-1.6.tar.bz2">
                    ftp://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.6/src/mozilla-source-1.6.tar.bz2</a>
                  </p>
                </li>
                <li>
                  <p>
                    Download size: 39 MB
                  </p>
                </li>
                <li>
                  <p>
                    Estimated Disk space required: 550 MB
                  </p>
                </li>
                <li>
                  <p>
                    Estimated build time: 22.64 SBU
                  </p>
                </li>
              </ul>
            </div>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="id3135463" name="id3135463"></a><span class=
                    "application">Mozilla</span> dependencies
                  </h4>
                </div>
              </div>
            </div>
            <div class="sect4" lang="en" xml:lang="en">
              <div class="titlepage">
                <div>
                  <div>
                    <h5 class="title">
                      <a id="id3135486" name="id3135486"></a>Required
                    </h5>
                  </div>
                </div>
              </div>
              <p>
                <a href="../general/zip.html">Zip-2.3</a>, <a href=
                "../x/gtk2.html">GTK+-2.4.1</a>, <a href=
                "../gnome/libIDL.html">libIDL-0.8.3</a>, <a href=
                "../general/libmng.html">libmng-1.0.7</a> and <a href=
                "../general/which.html">which-2.16</a>
              </p>
            </div>
            <div class="sect4" lang="en" xml:lang="en">
              <div class="titlepage">
                <div>
                  <div>
                    <h5 class="title">
                      <a id="id3135519" name="id3135519"></a>Recommended
                    </h5>
                  </div>
                </div>
              </div>
              <p>
                <a href="../postlfs/gnupg.html">GnuPG-1.2.4</a> (for Enigmail
                extension)
              </p>
            </div>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="id3135532" name="id3135532"></a>Additional
                    downloads
                  </h4>
                </div>
              </div>
            </div>
            <div class="itemizedlist">
              <ul compact="compact">
                <li>
                  <p>
                    <a href="http://enigmail.mozdev.org/">Enigmail Extension
                    (Version 0.83.6)</a> (Useful only if Mozilla Mail is
                    built)
                  </p>
                </li>
                <li>
                  <p>
                    <a href="http://enigmail.mozdev.org/">Inter Process
                    Communicaton Extension (Version 1.0.5)</a> (Needed for
                    Enigmail)
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h3 class="sect2">
              Installation of Mozilla
            </h3>
          </div>
          <div class="admonition">
            <div class="admonhead">
              <img alt="[Warning]" src="../images/warning.png" />
              <h3 class="warning">
                Warning
              </h3>
            </div>
            <div class="admonbody">
              <p>
                Do not install Mozilla, Mozilla Firefox and Mozilla
                Thunderbird with a single prefix since they install
                identically named files. The BLFS Book installs Mozilla in
                <tt class="filename">/usr</tt> while Mozilla Firefox and
                Mozilla Thunderbird are installed in <tt class=
                "filename">/opt</tt>.
              </p>
            </div>
          </div>
          <p>
            If you plan to install Enigmail, extract the ipc and enigmail
            tarballs in the <tt class="filename">extensions</tt> directory.
          </p>
          <p>
            Compile <span class="application">Mozilla</span> by running the
            following commands:
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class=
"command">export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1" &amp;&amp;
./configure --prefix=/usr \
            --with-default-mozilla-five-home=/usr/lib/mozilla \
            --enable-default-toolkit=gtk2 \
            --with-x --with-system-zlib \
            --with-system-jpeg --with-system-png --with-system-mng \
            --enable-xft --enable-crypto \
            --disable-accessibility \
            --disable-tests --disable-debug \
            --disable-logging --enable-reorder \
            --enable-strip --disable-pedantic \
            --enable-cpp-rtti --enable-extensions=all &amp;&amp;
make</b></span></tt>
</pre>
          <p>
            If installing Enigmail, execute the following steps:
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class=
"command">build/autoconf/make-makefile extensions/ipc extensions/enigmail &amp;&amp;
make -C extensions/ipc &amp;&amp;
make -C extensions/enigmail</b></span></tt>
</pre>
          <p>
            Install <span class="application">Mozilla</span> as follows:
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class="command">make install &amp;&amp;
install -d /usr/include/mozilla-1.6/nss &amp;&amp;
cp -Lf dist/private/nss/*.h dist/public/nss/*.h \
   /usr/include/mozilla-1.6/nss &amp;&amp;
ln -nsf mozilla-1.6 /usr/include/mozilla &amp;&amp;
ln -nsf mozilla-1.6 /usr/lib/mozilla</b></span></tt>
</pre>
          <p>
            Some libraries installed by mozilla are also needed by other
            packages. These libraries should be in <tt class=
            "filename">/usr/lib</tt> so that other packages can link against
            them. Move them as follows:
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class=
"command">for i in lib{nspr4,plc4,plds4,nss3,smime3,softokn3,ssl3}.so libsoftokn3.chk
do
   mv /usr/lib/mozilla-1.6/$i /usr/lib/
   ln -sf ../$i /usr/lib/mozilla-1.6/
done</b></span></tt>
</pre>
          <p>
            Install Enigmail as follows:
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class=
"command">make -C extensions/ipc install &amp;&amp;
make -C extensions/enigmail install</b></span></tt>
</pre>
          <p>
            To enable multi-user operation, execute the following:
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class=
"command">cd /usr/lib/mozilla-1.6 &amp;&amp;
export LD_LIBRARY_PATH="/usr/lib/mozilla-1.6" &amp;&amp;
export MOZILLA_FIVE_HOME="/usr/lib/mozilla-1.6" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find /usr/lib/mozilla-1.6 -name *.rdf`</b></span></tt>
</pre>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h3 class="sect2">
              Optional Extra Switches
            </h3>
          </div>
          <p>
            Each of these switches can be added to the configure line in
            order to have the described effect on the <span class=
            "application">Mozilla</span> compile.
          </p>
          <p>
            <tt class="option">--enable-elf-dynstr-gc</tt>: Removes
            un-referenced strings from <span class="acronym">ELF</span>
            shared objects generated during the build. Note that this option
            breaks the build on alpha.
          </p>
          <p>
            <tt class="option">--disable-mailnews</tt>: Disable the mail and
            news clients.
          </p>
          <p>
            <tt class="option">--disable-ldap</tt>: Disable <span class=
            "acronym">LDAP</span> support, recommended if mail is disabled.
          </p>
          <p>
            <tt class="option">--enable-calendar</tt>: Build the calendar
            client.
          </p>
          <p>
            <tt class="option">--enable-xterm-updates</tt>: This option is
            for enabling the <span><b class="command">xterm</b></span> title
            with the current command when compiling.
          </p>
          <p>
            <tt class="option">--enable-plaintext-editor-only</tt>: Disable
            support for <span class="acronym">HTML</span> editing. Do not use
            this switch if you are building the mail-news component.
          </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h3 class="sect2">
              Command explanations
            </h3>
          </div>
          <pre class="screen">
<span><b class="command">export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1"</b></span>
</pre>
          <p>
            Set some variables that affect what and how the package is built.
            The first two exports specify a distribution is being built.
          </p>
          <p>
            <i class="parameter"><tt>--prefix=/usr</tt></i>: Previously
            mozilla did not support the make install option. Hence, the
            package was installed in <tt class="filename">/opt</tt>. The
            package now supports "make install" and follows the <span class=
            "acronym">FHS</span> guidelines for installation. Therefore the
            book now recommends installation in a system wide prefix such as
            <tt class="filename">/usr</tt> .
          </p>
          <pre class="screen">
<tt class="option">--enable-toolkit-gtk2</tt>
</pre>
          <p>
            Use gtk2 toolkit.
          </p>
          <pre class="screen">
<tt class="option">--with-system-zlib --with-system-jpeg \
--with-system-png --with-system-mng</tt>
</pre>
          <p>
            Use the system versions for these packages.
          </p>
          <p>
            <tt class="option">--enable-xft</tt>: Enable the Xft support. You
            need <span class="application">fontconfig</span> or the latest
            <span class="application">XFree86</span> version to enable xft.
          </p>
          <p>
            <tt class="option">--enable-crypto</tt>: Enable the Personal
            Security Manager to enable <span class="acronym">SSL</span>
            connections.
          </p>
          <pre class="screen">
<tt class="option">--disable-jsd --disable-accessibility \
--disable-tests --disable-debug \
--disable-dtd-debug \
--disable-logging --enable-reorder \
--enable-strip \
--enable-cpp-rtti</tt>
</pre>
          <p>
            Various options that affect what components are built and some
            optimization options. You can pick and choose from these options.
            More information on them can be found in the <span class=
            "application">Mozilla</span> <span><b class=
            "command">configure</b></span> script help. Not all options are
            used in the instructions given above.
          </p>
          <p>
            <tt class="option">--enable-extensions=...</tt>: Enables
            extensions. If you want, you can disable all extensions other
            than the browser by changing this switch to <i class=
            "parameter"><tt>--enable-extensions="default,-venkman,-inspector,-irc"</tt></i>.
            For a short description of the various extensions available with
            the mozilla source, see <a href=
            "http://linuxfromscratch.org/~tushar/downloads/mozilla-extensions.txt">
            http://linuxfromscratch.org/~tushar/downloads/mozilla-extensions.txt</a>.
          </p>
          <pre class="screen">
<span><b class="command">install -d /usr/include/mozilla-1.6/nss
cp -Lf dist/private/nss/*.h dist/public/nss/*.h \
   /usr/include/mozilla-1.6/nss</b></span>
</pre>
          <p>
            Copy the nss headers that are not copied by make install.
          </p>
          <p>
            <span><b class="command">ln -nsf mozilla-1.6 ...</b></span>:
            <span class="application">Mozilla</span> installs headers and
            libraries in version specific directories. This command makes
            symbolic links so that applications that depend on <span class=
            "application">Mozilla</span> (such as <span class=
            "application">OpenOffice</span> , <span class=
            "application">Galeon</span>, etc.) don't need to know which
            version of <span class="application">Mozilla</span> is installed.
          </p>
          <pre class="screen">
<span><b class=
"command">export LD_LIBRARY_PATH="/usr/lib/mozilla-1.6" &amp;&amp;
export MOZILLA_FIVE_HOME="/usr/lib/mozilla-1.6" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find /usr/lib/mozilla-${VERSION} -name *.rdf`</b></span>
</pre>
          <p>
            Create the required component registries to enable multi-user
            installs. These steps should be preformed by the root user each
            time a mozilla add-on is installed. This will allow normal users
            to run mozilla.
          </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h3 class="sect2">
              Configuring Mozilla
            </h3>
          </div>
          <p>
            No specific configuration is required as long as the
            <span><b class="command">mozilla</b></span> binary is in the path
            for the user. If <span class="application">Mozilla</span> is
            installed in a non-standard location, then make a symlink to the
            <span><b class="command">mozilla</b></span> binary from
            <tt class="filename">/usr/bin</tt>. The same thing applies for
            <span class="application">Mozilla Firefox</span> and <span class=
            "application">Mozilla Thunderbird</span>.
          </p>
          <p>
            Many applications look for <span><b class=
            "command">netscape</b></span> when they need to open a browser.
            You may make the following symlink for convenience.
          </p>
          <pre class="screen">
<tt class="userinput"><span><b class=
"command">ln -sf mozilla /usr/bin/netscape</b></span></tt>
</pre>
          <p>
            For installing various <span class="application">Mozilla</span>
            plugins, refer to <a href=
            "http://plugindoc.mozdev.org/linux.html">Mozdev's PluginDoc
            Project</a>
          </p>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h3 class="sect2">
              Contents
            </h3>
          </div>
          <p>
            The <span class="application">Mozilla</span> package contains
            <span><b class="command">mozilla</b></span>. The various
            components such as composer and mail-news can be accessed from
            the menu after <span><b class="command">mozilla</b></span> starts
            or via command-line switches to the <span><b class=
            "command">mozilla</b></span> binary.
          </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <div class="prev">
        <a accesskey="p" href="openoffice.html">Prev</a><br />
        OpenOffice-1.1.1
      </div>
      <div class="next">
        <a accesskey="n" href="firefox.html">Next</a><br />
        MozillaFirefox-0.8
      </div>
      <div class="up">
        <a accesskey="u" href="xsoft.html">Up</a>
      </div>
      <div class="home">
        <a accesskey="h" href="../index.html">Home</a>
      </div>
    </div>
  </body>
</html>
