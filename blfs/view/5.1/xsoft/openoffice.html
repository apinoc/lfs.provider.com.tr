<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      OpenOffice-1.1.1
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.65.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body>
    <div class="navheader">
      <div class="headertitles">
        <p>
          Beyond Linux From Scratch - Version 5.1
        </p>
        <p>
          <b>Chapter&nbsp;34.&nbsp;Office Suites</b>
        </p>
      </div>
      <div class="headerlinks">
        <div class="prev">
          <a accesskey="p" href="suites.html">Prev</a>
        </div>
        <div class="next">
          <a accesskey="n" href="graphweb.html">Next</a>
        </div>
        <div class="home">
          <a accesskey="h" href="../index.html">Home</a>
        </div>
      </div>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <h1 class="sect1">
          OpenOffice-1.1.1
        </h1>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h3 class="sect2">
            Introduction to OpenOffice
          </h3>
        </div>
        <p>
          The <span class="application">OpenOffice</span> is an office suite,
          the Open Source sibling of <span class=
          "application">StarOffice</span>.
        </p>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3131279" name="id3131279"></a>Package information
                </h4>
              </div>
            </div>
          </div>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Download (HTTP): <a href=
                  "http://download.openoffice.org/1.1.1/source.html">http://download.openoffice.org/1.1.1/source.html</a>
                </p>
              </li>
              <li>
                <p>
                  Download (FTP): <a href=""></a>
                </p>
              </li>
              <li>
                <p>
                  Download size: 189 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated Disk space required: 5.0 GB
                </p>
              </li>
              <li>
                <p>
                  Estimated build time:
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3131881" name="id3131881"></a><span class=
                  "application">OpenOffice</span> dependencies
                </h4>
              </div>
            </div>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id3131894" name="id3131894"></a>Required
                  </h5>
                </div>
              </div>
            </div>
            <p>
              X (<a href="../x/xfree86.html">XFree86-4.4.0</a> or <a href=
              "../x/installing.html#xorg">X.org-6.7.0</a>), <a href=
              "../general/zip.html">Zip-2.3</a>, <a href=
              "../general/unzip.html">UnZip-5.51</a>, <a href=
              "../postlfs/tcsh.html">Tcsh-6.13.00</a>, <a href=
              "../general/which.html">which-2.16</a>
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id3131934" name="id3131934"></a>Recommended
                  </h5>
                </div>
              </div>
            </div>
            <p>
              <a href="../general/j2sdk.html">J2SDK-1.4.2</a>
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id3131945" name="id3131945"></a>Optional
                  </h5>
                </div>
              </div>
            </div>
            <p>
              <a href="../postlfs/linux_pam.html">Linux-PAM-0.77</a>,
              <a href="../gnome/libart_lgpl.html">libart_lgpl-2.3.16</a>,
              <a href=
              "../x/startup-notification.html">startup-notification-0.6</a>
              and <a href="http://ant.apache.org/">Apache Ant</a>
            </p>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3131974" name="id3131974"></a>Additional downloads
                </h4>
              </div>
            </div>
          </div>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  General Polygon Clipper Library (Optional if <a href=
                  "../gnome/libart_lgpl.html">libart_lgpl-2.3.16</a> is
                  used): <a href=
                  "ftp://ftp.cs.man.ac.uk/pub/toby/gpc/gpc231.tar.Z">ftp://ftp.cs.man.ac.uk/pub/toby/gpc/gpc231.tar.Z</a>
                </p>
              </li>
              <li>
                <p>
                  Required patch (Executable <span><b class=
                  "command">test</b></span> is in <tt class=
                  "filename">/bin</tt>, not in <tt class=
                  "filename">/usr/bin</tt>): <a href=
                  "http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-test-bin-loc.patch">
                  http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-test-bin-loc.patch</a>
                </p>
              </li>
              <li>
                <p>
                  Required patch if <a href=
                  "../postlfs/linux_pam.html">Linux-PAM-0.77</a> is not
                  installed: <a href=
                  "http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-no-pam.patch">
                  http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-no-pam.patch</a>
                </p>
              </li>
              <li>
                <p>
                  Required patch if compiling with <span class=
                  "acronym">JDK</span> 1.4.2: <a href=
                  "http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-jdk-1.4.2-fix.patch">
                  http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-jdk-1.4.2-fix.patch</a>
                </p>
              </li>
              <li>
                <p>
                  Recommended patch: <a href=
                  "http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-domainname.patch">
                  http://www.linuxfromscratch.org/patches/blfs/5.1/openoffice-1.1.1-domainname.patch</a>
                </p>
              </li>
              <li>
                <p>
                  The source <span class="acronym">TAR</span> ball only
                  contains English language help. A localized help content
                  file may be available at <a href=
                  "http://ftp.services.openoffice.org/pub/OpenOffice.org/contrib/helpcontent/">
                  http://ftp.services.openoffice.org/pub/OpenOffice.org/contrib/helpcontent/</a>.
                </p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h3 class="sect2">
            Installation of OpenOffice
          </h3>
        </div>
        <p>
          Apply the downloaded patches and optionally copy the gpc files.
        </p>
        <pre class="screen">
<tt class="userinput"><span><b class=
"command">mv ../gpc231/* external/gpc &amp;&amp;
for p in ../openoffice-1.1.1-*.patch
do patch -Np1 -i $p
done</b></span></tt>
</pre>
        <p>
          If you want to optimize the build, edit <tt class=
          "filename">solenv/inc/unxlngi4.mk</tt> and add the desired
          optimization flags to the <tt class="envar">CFLAGSOPT</tt>
          variable. Some users have reported problems with
          -fomit-frame-pointer. The best option is to not use any custom
          optimizations. The following command removes an incorrect -mcpu
          option in the above file.
        </p>
        <pre class="screen">
<tt class="userinput"><span><b class=
"command">sed -i "s:\-mcpu=pentiumpro::" \
solenv/inc/unxlngi4.mk</b></span></tt>
</pre>
        <p>
          Configure openoffice using the following commands. You may build
          install sets for only specific languages based on your preferences.
          If a particular component is not available in the language of your
          choice, the default will be English. The following option compiles
          all available languages. If you restrict the languages, be sure to
          add ENUS to the list; otherwise the build fails. Also, the build
          fails when the environment variable <tt class="envar">LANG</tt> is
          set. Unset it before compiling.
        </p>
        <pre class="screen">
<tt class="userinput"><span><b class="command">cd config_office/ &amp;&amp;
./configure --with-lang=ALL \
--with-dict=ALL --without-fonts \
--enable-libsn --with-system-zlib &amp;&amp;
cd ..</b></span></tt>
</pre>
        <p>
          Compile <span class="application">OpenOffice</span> using the
          following commands.
        </p>
        <div class="admonition">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="note">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              Openoffice fails to compile if the umask is set to something
              exotic. Set umask to 022 if you normally set it to something
              else.
            </p>
          </div>
        </div>
        <pre class="screen">
<tt class="userinput"><span><b class="command">./bootstrap &amp;&amp;
bash -c "source LinuxIntelEnv.Set.sh; dmake"</b></span></tt>
</pre>
        <p>
          If you have downloaded localized help content zip files, you will
          need to unzip them to the appropriate directory as mentioned below
          and then recreate the installation set.
        </p>
        <pre class="screen">
<tt class="userinput"><span><b class=
"command">cd solver/645/unxlngi4.pro/pck &amp;&amp;
for i in $(ls ../../../../../helpcontent_*_unix.tgz)
do
tar -xvzf $i
done &amp;&amp;
cd ../../../../instsetoo &amp;&amp;
rm -rf unxlngi4.pro &amp;&amp;
cd .. &amp;&amp;
bash -c "source LinuxIntelEnv.Set.sh ; dmake"</b></span></tt>
</pre>
        <p>
          Install <span class="application">OpenOffice</span> using the
          following commands to install the English language set. To install
          a localized version, replace the 01 with the international
          telephone country code for your country. Note that when installing,
          <span class="application">OpenOffice</span> needs an <span class=
          "application">X</span> display, even though there is no visible
          <span class="application">X</span> window. You can use <span class=
          "application">Xvfb</span> if you are compiling on a console.
        </p>
        <pre class="screen">
<tt class="userinput"><span><b class=
"command">cd instsetoo/unxlngi4.pro/01/normal &amp;&amp;
sed -i "s:^oo_home=.*:oo_home=openoffice:" install &amp;&amp;
./install --prefix=/opt &amp;&amp;
for appl in swriter scalc sdraw simpress smath soffice spadmin
do ln -sf /opt/openoffice/program/$appl /usr/bin/$appl
done</b></span></tt>
</pre>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h3 class="sect2">
            Command explanations
          </h3>
        </div>
        <p>
          <span><b class="command">mv ../gpc231/gpc.*
          external/gpc</b></span>: Copy the gpc files to the appropriate
          location.
        </p>
        <p>
          <i class="parameter"><tt>--with-lang=ALL</tt></i>: Make install
          sets for all available languages.
        </p>
        <p>
          <i class="parameter"><tt>--with-dict=ALL</tt></i>: Install
          dictionaries for all available languages..
        </p>
        <p>
          <i class="parameter"><tt>--with-libart</tt></i>: Use libart instead
          of gpc for polygon clipping.
        </p>
        <p>
          <i class="parameter"><tt>--with-libsn</tt></i>: Use
          startup-notification.
        </p>
        <p>
          <i class="parameter"><tt>--disable-java</tt></i>: Do not build
          components that need java.
        </p>
        <p>
          <i class="parameter"><tt>--without-gpc</tt></i>: Do not use gpc.
          Removes polygon clipping capability.
        </p>
        <p>
          <i class="parameter"><tt>--without-fonts</tt></i>: Do not install
          Bitstream Vera fonts since they are already bundled with X.
        </p>
        <p>
          <span><b class="command">./bootstrap</b></span>: Create packages
          required to bootstrap the build.
        </p>
        <p>
          <span><b class="command">dmake</b></span>: Compile the package.
        </p>
        <p>
          <span><b class="command">sed -i "s:^oo_home=...</b></span>: Remove
          version specific installation directory.
        </p>
        <p>
          <span><b class="command">for appl in swriter scalc sdraw simpress
          smath soffice; do ...</b></span>: Create links so that the package
          can be started from the command-line without changes to the
          existing path.
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h3 class="sect2">
            Contents
          </h3>
        </div>
        <p>
          The <span class="application">OpenOffice</span> package contains
          <span><b class="command">swriter</b></span>, <span><b class=
          "command">simpress</b></span>, <span><b class=
          "command">scalc</b></span>, <span><b class=
          "command">sdraw</b></span>, <span><b class=
          "command">smath</b></span>, and <span><b class=
          "command">spadmin</b></span>.
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h3 class="sect2">
            Description
          </h3>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3132766" name="id3132766"></a>swriter
                </h4>
              </div>
            </div>
          </div>
          <p>
            Word processing application.
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3132774" name="id3132774"></a>simpress
                </h4>
              </div>
            </div>
          </div>
          <p>
            Presentation application.
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3132782" name="id3132782"></a>scalc
                </h4>
              </div>
            </div>
          </div>
          <p>
            Spreadsheet application.
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3132790" name="id3132790"></a>sdraw
                </h4>
              </div>
            </div>
          </div>
          <p>
            Drawing application.
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3132798" name="id3132798"></a>smath
                </h4>
              </div>
            </div>
          </div>
          <p>
            Mathematical formula editor.
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id3132806" name="id3132806"></a>spadmin
                </h4>
              </div>
            </div>
          </div>
          <p>
            OpenOffice Printer Configuration. You may need to run this if you
            are having any printing problems.
          </p>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <div class="prev">
        <a accesskey="p" href="suites.html">Prev</a><br />
        Chapter&nbsp;34.&nbsp;Office Suites
      </div>
      <div class="next">
        <a accesskey="n" href="graphweb.html">Next</a><br />
        Chapter&nbsp;35.&nbsp;Graphical Web Browsers
      </div>
      <div class="up">
        <a accesskey="u" href="suites.html">Up</a>
      </div>
      <div class="home">
        <a accesskey="h" href="../index.html">Home</a>
      </div>
    </div>
  </body>
</html>
