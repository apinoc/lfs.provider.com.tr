<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      OpenOffice-1.1.4
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.1">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.1
        </h4>
        <h3>
          Chapter&nbsp;34.&nbsp;Office Suites
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="suites.html" title="Office Suites">Prev</a>
          <p>
            Office Suites
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="graphweb.html" title=
          "Graphical Web Browsers">Next</a>
          <p>
            Graphical Web Browsers
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="suites.html" title=
          "Chapter&nbsp;34.&nbsp;Office Suites">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.1">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="openoffice" name="openoffice"></a>
        <h1 class="sect1">
          OpenOffice-1.1.4
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to OpenOffice
          </h2>
        </div>
        <p>
          <span class="application">OpenOffice</span> is an office suite, the
          open source sibling of <span class="application">StarOffice</span>.
        </p>
        <h3>
          <a id="id2815221" name="id2815221"></a>Package Information
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Download (HTTP): <a href=
                "http://download.openoffice.org/1.1.4/source.html"><span class="url">
                http://download.openoffice.org/1.1.4/source.html</span></a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a href=
                "ftp://ftp.ussg.iu.edu/pub/openoffice/stable/1.1.4/OOo_1.1.4_source.tar.gz">
                <span class=
                "url">ftp://ftp.ussg.iu.edu/pub/openoffice/stable/1.1.4/OOo_1.1.4_source.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 20c10db97865ae4c51dc827d668b8939
              </p>
            </li>
            <li>
              <p>
                Download size: 214 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 2.8 GB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 75 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2587301" name="id2587301"></a>Additional Downloads
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Required security patch: <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-security-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-security-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch for gcc-3.4.3: <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-gcc_3.4.2+_fixes-2.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-gcc_3.4.2+_fixes-2.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch for use with NPTL: <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-nptl-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-nptl-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch if compiling with <span class=
                "application">JDK</span>-1.5.0: <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-jdk_1.5.0_fix-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-jdk_1.5.0_fix-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch (Executable <span><strong class=
                "command">test</strong></span> is in <tt class=
                "filename">/bin</tt>, not in <tt class=
                "filename">/usr/bin</tt>): <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-test_bin_loc-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-test_bin_loc-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch for STLport-4.6.2: <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-STLport_4.6.2-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-STLport_4.6.2-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch for use with glibc-2.3.4: <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-doublefree-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-doublefree-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Optional patch if you wish to use the system freetype:
                <a href=
                "http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-freetype-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-freetype-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Optional patch if <span class=
                "application">Linux-PAM</span>-0.80 is not installed:
                <a href="http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-no_pam-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/blfs/downloads/6.1/OOo_1.1.4-no_pam-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                STLport-4.6.2: <a href=
                "http://www.stlport.org/archive/STLport-4.6.2.tar.gz"><span class="url">
                http://www.stlport.org/archive/STLport-4.6.2.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                The source TAR ball only contains English language help. A
                localized help content file may be available at: <a href=
                "http://ftp.services.openoffice.org/pub/OpenOffice.org/contrib/helpcontent/">
                <span class=
                "url">http://ftp.services.openoffice.org/pub/OpenOffice.org/contrib/helpcontent/</span></a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2759188" name="id2759188"></a>OpenOffice Dependencies
        </h3>
        <h4>
          <a id="id2607251" name="id2607251"></a>Required
        </h4>
        <p>
          X (<a href="../x/xfree86.html">XFree86-4.5.0</a> or <a href=
          "../x/installing.html#xorg">X.org-6.8.2</a>), <a href=
          "../general/zip.html">Zip-2.31</a>, <a href=
          "../general/unzip.html">UnZip-5.52</a>, <a href=
          "../postlfs/tcsh.html">Tcsh-6.14.00</a>, and <a href=
          "../general/which.html">which-2.16</a>.
        </p>
        <h4>
          <a id="id2766599" name="id2766599"></a>Recommended
        </h4>
        <p>
          <a href="../general/jdk.html">JDK-1.5.0</a>, <a href=
          "../general/freetype2.html">FreeType-2.1.10</a>, <a href=
          "../general/pkgconfig.html">pkg-config-0.19</a>, <a href=
          "../x/startup-notification.html">startup-notification-0.8</a>,
          <a href=
          "../general/desktop-file-utils.html">desktop-file-utils-0.10</a>,
          <a href="../general/apache-ant.html">Apache Ant-1.6.2</a>, <a href=
          "../general/libart_lgpl.html">libart_lgpl-2.3.17</a>, and <a href=
          "../basicnet/netlibs.html#curl">cURL-7.14.0</a>.
        </p>
        <h4>
          <a id="id2610758" name="id2610758"></a>Optional
        </h4>
        <p>
          <a href="../postlfs/linux_pam.html">Linux-PAM-0.80</a> and <a href=
          "../multimedia/nas.html">NAS-1.7</a>.
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of OpenOffice
          </h2>
        </div>
        <p>
          <span class="application">OpenOffice</span> does not create a
          directory when you extract the TAR ball. Create a build directory
          and extract the source with the following commands:
        </p>
        <pre class="userinput"><kbd class=
        "command">mkdir OOo-build &amp;&amp;
cd OOo-build &amp;&amp;
tar -zxf ../OOo_1.1.4_source.tar.gz</kbd></pre>
        <p>
          Apply all of the downloaded patches:
        </p>
        <pre class="userinput"><kbd class=
        "command">for PATCH in ../OOo_1.1.4-*.patch
    do patch -Np1 -i ${PATCH}
done</kbd></pre>
        <p>
          Copy the STLport TAR ball into the source tree:
        </p>
        <pre class="userinput"><kbd class=
        "command">cp ../STLport-4.6.2.tar.gz stlport/download/</kbd></pre>
        <p>
          STLport looks for the c++ headers in the wrong location. Put a
          temporary symlink in place to satisfy STLport:
        </p>
        <p>
          Now, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class=
        "command">ln -sf /usr/include/c++/3.4.3 /usr/g++-v3</kbd></pre>
        <p>
          Create a temporary symlink to the JRE's <span class=
          "application">motif</span> libraries:
        </p>
        <p>
          Again, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class=
        "command">ln -sf ${JAVA_HOME}/jre/lib/i?86/motif21/libmawt.so /usr/lib</kbd></pre>
        <p>
          If you want to optimize the build, edit <tt class=
          "filename">solenv/inc/unxlngi4.mk</tt> and add the desired
          optimization flags to the <tt class="envar">CFLAGSOPT</tt>
          variable. Some users have reported problems with <tt class=
          "option">-fomit-frame-pointer</tt>. The best option is to not use
          any custom optimizations. The following command removes an
          incorrect <tt class="option">-mcpu</tt> option in the above file:
        </p>
        <p>
          Now, as an unprivileged user:
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -i "s:\-mcpu=pentiumpro::" \
    solenv/inc/unxlngi4.mk</kbd></pre>
        <p>
          Configure <span class="application">OpenOffice</span> using the
          following commands. You may build install sets for specific
          languages based on your preferences. Supply a comma separated list
          to the <tt class="envar">--with-lang=</tt> switch. If a particular
          component is not available in the language of your choice, the
          default will be US English. If you need other languages, be sure to
          add <em class="parameter"><tt>ENUS</tt></em> to the list; otherwise
          the build will fail:
        </p>
        <pre class="userinput"><kbd class=
        "command">cd config_office/ &amp;&amp;
./configure --with-lang=ENUS \
    --with-dict=ENUS --without-fonts \
    --enable-libsn --with-system-zlib \
    --with-system-freetype \
    --with-system-curl --disable-fontooo \
    --enable-libart &amp;&amp;
cd ..</kbd></pre>
        <p>
          <span class="application">OpenOffice</span> fails to compile if
          <span><strong class="command">umask</strong></span> is set to
          something exotic. The build can also fail if the <tt class=
          "envar">LANG</tt> or <tt class="envar">LC_ALL</tt> environment
          variables are set. Use the following commands to change your
          environment accordingly:
        </p>
        <pre class="userinput"><kbd class="command">umask 0022 &amp;&amp;
unset LANG LC_ALL</kbd></pre>
        <p>
          Compile <span class="application">OpenOffice</span> using the
          following commands:
        </p>
        <pre class="userinput"><kbd class="command">./bootstrap &amp;&amp;
bash -c "source LinuxIntelEnv.Set.sh; dmake"</kbd></pre>
        <p>
          If you have downloaded localized help content <tt class=
          "filename">tgz</tt> files, you will need to untar them to the
          appropriate directory as shown below and then recreate the
          installation set:
        </p>
        <pre class="userinput"><kbd class=
        "command">for i in ../helpcontent_*_unix.tgz
  do tar -C solver/645/unxlngi4.pro/pck -zxf $i
  done &amp;&amp;
rm -rf instsetoo/unxlngi4.pro &amp;&amp;
bash -c "source LinuxIntelEnv.Set.sh ; dmake"</kbd></pre>
        <p>
          Install <span class="application">OpenOffice</span> using the
          following commands to install the US English language set. To
          install a localized version, replace the 01 with the international
          telephone country code for your country:
        </p>
        <pre class="userinput"><kbd class=
        "command">cd instsetoo/unxlngi4.pro/01/normal &amp;&amp;
sed -i "s:^oo_home=.*:oo_home=openoffice:" install</kbd></pre>
        <p>
          Now, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class=
        "command">./install --prefix=/opt &amp;&amp;
for appl in sagenda scalc sdraw sfax simpress slabel sletter \
    smaster smath smemo soffice spadmin svcard sweb swriter
  do ln -v -sf /opt/openoffice/program/$appl /usr/bin/$appl
  done</kbd></pre>
        <p>
          If you have installed <a href=
          "../general/desktop-file-utils.html">desktop-file-utils-0.10</a>
          and use <span class="application">KDE</span>, there is no furthur
          configuration necessary. If you use <span class=
          "application">Gnome</span>, you should copy the <tt class=
          "filename">*.desktop</tt> files to <tt class=
          "filename">/usr/share/applications</tt> with the following commands
          as the <tt class="systemitem">root</tt> use:
        </p>
        <pre class="root"><kbd class=
        "command">install -v -d /usr/share/applications -m 755 &amp;&amp;
cp -v /opt/openoffice/share/gnome/net/ooo645*.desktop \
    /usr/share/applications/ &amp;&amp;
rename -v ooo645 ooo /usr/share/applications/ooo645*.desktop</kbd></pre>
        <p>
          Finally, as the <tt class="systemitem">root</tt>user: remove the
          temporary symlinks:
        </p>
        <pre class="root"><kbd class="command">rm /usr/g++-v3 &amp;&amp;
rm /usr/lib/libmawt.so</kbd></pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command Explanations
          </h2>
        </div>
        <p>
          <em class="parameter"><tt>--with-lang=ENUS</tt></em>: Make install
          set for the US English language.
        </p>
        <p>
          <em class="parameter"><tt>--with-dict=ENUS</tt></em>: Install
          dictionaries for the US English language.
        </p>
        <p>
          <em class="parameter"><tt>--enable-libart</tt></em>: Use libart
          instead of gpc for polygon clipping.
        </p>
        <p>
          <em class="parameter"><tt>--enable-libsn</tt></em>: Use
          <span class="application">startup-notification</span>.
        </p>
        <p>
          <em class="parameter"><tt>--without-fonts</tt></em>: Do not install
          Bitstream Vera fonts since they are already bundled with
          <span class="application">X</span>.
        </p>
        <p>
          <em class="parameter"><tt>--with-system-curl</tt></em>: Use the
          system installed curl.
        </p>
        <p>
          <tt class="option">--disable-java</tt>: Do not build components
          that need java.
        </p>
        <p>
          <tt class="option">--without-gpc</tt>: Do not use gpc. Removes
          polygon clipping capability.
        </p>
        <p>
          <span><strong class="command">./bootstrap</strong></span>: Create
          packages required to bootstrap the build.
        </p>
        <p>
          <span><strong class="command">dmake</strong></span>: Compile the
          package.
        </p>
        <p>
          <span><strong class="command">sed -i
          "s:^oo_home=...</strong></span>: Remove version specific
          installation directory.
        </p>
        <p>
          <span><strong class="command">for appl in sagenda scalc sdraw sfax
          ...; do ...</strong></span>: Create links so that the package can
          be started from the command-line without changes to the existing
          path.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">sagenda, scalc,
              sdraw, sfax, simpress, slabel, sletter, smaster, smath, smemo,
              soffice, spadmin, svcard, sweb, swriter, and support
              utilities</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Libraries:</span></strong> <span class="seg"><span class=
              "application">OpenOffice</span> libraries</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directory:</span></strong> <span class=
              "seg">/opt/openoffice</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2652358" name="id2652358"></a>Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <a id="sagenda" name="sagenda"></a><span class=
                  "term"><span><strong class=
                  "command">sagenda</strong></span></span>
                </td>
                <td>
                  <p>
                    create an agenda template and start <span><strong class=
                    "command">swriter</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="scalc" name="scalc"></a><span class=
                  "term"><span><strong class=
                  "command">scalc</strong></span></span>
                </td>
                <td>
                  <p>
                    spreadsheet application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="sdraw" name="sdraw"></a><span class=
                  "term"><span><strong class=
                  "command">sdraw</strong></span></span>
                </td>
                <td>
                  <p>
                    drawing application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="sfax" name="sfax"></a><span class=
                  "term"><span><strong class=
                  "command">sfax</strong></span></span>
                </td>
                <td>
                  <p>
                    create a fax template and start <span><strong class=
                    "command">swriter</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="simpress" name="simpress"></a><span class=
                  "term"><span><strong class=
                  "command">simpress</strong></span></span>
                </td>
                <td>
                  <p>
                    presentation application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="slabel" name="slabel"></a><span class=
                  "term"><span><strong class=
                  "command">slabel</strong></span></span>
                </td>
                <td>
                  <p>
                    create a label template and start <span><strong class=
                    "command">swriter</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="sletter" name="sletter"></a><span class=
                  "term"><span><strong class=
                  "command">sletter</strong></span></span>
                </td>
                <td>
                  <p>
                    create a letter template and start <span><strong class=
                    "command">swriter</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="smaster" name="smaster"></a><span class=
                  "term"><span><strong class=
                  "command">smaster</strong></span></span>
                </td>
                <td>
                  <p>
                    creates a new master document.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="smath" name="smath"></a><span class=
                  "term"><span><strong class=
                  "command">smath</strong></span></span>
                </td>
                <td>
                  <p>
                    mathematical formula editor.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="smemo" name="smemo"></a><span class=
                  "term"><span><strong class=
                  "command">smemo</strong></span></span>
                </td>
                <td>
                  <p>
                    create a memo template and start <span><strong class=
                    "command">swriter</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="soffice" name="soffice"></a><span class=
                  "term"><span><strong class=
                  "command">soffice</strong></span></span>
                </td>
                <td>
                  <p>
                    opens a base window with access to all <span class=
                    "application">OpenOffice</span> applications.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="spadmin" name="spadmin"></a><span class=
                  "term"><span><strong class=
                  "command">spadmin</strong></span></span>
                </td>
                <td>
                  <p>
                    <span class="application">OpenOffice</span> Printer
                    Configuration. You may need to run this if you are having
                    any printing problems.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="svcard" name="svcard"></a><span class=
                  "term"><span><strong class=
                  "command">svcard</strong></span></span>
                </td>
                <td>
                  <p>
                    business card application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="sweb" name="sweb"></a><span class=
                  "term"><span><strong class=
                  "command">sweb</strong></span></span>
                </td>
                <td>
                  <p>
                    an HTML editor.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="swriter" name="swriter"></a><span class=
                  "term"><span><strong class=
                  "command">swriter</strong></span></span>
                </td>
                <td>
                  <p>
                    word processing application.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2005-08-01 13:29:19 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="suites.html" title="Office Suites">Prev</a>
          <p>
            Office Suites
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="graphweb.html" title=
          "Graphical Web Browsers">Next</a>
          <p>
            Graphical Web Browsers
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="suites.html" title=
          "Chapter&nbsp;34.&nbsp;Office Suites">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.1">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
