<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      Chapter&nbsp;35.&nbsp;Graphical Web Browsers
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.1">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.1
        </h4>
        <h3>
          Part&nbsp;X.&nbsp;X Software
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="openoffice.html" title=
          "OpenOffice-1.1.4">Prev</a>
          <p>
            OpenOffice-1.1.4
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="firefox.html" title="Firefox-1.0.6">Next</a>
          <p>
            Firefox-1.0.6
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="xsoft.html" title=
          "Part&nbsp;X.&nbsp;X Software">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.1">Home</a>
        </li>
      </ul>
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="xsoft-graphweb" name="xsoft-graphweb"></a>
        <h1 class="chapter">
          Graphical Web Browsers
        </h1>
      </div>
      <p>
        This chapter contains a wonderful selection of browsers. We hope you
        can find one you enjoy using or give them each a trial run.
      </p>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="mozilla" name="mozilla"></a>
          <h1 class="sect1">
            Mozilla-1.7.8
          </h1>
        </div>
        <div class="package" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Introduction to Mozilla
            </h2>
          </div>
          <p>
            <span class="application">Mozilla</span> is a browser suite, the
            Open Source sibling of <span class="application">Netscape</span>.
            It includes the browser, composer, mail and news clients, a
            calendar client and an IRC client.
          </p>
          <p>
            The <span class="application">Mozilla</span> project also hosts
            two subprojects that aim to satisfy the needs of users who don't
            need the complete browser suite or prefer to have separate
            applications for browsing and e-mail. These subprojects are
            <a href="http://www.mozilla.org/products/firefox/"><span class=
            "url">Mozilla Firefox</span></a>, (a stand-alone browser based on
            the <span class="application">Mozilla</span> source code) and
            <a href=
            "http://www.mozilla.org/products/thunderbird/"><span class=
            "url">Mozilla Thunderbird</span></a>, (a stand-alone mail client
            based on the <span class="application">Mozilla</span> source
            code). The build instructions for these two applications are
            discussed in separate sections:
          </p>
          <div class="itemizedlist">
            <ul>
              <li>
                <p>
                  <a href="firefox.html">Firefox-1.0.6</a>
                </p>
              </li>
              <li>
                <p>
                  <a href="other.html#thunderbird">Thunderbird-1.0.6</a>
                </p>
              </li>
            </ul>
          </div>
          <h3>
            <a id="id2664385" name="id2664385"></a>Package Information
          </h3>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Download (HTTP): <a href=
                  "http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.8/source/mozilla-1.7.8-source.tar.bz2">
                  <span class=
                  "url">http://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.8/source/mozilla-1.7.8-source.tar.bz2</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download (FTP): <a href=
                  "ftp://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.8/source/mozilla-1.7.8-source.tar.bz2">
                  <span class=
                  "url">ftp://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.8/source/mozilla-1.7.8-source.tar.bz2</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download MD5 sum: a6fa13d0c9243060bac6821fcff4b973
                </p>
              </li>
              <li>
                <p>
                  Download size: 29 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated disk space required: 636 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated build time: 12.9 SBU
                </p>
              </li>
            </ul>
          </div>
          <h3>
            <a id="id2774276" name="id2774276"></a>Additional Downloads
          </h3>
          <p>
            To enable the <span class="application">Enigmail</span> extension
            to the <span class="application">Mozilla</span> mail client,
            you'll need to download the two tarballs below. The <span class=
            "application">Enigmail</span> extension allows users to access
            the authentication and encryption features provided by the
            <span class="application">GnuPG</span> package.
          </p>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  <a href=
                  "http://downloads.mozdev.org/enigmail/src/enigmail-0.91.0.tar.gz">
                  <span class=
                  "url">http://downloads.mozdev.org/enigmail/src/enigmail-0.91.0.tar.gz</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download MD5 sum (Enigmail):
                  4ab46132f41b4f1718cd4141742f824b
                </p>
              </li>
              <li>
                <p>
                  <a href=
                  "http://downloads.mozdev.org/enigmail/src/ipc-1.1.2.tar.gz">
                  <span class=
                  "url">http://downloads.mozdev.org/enigmail/src/ipc-1.1.2.tar.gz</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download MD5 sum (IPC): 4aa272b46c8cbf167dcd49a6d74cf526
                </p>
              </li>
            </ul>
          </div>
          <h3>
            <a id="id2583903" name="id2583903"></a>Mozilla Dependencies
          </h3>
          <h4>
            <a id="id2801134" name="id2801134"></a>Required
          </h4>
          <p>
            <a href="../general/zip.html">Zip-2.31</a>, <a href=
            "../x/gtk2.html">GTK+-2.6.7</a>, <a href=
            "../general/libIDL.html">libIDL-0.8.5</a>
          </p>
          <h4>
            <a id="id2627124" name="id2627124"></a>Recommended
          </h4>
          <p>
            <a href="../postlfs/gnupg.html">GnuPG-1.4.1</a> (for the
            <span class="application">Enigmail</span> extension)
          </p>
          <h4>
            <a id="id2480362" name="id2480362"></a>Optional
          </h4>
          <p>
            <a href="../general/graphlib.html#libjpeg">libjpeg-6b</a>,
            <a href="../general/unzip.html">UnZip-5.52</a>, <a href=
            "../gnome/gnome-vfs.html">GNOME Virtual File System-2.10.1</a>
            (to build the gnomevfs extension), <a href=
            "../general/libart_lgpl.html">libart_lgpl-2.3.17</a>, <a href=
            "../postlfs/heimdal.html">Heimdal-0.7</a> or <a href=
            "../postlfs/mitkrb.html">MIT krb5-1.4.1</a> (for the GSSAPI
            libraries to build the negotiateauth extension), <a href=
            "../general/doxygen.html">Doxygen-1.4.3</a>, <a href=
            "http://xprint.mozdev.org/"><span class="url">Xprint</span></a>,
            <a href="http://perens.com/FreeSoftware/"><span class=
            "url">Electric Fence</span></a> and <a href=
            "http://cairographics.org/"><span class="url">Cairo</span></a>
          </p>
        </div>
        <div class="installation" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Installation of Mozilla
            </h2>
          </div>
          <p>
            Compile <span class="application">Mozilla</span> by running the
            following commands:
          </p>
          <pre class="userinput"><kbd class=
          "command">export MOZILLA_OFFICIAL="1" &amp;&amp;
export BUILD_OFFICIAL="1" &amp;&amp;
export MOZ_CO_PROJECT="suite" &amp;&amp;
./configure --prefix=/usr \
            --with-default-mozilla-five-home=/usr/lib/mozilla \
            --with-system-zlib \
            --with-system-png \
            --enable-application=suite \
            --enable-default-toolkit=gtk2 \
            --enable-extensions=all \
            --enable-crypto \
            --enable-xft \
            --enable-xinerama \
            --enable-optimize \
            --enable-reorder \
            --enable-strip \
            --enable-cpp-rtti \
            --enable-calendar \
            --disable-freetype2 \
            --disable-accessibility \
            --disable-debug \
            --disable-tests \
            --disable-logging \
            --disable-pedantic \
            --disable-installer &amp;&amp;
make</kbd></pre>
          <p>
            You should add the <tt class="option">--with-system-jpeg</tt>
            switch to the <span><strong class=
            "command">configure</strong></span> script if you have
            <span class="application">libjpeg</span> installed.
          </p>
          <p>
            If you're building the <span class="application">Mozilla</span>
            mail and news clients and plan to install the <span class=
            "application">Enigmail</span> extension, execute the following
            steps:
          </p>
          <pre class="userinput"><kbd class=
          "command">tar -zxf ../enigmail-0.91.0.tar.gz -C extensions &amp;&amp;
tar -zxf ../ipc-1.1.2.tar.gz -C extensions &amp;&amp;
build/autoconf/make-makefile extensions/ipc extensions/enigmail &amp;&amp;
make -C extensions/ipc &amp;&amp;
make -C extensions/enigmail</kbd></pre>
          <p>
            Install <span class="application">Mozilla</span> (as the
            <tt class="systemitem">root user</tt>) as follows:
          </p>
          <pre class="root"><kbd class="command">make install &amp;&amp;
install -v -d -m755 /usr/include/mozilla-1.7.8/nss &amp;&amp;
cp -v -Lf dist/private/nss/*.h dist/public/nss/*.h \
   /usr/include/mozilla-1.7.8/nss &amp;&amp;
ln -v -nsf mozilla-1.7.8 /usr/include/mozilla &amp;&amp;
if [ -d /usr/lib/mozilla/plugins ]; then
    mv -v /usr/lib/mozilla/plugins/* /usr/lib/mozilla-1.7.8/plugins
    rm -v -rf /usr/lib/mozilla
fi &amp;&amp;
ln -v -nsf mozilla-1.7.8 /usr/lib/mozilla</kbd></pre>
          <p>
            If you're installing the <span class=
            "application">Enigmail</span> extension, issue the following
            commands as the <tt class="systemitem">root</tt> user:
          </p>
          <pre class="root"><kbd class=
          "command">make -C extensions/ipc install &amp;&amp;
make -C extensions/enigmail install</kbd></pre>
          <p>
            Some libraries, including the Netscape Portable Runtime (NSPR)
            and Network Security Services (NSS) libraries, installed by
            <span class="application">Mozilla</span> are also needed by other
            packages. These libraries should be in <tt class=
            "filename">/usr/lib</tt> so that other packages can link against
            them. As the <tt class="systemitem">root</tt> user, move them as
            follows:
          </p>
          <pre class="root"><kbd class="command">for i in \
    lib{nspr4,plc4,plds4,nss3,smime3,softokn3,ssl3}.so libsoftokn3.chk
do
   mv -v /usr/lib/mozilla-1.7.8/$i /usr/lib/
   ln -v -sf ../$i /usr/lib/mozilla-1.7.8/
done</kbd></pre>
          <p>
            Create the required component registries to enable multi-user
            installs. These steps should be preformed by the <tt class=
            "systemitem">root</tt> user each time a <span class=
            "application">Mozilla</span> add-on is installed. This will allow
            unprivileged users to run <span><strong class=
            "command">mozilla</strong></span>. Enable multi-user operation by
            executing the following:
          </p>
          <pre class="root"><kbd class=
          "command">cd /usr/lib/mozilla-1.7.8 &amp;&amp;
export LD_LIBRARY_PATH="$PWD" &amp;&amp;
export MOZILLA_FIVE_HOME="$PWD" &amp;&amp;
./regxpcom &amp;&amp;
./regchrome &amp;&amp;
touch `find . -name *.rdf`</kbd></pre>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                You should run <span><strong class=
                "command">/usr/bin/mozilla</strong></span> once as the
                <tt class="systemitem">root</tt> user (or any user with write
                privileges) to create some necessary additional files in the
                <tt class="filename">/usr</tt> hierarchy.
              </p>
            </div>
          </div>
          <p>
            Lastly, unset the build variables from the unprivileged user's
            environment:
          </p>
          <pre class="userinput"><kbd class=
          "command">unset MOZILLA_OFFICIAL &amp;&amp;
unset BUILD_OFFICIAL &amp;&amp;
unset MOZ_CO_PROJECT</kbd></pre>
        </div>
        <div class="commands" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Optional Extra Switches
            </h2>
          </div>
          <p>
            You may wish to run <span><strong class="command">./configure
            --help</strong></span> and review each of the listed options to
            discover what affect they have on the build. Feel free to add or
            remove options to tailor the build to your desires. Listed below
            are some common options not listed above but can be added to the
            <span><strong class="command">configure</strong></span> command
            in order to have the described effect on the <span class=
            "application">Mozilla</span> compile.
          </p>
          <p>
            <tt class="option">--with-system-jpeg</tt>: Uses the
            system-installed copy of <span class="application">libjpeg</span>
            instead of the bundled copy.
          </p>
          <p>
            <tt class="option">--enable-elf-dynstr-gc</tt>: Removes
            un-referenced strings from ELF shared objects generated during
            the build. Note that this option breaks the build on alpha.
          </p>
          <p>
            <tt class="option">--disable-mailnews</tt>: Disables the mail and
            news clients.
          </p>
          <p>
            <tt class="option">--disable-ldap</tt>: Disables LDAP support,
            recommended if mail is disabled.
          </p>
          <p>
            <tt class="option">--enable-xterm-updates</tt>: Displays the
            current command in the <span><strong class=
            "command">xterm</strong></span> window title during the
            compilation.
          </p>
          <p>
            <tt class="option">--enable-plaintext-editor-only</tt>: Disables
            support for HTML editing. Do not use this switch if you are
            building the mail-news component.
          </p>
        </div>
        <div class="commands" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Command Explanations
            </h2>
          </div>
          <p>
            <span><strong class="command">export MOZILLA_OFFICIAL="1"; export
            BUILD_OFFICIAL="1"</strong></span>: Set some variables that
            affect what and how the package is built. These two exports
            specify a distribution is being built.
          </p>
          <p>
            <em class=
            "parameter"><tt>--with-default-mozilla-five-home=/usr/lib/mozilla</tt></em>:
            Sets the default value for <tt class=
            "envar">MOZILLA_FIVE_HOME</tt>.
          </p>
          <p>
            <em class="parameter"><tt>--with-system-zlib
            --with-system-png</tt></em> : Use the system-installed versions
            of these packages.
          </p>
          <p>
            <em class="parameter"><tt>--enable-application=suite</tt></em>:
            Identifies the build as a <span class=
            "application">Mozilla</span> suite build.
          </p>
          <p>
            <em class=
            "parameter"><tt>--enable-default-toolkit=gtk2</tt></em>: Use the
            GTK2 toolkit for graphics rendering.
          </p>
          <p>
            <em class="parameter"><tt>--enable-extensions=all</tt></em>:
            Enables all available extensions. If you want, you can disable
            any or all extensions other than the browser by changing this
            switch to <tt class=
            "option">--enable-extensions="default,-venkman,-inspector,..."</tt>.
            For a short description of the various extensions available with
            the <span class="application">Mozilla</span> source, see <a href=
            "http://linuxfromscratch.org/~tushar/downloads/mozilla-extensions.txt">
            <span class=
            "url">http://linuxfromscratch.org/~tushar/downloads/mozilla-extensions.txt</span></a>.
          </p>
          <p>
            <em class="parameter"><tt>--enable-crypto</tt></em>: Enable the
            Personal Security Manager to enable SSL connections.
          </p>
          <p>
            <em class="parameter"><tt>--enable-calendar</tt></em>: Builds the
            calendar application. Removed this parameter if you don't wish to
            build it.
          </p>
          <p>
            <em class="parameter"><tt>--enable-xft;
            --disable-freetype2</tt></em>: Enable Xft support which
            automatically pulls in the <span class=
            "application">FreeType</span> libraries.
          </p>
          <p>
            <em class="parameter"><tt>--enable-xinerama; --enable-optimize;
            --enable-reorder; --enable-strip; --enable-cpp-rtti
            --disable-accessibility; --disable-debug; --disable-tests;
            --disable-logging; --disable-pedantic;
            --disable-installer</tt></em>: Various options that affect what
            components are built and some optimization options. You can pick
            and choose from these options. More information on them, and many
            other available options, can be found by running
            <span><strong class="command">./configure --help</strong></span>.
          </p>
          <p>
            <span><strong class="command">install -d
            /usr/include/mozilla-1.7.8/nss; cp -Lf ...</strong></span>: Copy
            the NSS interface headers that are not copied by
            <span><strong class="command">make install</strong></span>.
          </p>
          <p>
            <span><strong class="command">if [ -d /usr/lib/mozilla/plugins ]
            ... fi</strong></span>: Some applications may have already
            installed <span class="application">Mozilla</span> plugins. This
            set of commands move any existing plugins to the newly created
            plugin directory, then removes the existing <tt class=
            "filename">/usr/lib/mozilla</tt> directory.
          </p>
          <p>
            <span><strong class="command">ln -nsf mozilla-1.7.8
            ...</strong></span>: <span class="application">Mozilla</span>
            installs headers and libraries in version specific directories.
            These commands makes symbolic links so that applications
            depending on <span class="application">Mozilla</span> (such as
            <span class="application">OpenOffice</span>, <span class=
            "application">Galeon</span>, etc.) don't need to know which
            version of <span class="application">Mozilla</span> is installed.
          </p>
        </div>
        <div class="configuration" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Configuring Mozilla
            </h2>
          </div>
          <p>
            No specific configuration is required as long as the
            <span><strong class="command">mozilla</strong></span> script is
            in the user's path. If <span class="application">Mozilla</span>
            is installed in a non-standard location, then make a symlink to
            the <span><strong class="command">mozilla</strong></span> script
            from <tt class="filename">/usr/bin</tt>.
          </p>
          <p>
            Many applications look for <span><strong class=
            "command">netscape</strong></span> when they need to open a
            browser. You may make the following symlink for convenience (as
            the <tt class="systemitem">root</tt> user).
          </p>
          <pre class="root"><kbd class=
          "command">ln -v -sf mozilla /usr/bin/netscape</kbd></pre>
          <p>
            For installing various <span class="application">Mozilla</span>
            plugins, refer to <a href=
            "http://plugindoc.mozdev.org/linux.html"><span class=
            "url">Mozdev's PluginDoc Project</span></a>. If you have <a href=
            "../general/jdk.html">JDK-1.5.0</a> already installed, create the
            following link as the <tt class="systemitem">root</tt> user to
            utilize the <span class="application">JAVA</span> plugin:
          </p>
          <pre class="root"><kbd class=
          "command">ln -v -s $JAVA_HOME/jre/plugin/i386/ns7/libjavaplugin_oji.so \
    /usr/lib/mozilla-1.7.8/plugins</kbd></pre>
        </div>
        <div class="content" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Contents
            </h2>
          </div>
          <div class="segmentedlist">
            <div class="seglistitem">
              <div class="seg">
                <strong><span class="segtitle">Installed
                Program:</span></strong> <span class="seg">mozilla</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Libraries:</span></strong> <span class="seg">Numerous
                libraries, browser, and email/newsgroup components, plugins,
                extensions, and helper modules installed in <tt class=
                "filename">/usr/lib/mozilla-1.7.8</tt></span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Directories:</span></strong> <span class=
                "seg">/usr/include/mozilla-1.7.8, /usr/lib/mozilla-1.7.8, and
                /usr/share/idl/mozilla-1.7.8</span>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <h3>
              <a id="id2953256" name="id2953256"></a>Short Descriptions
            </h3>
            <table border="0">
              <col align="left" valign="top" />
              <tbody>
                <tr>
                  <td>
                    <a id="mozilla-prog" name="mozilla-prog"></a><span class=
                    "term"><span><strong class=
                    "command">mozilla</strong></span></span>
                  </td>
                  <td>
                    <p>
                      is a browser/email/newsgroup/calendar/chat client
                      suite. The various components such as the Composer,
                      mail-news client, calendar, IRC chat client and address
                      book can be accessed from the menu after
                      <span><strong class="command">mozilla</strong></span>
                      starts or via command-line switches to the
                      <span><strong class="command">mozilla</strong></span>
                      script. Issue <span><strong class="command">man
                      mozilla</strong></span> for additional information.
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <p class="updated">
        Last updated on 2005-08-01 13:29:19 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="openoffice.html" title=
          "OpenOffice-1.1.4">Prev</a>
          <p>
            OpenOffice-1.1.4
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="firefox.html" title="Firefox-1.0.6">Next</a>
          <p>
            Firefox-1.0.6
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="xsoft.html" title=
          "Part&nbsp;X.&nbsp;X Software">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.1">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
