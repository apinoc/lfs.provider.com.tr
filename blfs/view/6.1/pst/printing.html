<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      Chapter&nbsp;41.&nbsp;Printing
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.68.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.1">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.1
        </h4>
        <h3>
          Part&nbsp;XII.&nbsp;Printing, Scanning and Typesetting
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="pst.html" title=
          "Printing, Scanning and Typesetting">Prev</a>
          <p>
            Printing, Scanning and Typesetting
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="LPRng.html" title="LPRng-3.8.28">Next</a>
          <p>
            LPRng-3.8.28
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="pst.html" title=
          "Part&nbsp;XII.&nbsp;Printing, Scanning and Typesetting">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.1">Home</a>
        </li>
      </ul>
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="pst-printing" name="pst-printing"></a>
        <h1 class="chapter">
          Printing
        </h1>
      </div>
      <p>
        This chapter contains spooling printer management systems and
        ghostscript applications to render PostScript for display on
        terminals or paper.
      </p>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="cups" name="cups"></a>
          <h1 class="sect1">
            CUPS-1.1.23
          </h1>
        </div>
        <div class="package" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Introduction to CUPS
            </h2>
          </div>
          <p>
            The Common Unix Printing System (CUPS) is a print spooler and
            associated utilities. It is based on the "Internet Printing
            Protocol" and provides printing services to most PostScript and
            raster printers.
          </p>
          <h3>
            <a id="id2904515" name="id2904515"></a>Package Information
          </h3>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Download (HTTP): <a href=
                  "http://ftp.easysw.com/pub/cups/1.1.23/cups-1.1.23-source.tar.bz2">
                  <span class=
                  "url">http://ftp.easysw.com/pub/cups/1.1.23/cups-1.1.23-source.tar.bz2</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download (FTP): <a href=
                  "ftp://ftp.easysw.com/pub/cups/1.1.23/cups-1.1.23-source.tar.bz2">
                  <span class=
                  "url">ftp://ftp.easysw.com/pub/cups/1.1.23/cups-1.1.23-source.tar.bz2</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download MD5 sum: 4ce09b1dce09b6b9398af0daae9adf63
                </p>
              </li>
              <li>
                <p>
                  Download size: 8.7 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated disk space required: 48 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated build time: 0.52 SBU (additional 69 SBU to run
                  full test suite)
                </p>
              </li>
            </ul>
          </div>
          <h3>
            <a id="id2840498" name="id2840498"></a>CUPS Dependencies
          </h3>
          <h4>
            <a id="id2970666" name="id2970666"></a>Recommended
          </h4>
          <p>
            <a href="../general/graphlib.html#libjpeg">libjpeg-6b</a>,
            <a href="../general/libpng.html">libpng-1.2.8</a>, and <a href=
            "../general/libtiff.html">libtiff-3.7.3</a>
          </p>
          <h4>
            <a id="id2916595" name="id2916595"></a>Optional
          </h4>
          <p>
            <a href="../postlfs/security.html#openssl">OpenSSL-0.9.7g</a> or
            <a href="http://www.gnu.org/software/gnutls/"><span class=
            "url">GnuTLS</span></a> (which needs <a href=
            "ftp://ftp.gnupg.org/gcrypt/alpha/libgpg-error/"><span class=
            "url">libgpg-error</span></a>, <a href=
            "ftp://ftp.gnupg.org/gcrypt/libgcrypt/"><span class=
            "url">libgcrypt</span></a> and <a href=
            "ftp://ftp.gnupg.org/gcrypt/alpha/gnutls/opencdk/"><span class=
            "url">opencdk</span></a>, in that order), <a href=
            "../postlfs/linux_pam.html">Linux-PAM-0.80</a>, <a href=
            "../general/php.html">PHP-5.0.4</a>, <a href=
            "../general/Python.html">Python-2.4.1</a>, <a href=
            "../general/jdk.html">JDK-1.5.0</a>, <a href=
            "http://www.openslp.org/"><span class="url">OpenSLP</span></a>,
            <a href=
            "http://packages.debian.org/unstable/source/libpaper"><span class="url">
            libpaper</span></a> and <a href=
            "http://valgrind.kde.org/"><span class="url">Valgrind</span></a>
            (optionally used if running the test suites)
          </p>
        </div>
        <div class="installation" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Installation of CUPS
            </h2>
          </div>
          <p>
            Create an <tt class="systemitem">lp</tt> user, as <span class=
            "application">CUPS</span> will install the <span><strong class=
            "command">lppasswd</strong></span> command SUID to this user. Use
            the following command as the <tt class="systemitem">root</tt>
            user:
          </p>
          <pre class="root"><kbd class=
          "command">useradd -c "Print Service User" -d /dev/null -g lp -s /bin/false -u 9 lp</kbd></pre>
          <p>
            If you utilize <span class="application">Linux-PAM</span>, you
            need to modify some files so <span class=
            "application">CUPS</span> can find needed headers. Make the
            appropriate modifications using the following command:
          </p>
          <pre class="userinput"><kbd class=
          "command">sed -i -e "s@pam/pam@security/pam@g" \
{config-scripts/cups-pam.m4,scheduler/auth.c,configure}</kbd></pre>
          <p>
            Install <span class="application">CUPS</span> by running the
            following commands:
          </p>
          <pre class="userinput"><kbd class="command">./configure &amp;&amp;
make</kbd></pre>
          <p>
            Now, as the <tt class="systemitem">root</tt> user:
          </p>
          <pre class="root"><kbd class="command">make install</kbd></pre>
        </div>
        <div class="commands" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Command Explanations
            </h2>
          </div>
          <p>
            The basic default behavior of the installation is appropriate for
            LFS systems. <span class="application">CUPS</span> files are
            placed in <tt class="filename">/usr/bin</tt>, <tt class=
            "filename">/usr/sbin</tt>, <tt class="filename">/var</tt> and
            <tt class="filename">/etc/cups</tt>.
          </p>
        </div>
        <div class="configuration" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Configuring CUPS
            </h2>
          </div>
          <p>
            Configuration of <span class="application">CUPS</span> is
            dependent on the type of printer and can be complex. Generally,
            PostScript printers are easier. For detailed instructions on
            configuration and use of <span class="application">CUPS</span>,
            see <a href="http://www.cups.org/documentation.php"><span class=
            "url">http://www.cups.org/documentation.php</span></a>. The
            Software Administrators Manual and Software Users Manual are
            particularly useful.
          </p>
          <p>
            For non-PostScript printers to print with <span class=
            "application">CUPS</span>, you need to install <a href=
            "espgs.html">ESP Ghostscript-7.07.1</a> to convert PostScript to
            raster images and a driver (e.g., from <a href=
            "gimp-print.html">Gimp-Print-4.2.7</a>) to convert the resulting
            raster images to a form that the printer understands. <a href=
            "http://www.linuxprinting.org/foomatic.html"><span class=
            "url">Foomatic</span></a> drivers use Ghostscript to convert
            PostScript to a printable form directly, but this is considered
            to be a hack by <span class="application">CUPS</span> developers.
          </p>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="cups-init" name="cups-init"></a>Boot Script
                  </h4>
                </div>
              </div>
            </div>
            <p>
              During the install, <span class="application">CUPS</span>
              created the startup file <span><strong class=
              "command">/etc/rc.d/init.d/cups</strong></span>. The file
              works, but you may want to change it to a more conventional LFS
              startup file by installing the script included in the <a href=
              "../introduction/bootscripts.html">blfs-bootscripts-6.1</a>
              package:
            </p>
            <pre class="root"><kbd class=
            "command">make install-cups</kbd></pre>
          </div>
        </div>
        <div class="content" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Contents
            </h2>
          </div>
          <div class="segmentedlist">
            <div class="seglistitem">
              <div class="seg">
                <strong><span class="segtitle">Installed
                Programs:</span></strong> <span class="seg">accept, cancel,
                cups-config, cupsaddsmb, cupsd, cupstestppd, disable, enable,
                lp, lpadmin, lpc, lpinfo, lpmove, lpoptions, lppasswd, lpq,
                lpr, lprm, lpstat, and reject</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Libraries:</span></strong> <span class="seg">libcups.[so,a],
                libcupsimage.[so,a], and various filters and backend
                drivers</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Directories:</span></strong> <span class="seg">/etc/cups,
                /usr/include/cups, /usr/lib/cups, /usr/share/doc/cups,
                /usr/share/cups, /var/log/cups, and /var/spool/cups</span>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <h3>
              <a id="id2904490" name="id2904490"></a>Short Descriptions
            </h3>
            <table border="0">
              <col align="left" valign="top" />
              <tbody>
                <tr>
                  <td>
                    <a id="accept" name="accept"></a><span class=
                    "term"><span><strong class=
                    "command">accept</strong></span></span>
                  </td>
                  <td>
                    <p>
                      instructs the printing system to accept print jobs to
                      the specified destinations.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="cancel-cups" name="cancel-cups"></a><span class=
                    "term"><span><strong class=
                    "command">cancel</strong></span></span>
                  </td>
                  <td>
                    <p>
                      cancels existing print jobs from the print queues.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="cups-config" name="cups-config"></a><span class=
                    "term"><span><strong class=
                    "command">cups-config</strong></span></span>
                  </td>
                  <td>
                    <p>
                      is a <span class="application">CUPS</span> program
                      configuration utility.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="cupsaddsmb" name="cupsaddsmb"></a><span class=
                    "term"><span><strong class=
                    "command">cupsaddsmb</strong></span></span>
                  </td>
                  <td>
                    <p>
                      exports printers to the <span class=
                      "application">Samba</span> software for use with
                      Windows clients.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="cupsd" name="cupsd"></a><span class=
                    "term"><span><strong class=
                    "command">cupsd</strong></span></span>
                  </td>
                  <td>
                    <p>
                      is the scheduler for the Common Unix Printing System.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="cupstestppd" name="cupstestppd"></a><span class=
                    "term"><span><strong class=
                    "command">cupstestppd</strong></span></span>
                  </td>
                  <td>
                    <p>
                      tests the conformance of PPD files.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="disable" name="disable"></a><span class=
                    "term"><span><strong class=
                    "command">disable</strong></span></span>
                  </td>
                  <td>
                    <p>
                      stops the named printers or classes.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="enable" name="enable"></a><span class=
                    "term"><span><strong class=
                    "command">enable</strong></span></span>
                  </td>
                  <td>
                    <p>
                      starts the named printers or classes.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lp-cups" name="lp-cups"></a><span class=
                    "term"><span><strong class=
                    "command">lp</strong></span></span>
                  </td>
                  <td>
                    <p>
                      submits files for printing or alters a pending job.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpadmin" name="lpadmin"></a><span class=
                    "term"><span><strong class=
                    "command">lpadmin</strong></span></span>
                  </td>
                  <td>
                    <p>
                      configures printer and class queues provided by
                      <span class="application">CUPS</span>.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpc-cups" name="lpc-cups"></a><span class=
                    "term"><span><strong class=
                    "command">lpc</strong></span></span>
                  </td>
                  <td>
                    <p>
                      provides limited control over printer and class queues
                      provided by <span class="application">CUPS</span>.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpinfo" name="lpinfo"></a><span class=
                    "term"><span><strong class=
                    "command">lpinfo</strong></span></span>
                  </td>
                  <td>
                    <p>
                      lists the available devices or drivers known to the
                      <span class="application">CUPS</span> server.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpmove" name="lpmove"></a><span class=
                    "term"><span><strong class=
                    "command">lpmove</strong></span></span>
                  </td>
                  <td>
                    <p>
                      moves the specified job to a new destination.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpoptions" name="lpoptions"></a><span class=
                    "term"><span><strong class=
                    "command">lpoptions</strong></span></span>
                  </td>
                  <td>
                    <p>
                      displays or sets printer options and defaults.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lppasswd" name="lppasswd"></a><span class=
                    "term"><span><strong class=
                    "command">lppasswd</strong></span></span>
                  </td>
                  <td>
                    <p>
                      adds, changes or deletes passwords in the <span class=
                      "application">CUPS</span> digest password file
                      <tt class="filename">passwd.md5</tt>.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpq-cups" name="lpq-cups"></a><span class=
                    "term"><span><strong class=
                    "command">lpq</strong></span></span>
                  </td>
                  <td>
                    <p>
                      shows the current print queue status on the named
                      printer.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpr-cups" name="lpr-cups"></a><span class=
                    "term"><span><strong class=
                    "command">lpr</strong></span></span>
                  </td>
                  <td>
                    <p>
                      submits files for printing.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lprm-cups" name="lprm-cups"></a><span class=
                    "term"><span><strong class=
                    "command">lprm</strong></span></span>
                  </td>
                  <td>
                    <p>
                      cancels print jobs that have been queued for printing.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="lpstat-cups" name="lpstat-cups"></a><span class=
                    "term"><span><strong class=
                    "command">lpstat</strong></span></span>
                  </td>
                  <td>
                    <p>
                      displays status information about the current classes,
                      jobs, and printers.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="reject" name="reject"></a><span class=
                    "term"><span><strong class=
                    "command">reject</strong></span></span>
                  </td>
                  <td>
                    <p>
                      instructs the printing system to reject print jobs to
                      the specified destinations.
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <p class="updated">
        Last updated on 2005-08-01 13:29:19 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="pst.html" title=
          "Printing, Scanning and Typesetting">Prev</a>
          <p>
            Printing, Scanning and Typesetting
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="LPRng.html" title="LPRng-3.8.28">Next</a>
          <p>
            LPRng-3.8.28
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="pst.html" title=
          "Part&nbsp;XII.&nbsp;Printing, Scanning and Typesetting">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.1">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
