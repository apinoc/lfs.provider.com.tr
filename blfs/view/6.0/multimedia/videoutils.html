<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      Chapter&nbsp;39.&nbsp;Video utilities
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.67.2" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.0
        </h4>
        <h3>
          Part&nbsp;XII.&nbsp;Multimedia
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="cdparanoia.html" title=
          "CDParanoia-III-9.8">Prev</a>
          <p>
            CDParanoia-III-9.8
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="avifile.html" title=
          "Avifile-0.7.41">Next</a>
          <p>
            Avifile-0.7.41
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="multimedia.html" title=
          "Part&nbsp;XII.&nbsp;Multimedia">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="multimedia-videoutils" name="multimedia-videoutils"></a>
        <h1 class="chapter">
          Video utilities
        </h1>
      </div>
      <p>
        This chapter always seems to be the favorite chapter. It's probably
        because there is a lot of satisfaction in playing your first video
        when you have spent so much time getting to that point. All those
        libraries, all the configurations and your reward is that you finally
        get to watch a movie. Not to worry though, there is always one more
        <span class="acronym">CODEC</span> to install.
      </p>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="ffmpeg" name="ffmpeg"></a>
          <h1 class="sect1">
            FFmpeg-0.4.9-pre1
          </h1>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Introduction to FFmpeg
            </h2>
          </div>
          <p>
            <span class="application">FFmpeg</span> is a solution to record,
            convert and stream audio and video. It is a very fast video and
            audio converter and it can also acquire from a live audio/video
            source. Designed to be intuitive, the command-line interface
            (<span><strong class="command">ffmpeg</strong></span>) tries to
            figure out all the parameters, when possible. <span class=
            "application">FFmpeg</span> can also convert from any sample rate
            to any other, and resize video on the fly with a high quality
            polyphase filter. <span class="application">FFmpeg</span> can use
            a video4linux compatible video source and any Open Sound System
            audio source.
          </p>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="id2558506" name="id2558506"></a>Package
                    information
                  </h4>
                </div>
              </div>
            </div>
            <div class="itemizedlist">
              <ul compact="compact">
                <li>
                  <p>
                    Download (HTTP): <a href=
                    "http://prdownloads.sourceforge.net/ffmpeg/ffmpeg-0.4.9-pre1.tar.gz">
                    <span class=
                    "url">http://prdownloads.sourceforge.net/ffmpeg/ffmpeg-0.4.9-pre1.tar.gz</span></a>
                  </p>
                </li>
                <li>
                  <p>
                    Download (FTP): <a href=""></a>
                  </p>
                </li>
                <li>
                  <p>
                    Download MD5 sum: ea5587e3c66d50b1503b82ac4179c303
                  </p>
                </li>
                <li>
                  <p>
                    Download size: 1.6 MB
                  </p>
                </li>
                <li>
                  <p>
                    Estimated disk space required: 49 MB
                  </p>
                </li>
                <li>
                  <p>
                    Estimated build time: 0.87 SBU
                  </p>
                </li>
              </ul>
            </div>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="id2577054" name="id2577054"></a><span class=
                    "application">FFmpeg</span> dependencies
                  </h4>
                </div>
              </div>
            </div>
            <div class="sect4" lang="en" xml:lang="en">
              <div class="titlepage">
                <div>
                  <div>
                    <h5 class="title">
                      <a id="id2682666" name="id2682666"></a>Optional
                    </h5>
                  </div>
                </div>
              </div>
              <p>
                <a href="libvorbis.html">libvorbis-1.1.0</a>, <a href=
                "lame.html">LAME-3.96.1</a>, <a href=
                "liba52.html">liba52-0.7.4</a>, <a href=
                "../general/imlib2.html">Imlib2-1.1.2</a>, X (<a href=
                "../x/xfree86.html">XFree86-4.4.0</a> or <a href=
                "../x/installing.html#xorg">X.org-6.8.2</a>), <a href=
                "sdl.html">SDL-1.2.8</a>, <a href=
                "../general/freetype2.html">FreeType-2.1.9</a>, <a href=
                "http://www.audiocoding.com/modules/mydownloads/"><span class="url">
                FAAC</span></a>, <a href=
                "http://www.audiocoding.com/modules/mydownloads/"><span class="url">
                FAAD</span></a> and <a href=
                "../pst/typesetting.html#tex">TeX-2.0.2</a> (to build
                <span class="acronym">HTML</span> documentation)
              </p>
            </div>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Installation of FFmpeg
            </h2>
          </div>
          <p>
            Install <span class="application">FFmpeg</span> by running the
            following commands:
          </p>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                Review the <tt class="filename">doc/optimization.txt</tt>
                file in the source tree for information about optimizing the
                build.
              </p>
            </div>
          </div>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">./configure --prefix=/usr --enable-shared \
    --enable-pthreads --disable-ffplay &amp;&amp;
make &amp;&amp;
make -C doc {ffmpeg,ffserver,ffplay}.1</strong></span></kbd></pre>
          <p>
            Now, as the root user:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">make install</strong></span></kbd></pre>
          <p>
            If you have <span class="application">TeX</span> installed and
            you wish to install the <span class="acronym">HTML</span>
            documentation, run the following command as an unprivileged user:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">make -C doc</strong></span></kbd></pre>
          <p>
            Now, as the root user:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">install -v -d -m755 /usr/share/doc/ffmpeg-0.4.9-pre1 &amp;&amp;
install -v -m644 doc/*.html /usr/share/doc/ffmpeg-0.4.9-pre1</strong></span></kbd></pre>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Command explanations
            </h2>
          </div>
          <p>
            <em class="parameter"><tt>--enable-shared</tt></em>: This switch
            is needed to build the <tt class="filename">libavcodec</tt> and
            <tt class="filename">libavformat</tt> shared libraries.
          </p>
          <p>
            <em class="parameter"><tt>--enable-pthreads</tt></em>: This
            switch enables the build to link against the Posix threads
            library.
          </p>
          <p>
            <tt class="option">--disable-ffplay</tt>: Only installs the
            server part. <span><strong class="command">ffplay</strong></span>
            requires <span class="application">X</span> for building. Remove
            this option if <span class="application">X</span> is installed.
          </p>
          <p>
            <tt class="option">--enable-<em class=
            "replaceable"><tt>[codec]</tt></em></tt>: Review the available
            options and codecs using the <span><strong class=
            "command">./configure --help</strong></span> command.
          </p>
          <p>
            <span><strong class="command">make -C doc
            {ffmpeg,ffserver,ffplay}.1</strong></span>: This builds the man
            pages which are installed by <span><strong class="command">make
            install</strong></span>.
          </p>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                Linking the <span class="application">liba52</span> library
                using the <tt class="option">--enable-a52</tt> parameter to
                <span><strong class="command">configure</strong></span> is
                known to break the build.
              </p>
            </div>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Configuring FFmpeg
            </h2>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="ffmpeg-config" name="ffmpeg-config"></a>Config
                    files
                  </h4>
                </div>
              </div>
            </div>
            <p>
              <tt class="filename">/etc/ffserver.conf</tt> and <tt class=
              "filename">~/.ffmpeg/ffserver-config</tt>
            </p>
            <p>
              You'll find a sample ffserver configuration file at <a href=
              "http://ffmpeg.sourceforge.net/sample.html"><span class=
              "url">http://ffmpeg.sourceforge.net/sample.html</span></a>
              (also <tt class="filename">doc/ffserver.conf</tt> in the source
              tree).
            </p>
          </div>
        </div>
        <div class="sect2" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Contents
            </h2>
          </div>
          <div class="segmentedlist">
            <div class="seglistitem">
              <div class="seg">
                <strong><span class="segtitle">Installed
                Programs:</span></strong> <span class="seg">ffmpeg, ffserver
                and optionally, ffplay</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Libraries:</span></strong> <span class="seg">libavcodec.so,
                libavformat.so and video hook modules</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Directories:</span></strong> <span class=
                "seg">/usr/include/ffmpeg, /usr/lib/vhook and
                /usr/share/doc/ffmpeg-0.4.9-pre1</span>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <h3>
              <a id="id2750516" name="id2750516"></a>Short Descriptions
            </h3>
            <dl>
              <dt>
                <a id="ffmpeg-prog" name="ffmpeg-prog"></a><span class=
                "term"><span><strong class=
                "command">ffmpeg</strong></span></span>
              </dt>
              <dd>
                <p>
                  is a command-line tool to convert video files, network
                  streams and input from a <span class="acronym">TV</span>
                  card to several video formats.
                </p>
              </dd>
              <dt>
                <a id="ffplay" name="ffplay"></a><span class=
                "term"><span><strong class=
                "command">ffplay</strong></span></span>
              </dt>
              <dd>
                <p>
                  is a very simple and portable media player using the
                  <tt class="filename">ffmpeg</tt> libraries and the
                  <span class="acronym">SDL</span> library.
                </p>
              </dd>
              <dt>
                <a id="ffserver" name="ffserver"></a><span class=
                "term"><span><strong class=
                "command">ffserver</strong></span></span>
              </dt>
              <dd>
                <p>
                  is a streaming server for everything that
                  <span><strong class="command">ffmpeg</strong></span> could
                  use as input (files, streams, TV card input, webcam, etc.).
                </p>
              </dd>
              <dt>
                <a id="libavcodec" name="libavcodec"></a><span class=
                "term"><tt class="filename">libavcodec.so</tt></span>
              </dt>
              <dd>
                <p>
                  is a library containing the <span class=
                  "application">FFmpeg</span> codecs (both encoding and
                  decoding).
                </p>
              </dd>
              <dt>
                <a id="libavformat" name="libavformat"></a><span class=
                "term"><tt class="filename">libavformat.so</tt></span>
              </dt>
              <dd>
                <p>
                  is a library containing the file formats handling (mux and
                  demux code for several formats) used by
                  <span><strong class="command">ffplay</strong></span> as
                  well as allowing the generation of audio or video streams.
                </p>
              </dd>
            </dl>
          </div>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="cdparanoia.html" title=
          "CDParanoia-III-9.8">Prev</a>
          <p>
            CDParanoia-III-9.8
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="avifile.html" title=
          "Avifile-0.7.41">Next</a>
          <p>
            Avifile-0.7.41
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="multimedia.html" title=
          "Part&nbsp;XII.&nbsp;Multimedia">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
