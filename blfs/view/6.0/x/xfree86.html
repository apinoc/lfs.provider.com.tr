<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      XFree86-4.4.0
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.67.2" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.0
        </h4>
        <h3>
          Chapter&nbsp;25.&nbsp;X Window System Environment
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="installing.html" title=
          "X Window System Environment">Prev</a>
          <p>
            X Window System Environment
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xfree86-setup.html" title=
          "X Window System Components">Next</a>
          <p>
            X Window System Components
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="installing.html" title=
          "Chapter&nbsp;25.&nbsp;X Window System Environment">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="xfree86" name="xfree86"></a>
        <h1 class="sect1">
          XFree86-4.4.0
        </h1>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to XFree86
          </h2>
        </div>
        <p>
          <span class="application">XFree86</span> is a freely
          redistributable open-source implementation of the <span class=
          "application">X</span> Window System. <span class=
          "application">XFree86</span> provides a client/server interface
          between display hardware (the mouse, keyboard, and video displays)
          and the desktop environment, while also providing both the
          windowing infrastructure and a standardized application interface
          (<span class="acronym">API</span>).
        </p>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2642928" name="id2642928"></a>Package information
                </h4>
              </div>
            </div>
          </div>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Download (HTTP): <a href=
                  "http://gnu.kookel.org/ftp/XFree86/4.4.0/source/"><span class="url">
                  http://gnu.kookel.org/ftp/XFree86/4.4.0/source/</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download (FTP): <a href=
                  "ftp://ftp.xfree86.org/pub/XFree86/4.4.0/source/"><span class="url">
                  ftp://ftp.xfree86.org/pub/XFree86/4.4.0/source/</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download MD5 sums: <a href=
                  "ftp://ftp.xfree86.org/pub/XFree86/4.4.0/source/SUMS.md5sum">
                  <span class=
                  "url">ftp://ftp.xfree86.org/pub/XFree86/4.4.0/source/SUMS.md5sum</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download size: 52 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated disk space required: 775 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated build time: 11.6 SBU
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2657822" name="id2657822"></a>Additional downloads
                </h4>
              </div>
            </div>
          </div>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Security patch: <a href=
                  "http://www.x.org/pub/X11R6.8.0/patches/xorg-CAN-2004-0687-0688.patch">
                  <span class=
                  "url">http://www.x.org/pub/X11R6.8.0/patches/xorg-CAN-2004-0687-0688.patch</span></a>
                </p>
              </li>
            </ul>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2621706" name="id2621706"></a><span class=
                  "application">XFree86</span> dependencies
                </h4>
              </div>
            </div>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2629472" name="id2629472"></a>Required
                  </h5>
                </div>
              </div>
            </div>
            <p>
              <a href="../general/libpng.html">libpng-1.2.8</a>
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2638947" name="id2638947"></a>Optional
                  </h5>
                </div>
              </div>
            </div>
            <p>
              <a href="../postlfs/linux_pam.html">Linux-PAM-0.78</a>; the
              following packages are included in the <span class=
              "application">XFree86</span> package, however they are updated
              more often than the <span class="application">XFree86</span>
              package and are highly recommended: <a href=
              "../general/expat.html">expat-1.95.8</a>, <a href=
              "../general/freetype2.html">FreeType-2.1.9</a>, <a href=
              "../general/fontconfig.html">Fontconfig-2.2.3</a>.
            </p>
            <div class="note">
              <div class="admonhead">
                <img alt="[Note]" src="../images/note.png" />
                <h3 class="admontitle">
                  Note
                </h3>
              </div>
              <div class="admonbody">
                <p>
                  If you choose not to install <span class=
                  "application">expat</span>, <span class=
                  "application">FreeType2</span>, and <span class=
                  "application">Fontconfig</span>, the <tt class=
                  "filename">host.def</tt> file below will have to be
                  modified to instruct <span class=
                  "application">XFree86</span> to build them.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2665605" name="id2665605"></a>Download
                  Instructions
                </h4>
              </div>
            </div>
          </div>
          <p>
            There are several files that need to be fetched from the download
            location:
          </p>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-1.tgz</tt>
                </p>
              </li>
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-2.tgz</tt>
                </p>
              </li>
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-3.tgz</tt>
                </p>
              </li>
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-4.tgz</tt>
                </p>
              </li>
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-5.tgz</tt>
                </p>
              </li>
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-6.tgz</tt>
                </p>
              </li>
              <li>
                <p>
                  <tt class="filename">XFree86-4.4.0-src-7.tgz</tt>
                </p>
              </li>
            </ul>
          </div>
          <p>
            The first three packages are the <span class=
            "application">XFree86</span> programs, the fourth and fifth are
            fonts, the sixth is normal documentation, and the seventh is
            hardcopy documentation. There are also two packages <tt class=
            "filename">doctools-1.3.1.tgz</tt>, which contain programs to
            regenerate hardcopy documentation, and <tt class=
            "filename">utils-1.1.0.tgz</tt>, which contain <span class=
            "application"><span class="acronym">GNU</span> <span class=
            "acronym">TAR</span></span> and <span class=
            "application">zlib</span> which are already installed on an
            <span class="acronym">LFS</span> system.
          </p>
          <p>
            To check your downloads for integrity, download the <tt class=
            "filename">SUMS.md5sum</tt> file. Then:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">md5sum -c SUMS.md5sum</strong></span></kbd></pre>
          <p>
            The only errors you should see are for <tt class=
            "filename">README</tt>, <tt class=
            "filename">doctools-1.3.1.tgz</tt>, <tt class=
            "filename">utils-1.1.0.tgz</tt> and <tt class=
            "filename">XFree86-xtest-4.0.x.tar.bz2</tt> files if you did not
            download them.
          </p>
        </div>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of XFree86
          </h2>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="xfree86-kernel" name="xfree86-kernel"></a>Kernel
                  Compilation Settings
                </h4>
              </div>
            </div>
          </div>
          <p>
            If you have an Intel P6 (Pentium Pro, Pentium II and later), it
            is recommended that you compile <span class="acronym">MTRR</span>
            (Memory Type Range Registers) support into the kernel. The kernel
            can map Cyrix and AMD <span class="acronym">CPU</span>s to the
            <span class="acronym">MTRR</span> interface, so selecting this
            option is useful for those processors also. This option is found
            in the "Processor type and features" menu. It can increase
            performance of image write operations 2.5 times or more on
            <span class="acronym">PCI</span> or <span class=
            "acronym">AGP</span> video cards.
          </p>
          <p>
            In the "Character Devices" section, enable <span class=
            "acronym">AGP</span> Support and select the chipset support on
            your motherboard. If you do not know the chipset, you may select
            all the chip types at the expense of extra kernel size. You can
            usually determine your motherboard's chipset by running the
            command <span><strong class="command">lspci</strong></span>, a
            program from the <a href="../general/pciutils.html">PCI
            Utilities-2.1.11</a> package.
          </p>
          <p>
            In the "Character Devices" section, <span class=
            "emphasis"><em>disable</em></span> Direct Rendering Manager
            unless you have a Direct Rendering Infrastructure (<span class=
            "acronym">DRI</span>) supported video card. A complete list of
            <span class="acronym">DRI</span> supported video cards can be
            found at <a href="http://dri.sourceforge.net"><span class=
            "url">http://dri.sourceforge.net</span></a> in the Status
            section. Currently, supported cards include those from 3dfx
            (Voodoo, Banshee), 3Dlabs, ATI (Rage Pro, Rage 128, Radeon 7X00,
            Radeon 2), Intel (i810, i815), and Matrox (G200, G400, G450).
          </p>
          <p>
            Additionally NVidia provides their own closed source binary
            drivers, which do not make use of <span class=
            "acronym">DRI</span>. If you intend to use these drivers, do not
            enable <span class="acronym">DRI</span>.
          </p>
          <p>
            If you made any changes to the kernel configuration, recompile
            and install the new kernel.
          </p>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                If you build <span class="application">XFree86</span> in a
                <span><strong class="command">chroot</strong></span>
                environment, make sure the kernel version of the base system
                and the target system are the same.
              </p>
            </div>
          </div>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2696747" name="id2696747"></a>Creating <tt class=
                  "filename">host.def</tt>
                </h4>
              </div>
            </div>
          </div>
          <p>
            Although <span class="application">XFree86</span> will compile
            without a <tt class="filename">host.def</tt> file, the following
            file is recommended for customizing the installation. Start from
            the <tt class="filename">xc</tt> directory.
          </p>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                The <tt class="filename">host.def</tt> file is a <span class=
                "application">C</span> file, not the usual configuration
                file. If you make any changes, be sure the comment characters
                (<strong class="userinput"><tt>/*</tt></strong> and
                <strong class="userinput"><tt>*/</tt></strong>) are balanced.
                Most of the entries in the file below are commented out with
                the default settings shown.
              </p>
            </div>
          </div>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">cat &gt; config/cf/host.def &lt;&lt; "EOF"</strong></span>
/* Begin XFree86 host.def file */

/* System Related Information.  If you read and configure only one
 * section then it should be this one.  The Intel architecture defaults 
 * are set for a i686 and higher.  Axp is for the Alpha architecture 
 * and Ppc is for the Power PC.  Note that there have been reports that 
 * the Ppc optimization line causes segmentation faults during build.
 * If that happens, try building without the DefaultGcc2PpcOpt line. */

/* #define DefaultGcc2i386Opt  -O2 -fomit-frame-pointer -march=i686 */
/* #define DefaultGcc2AxpOpt   -O2 -mcpu=ev6 */
/* #define DefaultGcc2PpcOpt   -O2 -mcpu=750 */

/* The following definitions are normally set properly by XFree86's 
 * scripts. You can uncomment them if you want to make sure. *********/
 
/* #define HasMTRRSupport      YES  */ /* Enabled in kernel; */
                                       /* see kernel docs */
/* #define HasMMXSupport        NO  */ /* Any i586 or above */
/* #define HasKatmaiSupport     NO  */ /* PIII SSE instructions */
/* #define Has3DNowSupport      NO  */ /* AMD instructions */


/* This setting reduces compile time a little by omitting rarely used 
 * input devices.  You can find the complete list in 
 * config/cf/xfree86.cf *********************************************/
 
#define XInputDrivers                 mouse void

/* VIDEO DRIVERS ****************************************************/

/* If you are sure you only want the drivers for one or a few video 
 * cards, you can delete the drivers you do not want. ***************/ 


#define XF86CardDrivers  mga glint nv tga s3 s3virge sis rendition \
                         neomagic i740 tdfx savage \
                         cirrus vmware tseng trident chips apm \
                         GlideDriver fbdev i128 nsc \
                         ati i810 AgpGartDrivers DevelDrivers ark \
                         cyrix siliconmotion \
                         vesa vga \
                         dummy XF86OSCardDrivers XF86ExtraCardDrivers


/* USER AND SYSTEM DEFAULT PATHS *************************************/

/* These settings set the PATH variables used by xdm. See README for */
/* detailed description and modify the following as per your need. ***/

/* #define DefaultSystemPath \
       /usr/bin:/bin:/usr/sbin:/sbin:/usr/X11R6/bin */
/* #define DefaultUserPath /usr/bin:/bin:/usr/X11R6/bin */

/* FONT SERVER AND LIBRARY SETTINGS **********************************/

/* These settings are the defaults  **********************************/

/* #define BuildFontServer       YES  */ /*For Ghostscript Print Server*/
/* #define SharedLibFont         YES  */
/* #define CompressAllFonts      YES  */
/* #define GzipFontCompression   YES  */

/* These settings ensure we use our libraries ************************/
#define HasFreetype2             YES
#define HasFontconfig            YES
#define HasExpat                 YES
#define HasLibpng                YES
#define HasZlib                  YES

/* The font path can be redefined in the XF86Config file *************/

/*
#define DefaultFontPath          $(FONTDIR)/misc/,$(FONTDIR)/75dpi/,\
$(FONTDIR)/100dpi/,$(FONTDIR)/Type1,$(FONTDIR)/local,\
$(FONTDIR)/TrueType,$(FONTDIR)/CID,$(FONTDIR)/Speedo
*/


/* INTERNATIONAL FONTS.  Change to YES if you need any of them.  These
 * are the defaults. **************************************************/

/* #define BuildCyrillicFonts            NO  */
/* #define BuildArabicFonts              NO  */
/* #define BuildISO8859_6Fonts           NO  */
/* #define BuildGreekFonts               NO  */
/* #define BuildISO8859_7Fonts           NO  */
/* #define BuildHebrewFonts              NO  */
/* #define BuildISO8859_8Fonts           NO  */
/* #define BuildKOI8_RFonts              NO  */
/* #define BuildJapaneseFonts            NO  */
/* #define BuildJISX0201Fonts            NO  */
/* #define BuildKoreanFonts              NO  */
/* #define BuildChineseFonts             NO  */

/* DOCUMENTATION SETTINGS ********************************************/

/* These setting are the defaults. ***********************************/

/* #define BuildLinuxDocHtml        NO  */  /* X Docs in Html format */
/* #define BuildLinuxDocPS          NO  */  /* PostScript format */
/* #define BuildAllSpecsDocs        NO  */  /* Various docs */
/* #define BuildHtmlManPages        NO  */

/* GENERAL SETTINGS: You generally want to leave these alone when
 * building X on an LFS system ***************************************/

#define GccWarningOptions         -pipe /* Speed up compiles */
#define TermcapLibrary            -lncurses
#define XprtServer                YES /* Needed by realplayer */
#define XnestServer               YES
#define XAppLoadDir               EtcX11Directory/app-defaults
#define VarLibDir                 /var/lib
#define XFree86Devel               NO
#define FSUseSyslog               YES
#define ThreadedX                 YES
#define HasPam                     NO        
#define SystemManDirectory        /usr/share/man /*Instead of /usr/man*/
#define HasLibCrypt               YES
#define InstallXinitConfig        YES
#define InstallXdmConfig          YES
#define ForceNormalLib            YES
#define BuildSpecsDocs             NO

/* End XFree86 host.def file */
<span><strong class="command">EOF</strong></span></kbd></pre>
          <p>
            Edit the file for your hardware and desires.
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2759693" name="id2759693"></a>Build Commands
                </h4>
              </div>
            </div>
          </div>
          <p>
            Some vulnerabilities were reported in <tt class=
            "filename">libXpm</tt>. A remote user may be able to execute
            arbitrary code on applications that use <tt class=
            "filename">libXpm</tt>. The <span class="application">Xorg</span>
            team released a patch for their version 6.8.0 but it works for
            <span class="application">XFree86</span> as well. Apply the
            patch:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">patch -Np1 -i ../xorg-CAN-2004-0687-0688.patch</strong></span></kbd></pre>
          <p>
            Install <span class="application">XFree86</span> by running the
            following commands:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">sed -i -e "s@^#include &lt;linux/config.h&gt;@/* &amp; */@" \
    `grep -lr linux/config.h *` &amp;&amp;
( make WORLDOPTS="" World 2&gt;&amp;1 | \
    tee xfree-compile.log &amp;&amp; exit $PIPESTATUS )</strong></span></kbd></pre>
          <p>
            Now, as the root user:
          </p>
          <pre class="userinput"><kbd class="command"><span><strong class=
          "command">make install &amp;&amp;
make install.man &amp;&amp;
ln -sf ../X11R6/bin /usr/bin/X11 &amp;&amp;
ln -sf ../X11R6/lib/X11 /usr/lib/X11 &amp;&amp;
ln -sf ../X11R6/include/X11 /usr/include/X11</strong></span></kbd></pre>
        </div>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command explanations
          </h2>
        </div>
        <p>
          <span><strong class="command">sed -i -e "s@^#include
          &lt;linux/config.h&gt;@...</strong></span>: The <span class=
          "application">Linux-Libc-Headers</span> package installed in
          <span class="acronym">LFS</span> installs a <tt class=
          "filename">/usr/include/linux/config.h</tt> file which is not
          compatible with userspace applications. The recommended fix for
          applications including this file is to remove it (see <a href=
          "http://ep09.pld-linux.org/~mmazur/linux-libc-headers/doc/FAQ"><span class="url">
          linux-libc-headers FAQ</span></a>). The <span><strong class=
          "command">sed</strong></span> uses <span><strong class=
          "command">grep -lr</strong></span> to replace all occurences. If
          you desire, just remove (comment) the line in the appropriate video
          driver file if you customized <tt class="filename">host.def</tt>.
        </p>
        <p>
          <span><strong class="command">( make WORLDOPTS="" World 2&gt;&amp;1
          | tee xfree-compile.log &amp;&amp; exit $PIPESTATUS
          )</strong></span>: This command runs multiple <tt class=
          "filename">Makefile</tt>s to completely rebuild the system.
          <tt class="envar">WORLDOPTS</tt>="" disables the default setting to
          continue after encountering an error. <em class=
          "parameter"><tt>2&gt;&amp;1</tt></em> redirects error messages to
          the same location as standard output. The <span><strong class=
          "command">tee</strong></span> command allows viewing of the output
          while logging the results to a file. The parentheses around the
          command runs the entire comand in a subshell and finally the
          <span><strong class="command">exit $PIPESTATUS</strong></span>
          ensures the result of the <span><strong class=
          "command">make</strong></span> is returned as the result and not
          the result of the <span><strong class="command">tee</strong></span>
          command.
        </p>
        <div class="note">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="admontitle">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              When rebuilding <span class="application">XFree86</span>, a
              separate command that may be used if only minor changes are
              made to the sources is <span><strong class="command">make
              Everything</strong></span>. This does not automatically remove
              generated files and only rebuilds those files or programs that
              are out of date.
            </p>
          </div>
        </div>
        <pre class="screen"><span><strong class=
        "command">ln -sf ../X11R6/bin /usr/bin/X11
ln -sf ../X11R6/lib/X11 /usr/lib/X11
ln -sf ../X11R6/include/X11 /usr/include/X11</strong></span></pre>
        <p>
          These commands are present to enable other (broken) packages to
          build against <span class="application">XFree86</span>, even though
          the Filesystem Hierarchy Standard says: "In general, software must
          not be installed or managed via the above symbolic links. They are
          intended for utilization by users only."
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="xfree86-config" name="xfree86-config"></a>
          <h2 class="sect2">
            Configuring XFree86
          </h2>
        </div>
        <p>
          Edit <tt class="filename">/etc/ld.so.conf</tt> and add <tt class=
          "filename">/usr/X11R6/lib</tt>. Run:
        </p>
        <pre class="userinput"><kbd class="command"><span><strong class=
        "command">ldconfig</strong></span></kbd></pre>
        <p>
          Ensure <tt class="filename">/usr/X11R6/bin</tt> and <tt class=
          "filename">/usr/X11R6/lib/pkgconfig</tt> are added to your
          <tt class="envar">PATH</tt> and <tt class=
          "envar">PKG_CONFIG_PATH</tt> environment variables, respectively.
          Instructions for doing this are described in the section "<a href=
          "../postlfs/profile.html">The Bash Shell Startup Files</a>."
        </p>
        <p>
          Create the <tt class="filename">XF86Config</tt> file with:
        </p>
        <pre class="userinput"><kbd class="command"><span><strong class=
        "command">cd ~
XFree86 -configure</strong></span></kbd></pre>
        <p>
          The screen will go black and you may hear some clicking of the
          monitor. This command will create a file, <tt class=
          "filename">XF86Config.new</tt> in your home directory.
        </p>
        <p>
          Edit <tt class="filename">XF86Config.new</tt> to suit your system.
          The details of the file are located in the man page
          <span><strong class="command">man XF86Config</strong></span>. Some
          things you may want to do are:
        </p>
        <div class="itemizedlist">
          <ul>
            <li>
              <p>
                Section "Files". Change the order of the font paths searched.
                You may want to put 100dpi fonts ahead of 75dpi fonts if your
                system normally comes up closer to 100 dots per inch. You may
                want to remove some font directories completely.
              </p>
            </li>
            <li>
              <p>
                Section "Module". If you are going to install NVidia drivers,
                remove the "dri" line.
              </p>
            </li>
            <li>
              <p>
                Sections "InputDevice". Specify the <em class=
                "parameter"><tt>Device</tt></em> parameter to
                "/dev/input/mice" and <em class=
                "parameter"><tt>Protocol</tt></em> to "auto" to set up your
                mouse. You may also want to change the keyboard autorepeat
                rate by adding <em class="parameter"><tt>Option "Autorepeat"
                "250 30"</tt></em>.
              </p>
            </li>
            <li>
              <p>
                Section "Monitor". Specify the <em class=
                "parameter"><tt>VertRefresh</tt></em> and <em class=
                "parameter"><tt>HorizSync</tt></em> values if the system does
                not automatically detect the monitor and its values.
              </p>
            </li>
            <li>
              <p>
                Section "Device". You may want to set some of the options
                available for your selected video driver. A description of
                the driver parameters is in the man page for your driver.
              </p>
            </li>
            <li>
              <p>
                Section "Screen". Add a DefaultDepth statement such as:
                <em class="parameter"><tt>DefaultDepth 16</tt></em>. In the
                SubSection for your default depth, add a modes line such as:
                <em class="parameter"><tt>Modes "1280x1024"
                "1024x768"</tt></em>. The first mode listed will normally be
                the starting resolution.
              </p>
            </li>
          </ul>
        </div>
        <p>
          Test the system with:
        </p>
        <pre class="userinput"><kbd class="command"><span><strong class=
        "command">XFree86 -xf86config ~/XF86Config.new</strong></span></kbd></pre>
        <p>
          You will only get a gray background with an X-shaped mouse cursor,
          but it confirms the system is working. Exit with
          Control-Alt-Backspace. If the system does not work, examine
          <tt class="filename">/var/log/XFree86.0.log</tt> to see what went
          wrong.
        </p>
        <p>
          Move the configuration file to its final location:
        </p>
        <pre class="userinput"><kbd class="command"><span><strong class=
        "command">mv ~/XF86Config.new /etc/X11/XF86Config</strong></span></kbd></pre>
        <p>
          Create <tt class="filename">.xinitrc</tt>:
        </p>
        <pre class="userinput"><kbd class="command"><span><strong class=
        "command">cat &gt; ~/.xinitrc &lt;&lt; "EOF"</strong></span>
# Begin .xinitrc file
xterm  -g 80x40+0+0   &amp;
xclock -g 100x100-0+0 &amp;
twm
<span><strong class="command">EOF</strong></span></kbd></pre>
        <p>
          This provides an initial screen with an xterm and a clock that is
          managed by a simple window manager, Tab Window Manager. For details
          of <span><strong class="command">twm</strong></span>, see the man
          page.
        </p>
        <div class="note">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="admontitle">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              When needed, <span class="application">XFree86</span> creates
              the directory <tt class="filename">/tmp/.ICE-unix</tt> if it
              does not exist. If this directory is not owned by root,
              <span class="application">XFree86</span> delays startup by a
              few seconds and also appends a warning to the logfile. This
              also affects startup of other applications. To improve
              performance, it is advisable to manually create the directory
              before <span class="application">XFree86</span> uses it. Add
              the file creation to <tt class=
              "filename">/etc/sysconfig/createfiles</tt> that is sourced by
              the <tt class="filename">/etc/rc.d/init.d/cleanfs</tt> startup
              script.
            </p>
            <pre class="userinput"><kbd class="command"><span><strong class=
            "command">cat &gt;&gt; /etc/sysconfig/createfiles &lt;&lt; "EOF"</strong></span>
/tmp/.ICE-unix dir 1777 root root
<span><strong class="command">EOF</strong></span></kbd></pre>
          </div>
        </div>
        <p>
          Start <span class="application">X</span> with:
        </p>
        <pre class="userinput"><kbd class="command"><span><strong class=
        "command">startx</strong></span></kbd></pre>
        <p>
          to get a basic functional <span class="application">X</span> Window
          System.
        </p>
        <p>
          At this point, you should check out <a href="xfree86-setup.html"
          title="X Window System Components">the section called &ldquo;X
          Window System Components&rdquo;</a>.
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="xfree86-contents" name="xfree86-contents"></a>
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <p>
          The <span class="application">XFree86</span> package contains the
          <span class="application">X</span> Window System for Linux (and
          other operating systems). It includes the <span class=
          "application">X</span> server, fonts, <span><strong class=
          "command">xterm</strong></span>, a simple window manager
          (<span><strong class="command">twm</strong></span>), various
          utilities, video output drivers, and various input drivers
          including the mouse and keyboard.
        </p>
        <p>
          <span class="application">XFree86</span> also contains libraries
          and header files for development of the <span class=
          "application">X</span> Window System programs.
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Description
          </h2>
        </div>
        <div class="note">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="admontitle">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              The following lists are not comprehensive. The full list of
              programs is in <tt class="filename">/usr/X11R6/bin</tt>. For
              additional information about these programs, see the respective
              man page.
            </p>
          </div>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">XFree86,
              xf86config, xf86cfg, startx, xinit, twm, xterm, xwininfo,
              x11perf, xlsfonts, xvidtune, xload, xcalc, xclock, oclock,
              xmodmap</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Libraries:</span></strong> <span class="seg">libGL.so,
              libGLU.so, libSM.so, libXi.so, libXrender.so, libXt.so,
              libXfont.so</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directories:</span></strong> <span class="seg">/usr/X11R6/,
              /etc/X11/</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2587836" name="id2587836"></a>Short Descriptions
          </h3>
          <dl>
            <dt>
              <a id="XFree86" name="XFree86"></a><span class=
              "term"><span><strong class=
              "command">XFree86</strong></span></span>
            </dt>
            <dd>
              <p>
                is the X11R6 implementation of the <span class=
                "application">X</span> Window System server.
              </p>
            </dd>
            <dt>
              <a id="xf86config" name="xf86config"></a><span class=
              "term"><span><strong class=
              "command">xf86config</strong></span></span>
            </dt>
            <dd>
              <p>
                is an interactive program for generating an <tt class=
                "filename">XF86Config</tt> file for use with <span class=
                "application">XFree86</span> <span class=
                "application">X</span> servers.
              </p>
            </dd>
            <dt>
              <a id="xf86cfg" name="xf86cfg"></a><span class=
              "term"><span><strong class=
              "command">xf86cfg</strong></span></span>
            </dt>
            <dd>
              <p>
                is a tool to configure <span class=
                "application">XFree86</span> that can be used to either write
                the initial configuration file or make customizations to the
                current configuration.
              </p>
            </dd>
            <dt>
              <a id="startx" name="startx"></a><span class=
              "term"><span><strong class=
              "command">startx</strong></span></span>
            </dt>
            <dd>
              <p>
                is a script to initialize the <span class=
                "application">X</span> session. It runs <span><strong class=
                "command">xinit</strong></span>.
              </p>
            </dd>
            <dt>
              <a id="xinit" name="xinit"></a><span class=
              "term"><span><strong class=
              "command">xinit</strong></span></span>
            </dt>
            <dd>
              <p>
                is used to start the <span class="application">X</span>
                Window System server.
              </p>
            </dd>
            <dt>
              <a id="twm" name="twm"></a><span class=
              "term"><span><strong class="command">twm</strong></span></span>
            </dt>
            <dd>
              <p>
                (Tab Window Manager) is a window manager included with the
                <span class="application">X</span> Window System.
              </p>
            </dd>
            <dt>
              <a id="xterm" name="xterm"></a><span class=
              "term"><span><strong class=
              "command">xterm</strong></span></span>
            </dt>
            <dd>
              <p>
                is a terminal emulator for <span class=
                "application">X</span>.
              </p>
            </dd>
            <dt>
              <a id="xwininfo" name="xwininfo"></a><span class=
              "term"><span><strong class=
              "command">xwininfo</strong></span></span>
            </dt>
            <dd>
              <p>
                is a window information utility for <span class=
                "application">X</span>.
              </p>
            </dd>
            <dt>
              <a id="x11perf" name="x11perf"></a><span class=
              "term"><span><strong class=
              "command">x11perf</strong></span></span>
            </dt>
            <dd>
              <p>
                is an <span class="application">X</span>11 server performance
                test program.
              </p>
            </dd>
            <dt>
              <a id="xlsfonts" name="xlsfonts"></a><span class=
              "term"><span><strong class=
              "command">xlsfonts</strong></span></span>
            </dt>
            <dd>
              <p>
                is a program to list fonts available to the <span class=
                "application">X</span> server.
              </p>
            </dd>
            <dt>
              <a id="xvidtune" name="xvidtune"></a><span class=
              "term"><span><strong class=
              "command">xvidtune</strong></span></span>
            </dt>
            <dd>
              <p>
                is a video mode tuner for <span class=
                "application">XFree86</span>.
              </p>
            </dd>
            <dt>
              <a id="xload" name="xload"></a><span class=
              "term"><span><strong class=
              "command">xload</strong></span></span>
            </dt>
            <dd>
              <p>
                is a system load average display for <span class=
                "application">X</span>.
              </p>
            </dd>
            <dt>
              <a id="xcalc" name="xcalc"></a><span class=
              "term"><span><strong class=
              "command">xcalc</strong></span></span>
            </dt>
            <dd>
              <p>
                is a scientific calculator for <span class=
                "application">X</span>.
              </p>
            </dd>
            <dt>
              <a id="xclock" name="xclock"></a><span class=
              "term"><span><strong class=
              "command">xclock</strong></span></span>
            </dt>
            <dd>
              <p>
                is a clock programs for <span class="application">X</span>.
              </p>
            </dd>
            <dt>
              <a id="oclock" name="oclock"></a><span class=
              "term"><span><strong class=
              "command">oclock</strong></span></span>
            </dt>
            <dd>
              <p>
                is a clock programs for <span class="application">X</span>.
              </p>
            </dd>
            <dt>
              <a id="xmodmap" name="xmodmap"></a><span class=
              "term"><span><strong class=
              "command">xmodmap</strong></span></span>
            </dt>
            <dd>
              <p>
                is a utility for modifying keymaps and pointer button
                mappings in <span class="application">X</span>.
              </p>
            </dd>
          </dl>
        </div>
      </div>
      <p class="updated">
        Last updated on 2005-02-22 23:38:15 -0700
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="installing.html" title=
          "X Window System Environment">Prev</a>
          <p>
            X Window System Environment
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xfree86-setup.html" title=
          "X Window System Components">Next</a>
          <p>
            X Window System Components
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="installing.html" title=
          "Chapter&nbsp;25.&nbsp;X Window System Environment">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
