<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "text/html; charset=iso-8859-1" />
    <title>
      The /usr versus /usr/local debate
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.67.2" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.0
        </h4>
        <h3>
          Chapter&nbsp;2.&nbsp;Important Information
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="unpacking.html" title=
          "Notes on building software">Prev</a>
          <p>
            Notes on building software
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="patches.html" title=
          "Optional Patches">Next</a>
          <p>
            Optional Patches
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="important.html" title=
          "Chapter&nbsp;2.&nbsp;Important Information">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="intro-important-position" name="intro-important-position"></a>
        <h1 class="sect1">
          The /usr versus /usr/local debate
        </h1>
      </div>
      <p>
        <span class="emphasis"><em>Should I install XXX in <tt class=
        "filename">/usr</tt> or <tt class=
        "filename">/usr/local</tt>?</em></span>
      </p>
      <p>
        This is a question without an obvious answer for an <span class=
        "acronym">LFS</span> based system.
      </p>
      <p>
        In traditional Unix systems, <tt class="filename">/usr</tt> usually
        contains files that come with the system distribution, and the
        <tt class="filename">/usr/local</tt> tree is free for the local
        administrator to manage. The only really hard and fast rule is that
        Unix distributions should not touch <tt class=
        "filename">/usr/local</tt>, except perhaps to create the basic
        directories within it.
      </p>
      <p>
        With Linux distributions, like Red Hat, Debian etc. a possible rule
        is that <tt class="filename">/usr</tt> is managed by the
        distribution's package system and <tt class=
        "filename">/usr/local</tt> is not. This way the package manager's
        database knows about every file within <tt class=
        "filename">/usr</tt>.
      </p>
      <p>
        <span class="acronym">LFS</span> users build their own system and so
        deciding where the system ends and local files begin is not
        straightforward. So the choice should be made in order to make things
        easier to administer. There are several reasons for dividing files
        between <tt class="filename">/usr</tt> and <tt class=
        "filename">/usr/local</tt>.
      </p>
      <div class="itemizedlist">
        <ul>
          <li>
            <p>
              On a network of several machines all running <span class=
              "acronym">LFS</span>, or mixed <span class="acronym">LFS</span>
              and other Linux distributions, <tt class=
              "filename">/usr/local</tt> could be used to hold packages that
              are common between all the computers in the network. It can be
              <span class="acronym">NFS</span> mounted or mirrored from a
              single server. Here local indicates local to the site.
            </p>
          </li>
          <li>
            <p>
              On a network of several computers all running an identical
              <span class="acronym">LFS</span> system <tt class=
              "filename">/usr/local</tt> could hold packages that are
              different between the machines. In this case local refers to
              the individual computers.
            </p>
          </li>
          <li>
            <p>
              Even on a single computer <tt class="filename">/usr/local</tt>
              can be useful if you have several distributions installed
              simultaneously, and want a place to put packages that will be
              the same on all of them.
            </p>
          </li>
          <li>
            <p>
              Or you might regularly rebuild your <span class=
              "acronym">LFS</span>, but want a place to put files that you
              don't want to rebuild each time. This way you can wipe the
              <span class="acronym">LFS</span> file system and start from a
              clean partition every time without losing everything.
            </p>
          </li>
        </ul>
      </div>
      <p>
        Some people ask why not use your own directory tree, e.g., <tt class=
        "filename">/usr/site</tt>, rather than <tt class=
        "filename">/usr/local</tt>?
      </p>
      <p>
        There is nothing stopping you, many sites do make their own trees,
        however it makes installing new software more difficult. Automatic
        installers often look for dependencies in <tt class=
        "filename">/usr</tt> and <tt class="filename">/usr/local</tt>, and if
        the file it is looking for is in <tt class="filename">/usr/site</tt>
        instead, the installer will probably fail unless you specifically
        tell it where to look.
      </p>
      <p>
        <span class="emphasis"><em>What is the <span class=
        "acronym">BLFS</span> position on this?</em></span>
      </p>
      <p>
        All of the <span class="acronym">BLFS</span> instructions install
        programs in <tt class="filename">/usr</tt> with optional instructions
        to install into <tt class="filename">/opt</tt> for some specific
        packages.
      </p>
      <p class="updated">
        Last updated on 2005-02-04 00:30:54 -0700
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="unpacking.html" title=
          "Notes on building software">Prev</a>
          <p>
            Notes on building software
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="patches.html" title=
          "Optional Patches">Next</a>
          <p>
            Optional Patches
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="important.html" title=
          "Chapter&nbsp;2.&nbsp;Important Information">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
