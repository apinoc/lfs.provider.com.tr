<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      gnome-screensaver-2.14.3
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.2.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.2.0
        </h4>
        <h3>
          Chapter&nbsp;32.&nbsp;GNOME Additional Packages
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="gdm.html" title="GDM-2.14.10">Prev</a>
          <p>
            GDM-2.14.10
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="at-spi.html" title="AT SPI-1.7.7">Next</a>
          <p>
            AT SPI-1.7.7
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="add.html" title=
          "Chapter&nbsp;32.&nbsp;GNOME Additional Packages">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="gnome-screensaver" name="gnome-screensaver"></a>
        <h1 class="sect1">
          gnome-screensaver-2.14.3
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to gnome-screensaver
          </h2>
        </div>
        <p>
          The <span class="application">gnome-screensaver</span> package
          contains a screen saver and locker designed to have simple, sane,
          secure defaults and be well integrated with the desktop. It
          supports locking down of configuration settings, has translations
          into many languages and convenient user switching.
        </p>
        <h3>
          <a id="id2839540" name="id2839540"></a>Package Information
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Download (HTTP): <a href=
                "http://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.14/gnome-screensaver-2.14.3.tar.bz2">
                <span class=
                "url">http://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.14/gnome-screensaver-2.14.3.tar.bz2</span></a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a href=
                "ftp://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.14/gnome-screensaver-2.14.3.tar.bz2">
                <span class=
                "url">ftp://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.14/gnome-screensaver-2.14.3.tar.bz2</span></a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 2ed0b9322d284bb1739e037165ca94f2
              </p>
            </li>
            <li>
              <p>
                Download size: 1.9 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 18.5 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 0.3 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2632098" name="id2632098"></a>gnome-screensaver
          Dependencies
        </h3>
        <h4>
          <a id="id2844225" name="id2844225"></a>Required
        </h4>
        <p class="required">
          <a href="../general/dbus.html">D-BUS-0.62</a>, <a href=
          "libgnomeui.html">libgnomeui-2.14.1</a>, and <a href=
          "gnome-menus.html">gnome-menus-2.14.3</a>
        </p>
        <h4>
          <a id="id2977236" name="id2977236"></a>Optional
        </h4>
        <p class="optional">
          <a href="../general/intltool.html">intltool-0.34.2</a>, <a href=
          "../general/libexif.html">libexif-0.6.13</a>, <a href=
          "../postlfs/linux-pam.html">Linux-PAM-0.99.4.0</a>, <a href=
          "../general/xscreensaver.html">XScreenSaver-4.24</a> (and <a href=
          "../general/libxslt.html">libxslt-1.1.17</a>), and <a href=
          "gdm.html">GDM-2.14.10</a>
        </p>
        <p class="usernotes">
          User Notes: <a href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/gnome-screensaver"><span class="url">
          http://wiki.linuxfromscratch.org/blfs/wiki/gnome-screensaver</span></a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of gnome-screensaver
          </h2>
        </div>
        <div class="note">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="admontitle">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              <span class="emphasis"><em>Optional Features</em></span>
            </p>
            <p>
              <span class="strong"><strong>1.</strong></span> If you have
              <span class="application">XScreenSaver</span> installed and
              wish to import any or all of the &ldquo;<span class=
              "quote">hacks</span>&rdquo; into <span class=
              "application">gnome-screensaver</span> themes, set the
              following environment variable (modify it if <span class=
              "application">XScreenSaver</span> is installed in a
              non-standard location):
            </p>
            <pre class="userinput"><kbd class=
            "command">XSAVERDIR=/usr/share/xscreensaver/config</kbd></pre>
            <p>
              Also add the following parameter to the <span><strong class=
              "command">configure</strong></span> script below:
            </p>
            <pre class="userinput"><kbd class=
            "command">            --with-xscreensaverdir=$XSAVERDIR</kbd></pre>
            <p>
              <span class="strong"><strong>2.</strong></span> If you have
              <span class="application">GDM</span> installed and wish to
              provide user-switching from the <span class=
              "application">gnome-screensaver</span> unlock-screen dialog
              box, add the following parameter to the <span><strong class=
              "command">configure</strong></span> script below:
            </p>
            <pre class="userinput"><kbd class=
            "command">            --with-gdm-config=/etc/gnome/2.14.3/gdm/custom.conf</kbd></pre>
          </div>
        </div>
        <p>
          Install <span class="application">gnome-screensaver</span> by
          running the following commands:
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -i 's|etc/pam\.d"|etc"|' data/Makefile.in &amp;&amp;
./configure --prefix=$(pkg-config --variable=prefix ORBit-2.0) \
            --sysconfdir=/etc/gnome/2.14.3 \
            --libexecdir=$(pkg-config \
                --variable=prefix ORBit-2.0)/lib/gnome-screensaver \
            --with-pam-prefix=/etc &amp;&amp;
make</kbd></pre>
        <p>
          If you have <span class="application">XScreenSaver</span> installed
          and wish to import any or all of the &ldquo;<span class=
          "quote">hacks</span>&rdquo; into <span class=
          "application">gnome-screensaver</span> themes, you'll need to
          identify which &ldquo;<span class="quote">hacks</span>&rdquo; you
          wish to import. The commands below will import all of them. If you
          want to import less than all of them, modify the setting of the
          <tt class="envar">XSAVERLIST</tt> environment variable below
          (listing the desired hacks by filename without the extension, space
          delimited) and issue the following commands:
        </p>
        <pre class="userinput"><kbd class=
        "command">mkdir xscreensavers &amp;&amp;
cd xscreensavers &amp;&amp;

XSAVERLIST="*" &amp;&amp;

for SAVERLIST in $(ls ${XSAVERDIR}/${XSAVERLIST}.xml); do
    ../data/migrate-xscreensaver-config.sh $SAVERLIST
done &amp;&amp;

unset XSAVERDIR
unset XSAVERLIST
unset SAVERLIST

cd ..</kbd></pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Now, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class="command">make install &amp;&amp;
install -v -m644 -D doc/DBUS-API.txt \
    $(pkg-config --variable=prefix \
        ORBit-2.0)/share/doc/gnome-screensaver-2.14.3/DBUS-API.txt</kbd></pre>
        <p>
          If you identified some, or all, <span class=
          "application">XScreenSaver</span> hacks to be imported into
          <span class="application">gnome-screensaver</span>, install them by
          issuing the following commands as the <tt class=
          "systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class=
        "command">install -v -m755 -d $(pkg-config --variable=prefix \
        ORBit-2.0)/share/gnome-screensaver/themes/xscreensaver &amp;&amp;
install -v -m644 xscreensavers/*.desktop \
        $(pkg-config --variable=prefix \
            ORBit-2.0)/share/gnome-screensaver/themes/xscreensaver</kbd></pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command Explanations
          </h2>
        </div>
        <p>
          <span><strong class="command">sed -i 's|etc/pam\.d"|etc|'
          data/Makefile.in</strong></span>: This command is used so that an
          erroneous message to copy the PAM configuration file is not
          displayed.
        </p>
        <p>
          <em class="parameter"><tt>--prefix=$(pkg-config --variable=prefix
          ORBit-2.0)</tt></em>: Setting the prefix using this parameter
          instead of with <tt class="envar">$GNOME_PREFIX</tt> will ensure
          that the prefix is consistent with the installation environment and
          the package will be installed in the correct location.
        </p>
        <p>
          <em class="parameter"><tt>--sysconfdir=/etc/gnome/2.14.3</tt></em>:
          This parameter causes the configuration files to be installed in
          <tt class="filename">/etc/gnome/2.14.3</tt> instead of <tt class=
          "filename">$GNOME_PREFIX/etc</tt>. Additionally (if applicable),
          the parameter ensures that the <span class=
          "application">GConf</span>-2 database is correctly updated.
        </p>
        <p>
          <em class="parameter"><tt>--libexecdir=$(pkg-config
          --variable=prefix ORBit-2.0)/lib/gnome-screensaver</tt></em>: This
          parameter causes the libexec files to be installed in the preferred
          location of <tt class=
          "filename">$GNOME_PREFIX/lib/gnome-screensaver</tt> instead of
          <tt class="filename">$GNOME_PREFIX/libexec</tt>.
        </p>
        <p>
          <em class="parameter"><tt>--with-pam-prefix=/etc</tt></em>: This
          parameter is used so that the <span class=
          "application">Linux-PAM</span> configuration file for the
          <span class="application">gnome-screensaver</span> application is
          installed in the correct location. You may omit this parameter if
          you don't have <span class="application">Linux-PAM</span>
          installed, though it won't affect the build if you don't.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Configuring gnome-screensaver
          </h2>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="gnome-screensaver-config" name=
                  "gnome-screensaver-config"></a>Config Files
                </h4>
              </div>
            </div>
          </div>
          <p>
            <tt class="filename">/etc/pam.d/gnome-screensaver</tt>,
            <tt class="filename">/etc/gnome/2.14.3/gdm/custom.conf</tt>
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2894433" name="id2894433"></a>Configuration
                  Information
                </h4>
              </div>
            </div>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2730700" name="id2730700"></a>General
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              Most of the <span class="application">gnome-screensaver</span>
              configuration parameters can be modified using the <span class=
              "guimenuitem">Screensaver</span> menu item from the
              <span class="guimenu">Desktop</span>&mdash;<span class=
              "guisubmenu">Preferences</span> drop-down menu. Some of the
              fine-tuning parameters are only available using <a href=
              "gconf-editor.html">GConf Editor-2.14.0</a>.
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2850556" name="id2850556"></a>Linux-PAM
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              If you have <span class="application">Linux-PAM</span>
              installed, the just-installed <tt class=
              "filename">gnome-screensaver</tt> configuration file does not
              work with a BLFS system. Replace the existing file with one
              that can be used on a BLFS system by issuing the following
              command as the <tt class="systemitem">root</tt> user:
            </p>
            <pre class="root"><kbd class=
            "command">cat &gt; /etc/pam.d/gnome-screensaver &lt;&lt; "EOF"
<tt class="literal"># File: /etc/pam.d/gnome-screensaver

auth         required      pam_unix.so
account      required      pam_unix.so
session      required      pam_unix.so
password     required      pam_unix.so</tt>

EOF
chmod -v 644 /etc/pam.d/gnome-screensaver</kbd></pre>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2838480" name="id2838480"></a>User-Switching
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              If you have <span class="application">GDM</span> installed and
              you passed the <tt class="option">--with-gdm-config=</tt>
              option to the <span><strong class=
              "command">configure</strong></span> script, the
              screen-unlocking dialog box will contain an option to
              &ldquo;<span class="quote">Switch Users</span>&rdquo;. This
              user switching option uses the same configuration as
              <span class="application">GDM</span> to determine what users
              are displayed in this dialog. You can use the <span class=
              "application">GDM</span> configuration option from the GDM
              login screen, or you can directly edit the <tt class=
              "filename">/etc/gnome/2.14.3/gdm/custom.conf</tt> file to
              modify the settings.
            </p>
          </div>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">gnome-screensaver,
              gnome-screensaver-command and
              gnome-screensaver-preferences</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Libraries:</span></strong> <span class="seg">None</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directories:</span></strong> <span class="seg"><tt class=
              "envar">$GNOME_PREFIX</tt>/share/{doc/gnome-screensaver-2.14.2,
              gnome-screensaver, pixmaps/backgrounds/cosmos}</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2755833" name="id2755833"></a>Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <a id="gnome-screensaver-prog" name=
                  "gnome-screensaver-prog"></a><span class=
                  "term"><span><strong class=
                  "command">gnome-screensaver</strong></span></span>
                </td>
                <td>
                  <p>
                    is a screensaver and screen-locking program designed to
                    work seamlessly with the GNOME desktop.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2007-02-01 14:12:29 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="gdm.html" title="GDM-2.14.10">Prev</a>
          <p>
            GDM-2.14.10
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="at-spi.html" title="AT SPI-1.7.7">Next</a>
          <p>
            AT SPI-1.7.7
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="add.html" title=
          "Chapter&nbsp;32.&nbsp;GNOME Additional Packages">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
