<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      PHP-5.1.4
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.2.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.2.0
        </h4>
        <h3>
          Chapter&nbsp;12.&nbsp;Programming
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="perl-modules.html" title=
          "Perl Modules">Prev</a>
          <p>
            Perl Modules
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="python.html" title="Python-2.4.4">Next</a>
          <p>
            Python-2.4.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapter&nbsp;12.&nbsp;Programming">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="php" name="php"></a>
        <h1 class="sect1">
          PHP-5.1.4
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to PHP
          </h2>
        </div>
        <p>
          <span class="application">PHP</span> is the PHP Hypertext
          Preprocessor. Primarily used in dynamic web sites, it allows for
          programming code to be directly embedded into the HTML markup.
        </p>
        <h3>
          <a id="id2758664" name="id2758664"></a>Package Information
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Download (HTTP): <a href=
                "http://us2.php.net/distributions/php-5.1.4.tar.bz2"><span class="url">
                http://us2.php.net/distributions/php-5.1.4.tar.bz2</span></a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a href=
                "ftp://ftp.isu.edu.tw/pub/Unix/Web/PHP/distributions/php-5.1.4.tar.bz2">
                <span class=
                "url">ftp://ftp.isu.edu.tw/pub/Unix/Web/PHP/distributions/php-5.1.4.tar.bz2</span></a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 66a806161d4a2d3b5153ebe4cd0f2e1c
              </p>
            </li>
            <li>
              <p>
                Download size: 6.3 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 213 MB (includes installing
                all documentation)
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 2.5 SBU (additional 1.9 SBU to run the
                test suite)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2694727" name="id2694727"></a>Additional Downloads
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Pre-built documentation (optional): <a href=
                "http://www.php.net/download-docs.php"><span class=
                "url">http://www.php.net/download-docs.php</span></a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2775592" name="id2775592"></a>PHP Dependencies
        </h3>
        <h4>
          <a id="id2587788" name="id2587788"></a>Required
        </h4>
        <p class="required">
          <a href="../server/majorservers.html#apache">Apache-2.2.2</a>
        </p>
        <h4>
          <a id="id2597227" name="id2597227"></a>Recommended
        </h4>
        <p class="recommended">
          <a href="libxml2.html">libxml2-2.6.26</a>
        </p>
        <h4>
          <a id="id2718127" name="id2718127"></a>Optional System Utilities
          and Libraries
        </h4>
        <p class="optional">
          <a href="libxslt.html">libxslt-1.1.17</a>, <a href=
          "gmp.html">GMP-4.2</a>, <a href="genlib.html#pcre">PCRE-6.7</a>,
          <a href="aspell.html">Aspell-0.60.4</a>, <a href=
          "pkgconfig.html">pkg-config-0.20</a>, <a href=
          "expat.html">expat-2.0.0</a> (deprecated alternative to <a href=
          "libxml2.html">libxml2-2.6.26</a>), <a href=
          "http://www.ossp.org/pkg/lib/mm/"><span class="url">OSSP
          mm</span></a>, <a href="http://www.net-snmp.org/"><span class=
          "url">Net-SNMP</span></a>, <a href=
          "http://www.gnu.org/software/pth/"><span class="url">GNU
          Pth</span></a>, <a href="http://re2c.org/"><span class=
          "url">re2c</span></a>, <a href=
          "http://xmlrpc-epi.sourceforge.net/main.php?t=php_about"><span class="url">
          XMLRPC-EPI</span></a>, <a href="http://dmalloc.com/"><span class=
          "url">Dmalloc</span></a>, <a href=
          "http://www.gnu.org/software/recode/"><span class=
          "url">recode</span></a>, and an <a href=
          "../server/mail.html">MTA</a> (that provides a <span><strong class=
          "command">sendmail</strong></span> command)
        </p>
        <h4>
          <a id="id2806442" name="id2806442"></a>Optional Graphics Utilities
          and Libraries
        </h4>
        <p class="optional">
          <a href="graphlib.html#libjpeg">libjpeg-6b</a>, <a href=
          "libtiff.html">LibTIFF-3.8.2</a>, <a href=
          "libpng.html">libpng-1.2.12</a>, <a href=
          "libexif.html">libexif-0.6.13</a>, <a href=
          "freetype2.html">FreeType-2.1.10</a>, <a href=
          "../x/installing.html">X Window System</a>, <a href=
          "http://www.fastio.com/"><span class="url">ClibPDF</span></a>,
          <a href="http://www.boutell.com/gd/"><span class=
          "url">GD</span></a>, <a href=
          "http://gd.tuwien.ac.at/visual/ibiblio/libs/graphics/t1lib-5.1.0.tar.gz">
          <span class="url">t1lib</span></a>, and <a href=
          "http://partners.adobe.com/asn/acrobat/forms.jsp"><span class=
          "url">FDF Toolkit</span></a>
        </p>
        <h4>
          <a id="id2803427" name="id2803427"></a>Optional Web Utilities
        </h4>
        <p class="optional">
          <a href="../basicnet/netlibs.html#curl">cURL-7.15.3</a>, <a href=
          "tidy.html">HTML Tidy-051026</a>, <a href=
          "http://www.mnogosearch.org/"><span class=
          "url">mnoGoSearch</span></a>, <a href=
          "http://www.hyperwave.com/"><span class="url">Hyperwave</span></a>,
          <a href="http://www.roxen.com/products/webserver/"><span class=
          "url">Roxen WebServer</span></a>, <a href=
          "http://caudium.net/"><span class="url">Caudium</span></a>, and
          <a href="http://www.openwddx.org/"><span class=
          "url">WDDX</span></a>
        </p>
        <h4>
          <a id="id2803220" name="id2803220"></a>Optional Data Management
          Utilities and Libraries
        </h4>
        <p class="optional">
          <a href="../server/openldap.html">OpenLDAP-2.3.27</a>, <a href=
          "gdbm.html">GDBM-1.8.3</a>, <a href=
          "../server/mysql.html">MySQL-5.0.21</a>, <a href=
          "../server/postgresql.html">PostgreSQL-8.1.3</a>, <a href=
          "unixodbc.html">unixODBC-2.2.11</a>, <a href=
          "http://qdbm.sourceforge.net/"><span class="url">QDBM</span></a>,
          <a href="http://cr.yp.to/cdb.html"><span class=
          "url">cdb</span></a>, <a href="http://www.sqlite.org/"><span class=
          "url">SQLite</span></a>, <a href=
          "http://www.hughes.com.au/products/msql/"><span class="url">Mini
          SQL</span></a>, <a href="http://www.empress.com/"><span class=
          "url">Empress</span></a>, <a href=
          "http://www.birdstep.com/"><span class="url">Birdstep</span></a>,
          <a href="http://www.dbmaker.com/"><span class=
          "url">DBMaker</span></a>, <a href=
          "http://www.softwareag.com/"><span class="url">Adabas</span></a>,
          <a href="http://www.frontbase.com/"><span class=
          "url">FrontBase</span></a>, and <a href=
          "http://www.mainstreetsoftworks.com/"><span class=
          "url">Monetra</span></a>
        </p>
        <p>
          <span class="application">PHP</span> also provides support for many
          commercial database tools such as <span class=
          "application">Oracle</span>, <span class="application">SAP</span>
          and <span class="application">ODBC Router</span>.
        </p>
        <h4>
          <a id="id2638865" name="id2638865"></a>Optional Security/Encryption
          Utilities and Libraries
        </h4>
        <p class="optional">
          <a href="../postlfs/security.html#openssl">OpenSSL-0.9.8d</a>,
          <a href="../postlfs/cyrus-sasl.html">Cyrus SASL-2.1.21</a>,
          <a href="../postlfs/mitkrb.html">MIT Kerberos V5-1.6</a> or
          <a href="../postlfs/heimdal.html">Heimdal-0.7.2</a>, <a href=
          "http://mcrypt.sourceforge.net/"><span class=
          "url">libmcrypt</span></a>, and <a href=
          "http://mhash.sourceforge.net/"><span class="url">mhash</span></a>
        </p>
        <p class="usernotes">
          User Notes: <a href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/php"><span class=
          "url">http://wiki.linuxfromscratch.org/blfs/wiki/php</span></a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of PHP
          </h2>
        </div>
        <p>
          You can use <span class="application">PHP</span> for server-side
          scripting, command-line scripting or client-side GUI applications.
          This book provides instructions for setting up <span class=
          "application">PHP</span> for server-side scripting as it is the
          most common form.
        </p>
        <div class="note">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="admontitle">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              <span class="application">PHP</span> has many more
              <span><strong class="command">configure</strong></span> options
              that will enable support for various things. You can use
              <span><strong class="command">./configure
              --help</strong></span> to see a full list of the available
              options. Also, use of the <a href=
              "http://www.php.net/"><span class="url">PHP web site</span></a>
              is highly recommended, as their online docs are very good. An
              example of a <span><strong class=
              "command">configure</strong></span> command that utilizes many
              of the most common dependencies can be found at <a href=
              "http://anduin.linuxfromscratch.org/files/BLFS/php_configure.txt">
              <span class=
              "url">http://anduin.linuxfromscratch.org/files/BLFS/php_configure.txt</span></a>.
            </p>
            <p>
              If, for whatever reason, you don't have <a href=
              "libxml2.html">libxml2-2.6.26</a> installed, you need to add
              <tt class="option">--disable-libxml</tt> to the
              <span><strong class="command">configure</strong></span> command
              in the instructions below. Note that this will prevent the
              <span><strong class="command">pear</strong></span> command from
              being built.
            </p>
          </div>
        </div>
        <p>
          Install <span class="application">PHP</span> by running the
          following commands:
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -i 's/const char \*errpfx,/const DB_ENV *dbenv, &amp; const/' \
    ext/dba/dba_db4.c &amp;&amp;
./configure --prefix=/usr \
            --sysconfdir=/etc \
            --with-apxs2 \
            --enable-force-cgi-redirect \
            --enable-discard-path \
            --with-config-file-path=/etc \
            --with-zlib \
            --enable-bcmath \
            --with-bz2 \
            --enable-calendar \
            --enable-dba \
            --enable-exif \
            --enable-ftp \
            --with-gettext \
            --enable-mbstring \
            --with-ncurses \
            --with-readline &amp;&amp;
make</kbd></pre>
        <p>
          To test the results, issue: <span><strong class="command">make
          test</strong></span>. Three of the (over 1600) tests are known to
          fail: an <span><strong class="command">iconv</strong></span> stream
          filter test (ext/iconv/tests/iconv_stream_filter.phpt) and two
          MBString function overload tests
          (ext/mbstring/tests/overload01.phpt and
          ext/mbstring/tests/overload02.phpt). Additionally, if you have the
          <span class="application">unixODBC</span> package installed and
          linked into the build, you may see many failures related to it.
        </p>
        <p>
          Now, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class="command">make install &amp;&amp;
install -v -m644 php.ini-recommended /etc/php.ini &amp;&amp;
install -v -m755 -d /usr/share/doc/php-5.1.4 &amp;&amp;
install -v -m644 CODING_STANDARDS EXTENSIONS INSTALL NEWS \
                 README* TODO* UPGRADING php.gif \
    /usr/share/doc/php-5.1.4 &amp;&amp;
ln -v -s /usr/lib/php/doc/Archive_Tar/docs/Archive_Tar.txt \
    /usr/share/doc/php-5.1.4</kbd></pre>
        <p>
          The pre-built HTML documentation is packaged in two forms: a
          tarball containing many individual files, useful for quick loading
          into your browser, and one large individual file, which is useful
          for using the search utility of your browser. If you downloaded
          either, or both, of the documentation files, issue the following
          commands as the <tt class="systemitem">root</tt> user to install
          them (note these instructions assume English docs, modify the
          tarball names below if necessary).
        </p>
        <p>
          For the &ldquo;<span class="quote">Single HTML</span>&rdquo; file:
        </p>
        <pre class="root"><kbd class=
        "command">install -v -m644 ../php_manual_en.html.gz \
    /usr/share/doc/php-5.1.4 &amp;&amp;
gunzip -v /usr/share/doc/php-5.1.4/php_manual_en.html.gz</kbd></pre>
        <p>
          For the &ldquo;<span class="quote">Many HTML files</span>&rdquo;
          tarball:
        </p>
        <pre class="root"><kbd class=
        "command">tar -xvf ../php_manual_en.tar.gz -C /usr/share/doc/php-5.1.4 &amp;&amp;
chown -v -R root:root /usr/share/doc/php-5.1.4/html</kbd></pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command Explanations
          </h2>
        </div>
        <p>
          <span><strong class="command">sed -i '...'
          ext/dba/dba_db4.c</strong></span>: This command is used to fix an
          issue with the use of Berkeley DB &gt;= 4.3.x.
        </p>
        <p>
          <em class="parameter"><tt>--with-apxs2</tt></em>: This parameter
          builds the Apache HTTPD 2.0 module.
        </p>
        <p>
          <em class="parameter"><tt>--with-config-file-path=/etc</tt></em>:
          This parameter makes <span class="application">PHP</span> look for
          the <tt class="filename">php.ini</tt> configuration file in
          <tt class="filename">/etc</tt>.
        </p>
        <p>
          <em class="parameter"><tt>--with-zlib</tt></em>: This parameter
          adds support for <span class="application">Zlib</span> compression.
        </p>
        <p>
          <em class="parameter"><tt>--enable-bcmath</tt></em>: Enables
          <span><strong class="command">bc</strong></span> style precision
          math functions.
        </p>
        <p>
          <em class="parameter"><tt>--with-bz2</tt></em>: Adds support for
          <span class="application">Bzip2</span> compression functions.
        </p>
        <p>
          <em class="parameter"><tt>--enable-calendar</tt></em>: This
          parameter provides support for calendar conversion.
        </p>
        <p>
          <em class="parameter"><tt>--enable-dba</tt></em>: This parameter
          enables support for database (dbm-style) abstraction layer
          functions.
        </p>
        <p>
          <em class="parameter"><tt>--enable-exif</tt></em>: Enables
          functions to access metadata from images.
        </p>
        <p>
          <em class="parameter"><tt>--enable-ftp</tt></em>: This parameter
          enables FTP functions.
        </p>
        <p>
          <em class="parameter"><tt>--with-gettext</tt></em>: Enables
          functions that use <span class="application">Gettext</span> text
          translation.
        </p>
        <p>
          <em class="parameter"><tt>--enable-mbstring</tt></em>: This
          parameter enables multibyte string support.
        </p>
        <p>
          <em class="parameter"><tt>--with-ncurses</tt></em>: Provides
          ncurses terminal independent cursor handling.
        </p>
        <p>
          <em class="parameter"><tt>--with-readline</tt></em>: This parameter
          enables command line <span class="application">Readline</span>
          support.
        </p>
        <p>
          <em class="parameter"><tt>--disable-libxml</tt></em>: This
          parameter allows building PHP without <span class=
          "application">libxml2</span> installed.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Configuring PHP
          </h2>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="php-config" name="php-config"></a>Config Files
                </h4>
              </div>
            </div>
          </div>
          <p>
            <tt class="filename">/etc/php.ini</tt> and <tt class=
            "filename">/etc/pear.conf</tt>
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2769542" name="id2769542"></a>Configuration
                  Information
                </h4>
              </div>
            </div>
          </div>
          <p>
            The file used as the default <tt class=
            "filename">/etc/php.ini</tt> configuration file is recommended by
            the <span class="application">PHP</span> development team. This
            file modifies the default behavior of <span class=
            "application">PHP</span>. If no <tt class=
            "filename">/etc/php.ini</tt> is used, all configuration settings
            fall to the defaults. You should review the comments in this file
            and ensure the changes are acceptable in your particular
            environment.
          </p>
          <p>
            You may have noticed the following from the output of the
            <span><strong class="command">make install</strong></span>
            command:
          </p>
          <pre class="screen"><tt class=
          "computeroutput">You may want to add: /usr/lib/php to your php.ini include_path</tt></pre>
          <p>
            If desired, add the entry using the following command as the
            <tt class="systemitem">root</tt> user:
          </p>
          <pre class="root"><kbd class=
          "command">sed -i 's@php/includes"@&amp;\ninclude_path = ".:/usr/lib/php"@' \
    /etc/php.ini</kbd></pre>
          <p>
            To enable PHP support in the <span class=
            "application">Apache</span> web server, a new LoadModule (which
            should be handled automatically by the <span><strong class=
            "command">make install</strong></span> command) and AddType
            directives must be added to the <tt class=
            "filename">httpd.conf</tt> file:
          </p>
          <pre class="screen"><tt class=
          "literal">LoadModule php5_module lib/apache/libphp5.so
AddType application/x-httpd-php .php</tt></pre>
          <p>
            Additionally, it can be useful to add an entry for <tt class=
            "filename">index.php</tt> to the DirectoryIndex directive of the
            <tt class="filename">httpd.conf</tt> file. Lastly, adding a line
            to setup the <tt class="filename">.phps</tt> extension to show
            highlighted <span class="application">PHP</span> source may be
            desirable:
          </p>
          <pre class="screen"><tt class=
          "literal">AddType application/x-httpd-php-source .phps</tt></pre>
          <p>
            You'll need to restart the <span class=
            "application">Apache</span> web server after making any
            modifications to the <tt class="filename">httpd.conf</tt> file.
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">pear, peardev,
              pecl, php, php-config and phpize</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Library:</span></strong> <span class="seg">libphp5.so Apache
              module</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directories:</span></strong> <span class=
              "seg">/usr/include/php, /usr/lib/php and
              /usr/share/doc/php-5.1.4</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2776298" name="id2776298"></a>Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <a id="php-prog" name="php-prog"></a><span class=
                  "term"><span><strong class=
                  "command">php</strong></span></span>
                </td>
                <td>
                  <p>
                    is a command line interface that enables you to parse and
                    execute PHP code.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="pear" name="pear"></a><span class=
                  "term"><span><strong class=
                  "command">pear</strong></span></span>
                </td>
                <td>
                  <p>
                    is the PHP Extension and Application Repository (PEAR)
                    package manager.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2007-01-17 06:57:47 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="perl-modules.html" title=
          "Perl Modules">Prev</a>
          <p>
            Perl Modules
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="python.html" title="Python-2.4.4">Next</a>
          <p>
            Python-2.4.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapter&nbsp;12.&nbsp;Programming">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
