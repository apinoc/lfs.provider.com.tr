<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      MC-4.6.1
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.2.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.2.0
        </h4>
        <h3>
          Chapter&nbsp;11.&nbsp;System Utilities
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="cpio.html" title="cpio-2.6">Prev</a>
          <p>
            cpio-2.6
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="sysstat.html" title="Sysstat-6.0.2">Next</a>
          <p>
            Sysstat-6.0.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapter&nbsp;11.&nbsp;System Utilities">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="mc" name="mc"></a>
        <h1 class="sect1">
          MC-4.6.1
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to MC
          </h2>
        </div>
        <p>
          <span class="application">MC</span> (Midnight Commander) is a
          text-mode full-screen file manager and visual shell. It provides a
          clear, user-friendly, and somewhat protected interface to a Unix
          system while making many frequent file operations more efficient
          and preserving the full power of the command prompt.
        </p>
        <h3>
          <a id="id2647316" name="id2647316"></a>Package Information
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Download (HTTP): <a href=
                "http://www.ibiblio.org/pub/Linux/utils/file/managers/mc/mc-4.6.1.tar.gz">
                <span class=
                "url">http://www.ibiblio.org/pub/Linux/utils/file/managers/mc/mc-4.6.1.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a href=
                "ftp://ftp.uni-koeln.de/util/shell/mc-4.6.1.tar.gz"><span class="url">
                ftp://ftp.uni-koeln.de/util/shell/mc-4.6.1.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 18b20db6e40480a53bac2870c56fc3c4
              </p>
            </li>
            <li>
              <p>
                Download size: 3.8 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 29 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 0.4 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2567424" name="id2567424"></a>Do I Need the Debian Patch?
        </h3>
        <p>
          Midnight Commander without the Debian patch is completely unusable
          in multibyte locales because it assumes that characters and bytes
          are the same thing. The issue manifests itself as massive screen
          content corruption similar to what is depicted in <a href=
          "http://anduin.linuxfromscratch.org/files/BLFS/mc-bad.png"><span class="url">
          this screenshot</span></a> (taken in the ru_RU.UTF-8 locale). For a
          general discussion of this type of issue, see the <a href=
          "../introduction/locale-issues.html#locale-wrong-multibyte-characters">
          Breaks Multibyte Characters</a> section of the <a href=
          "../introduction/locale-issues.html">Locale Related Issues</a>
          page. The Debian patch mostly fixes this issue, and adds support
          for recoding remote FTP filenames. Debian also fixed 64-bit issues,
          rare segfaults in <span><strong class=
          "command">mcedit</strong></span>, and improved syntax highlighting.
        </p>
        <p>
          If you do not use a multibyte locale and do not need any of the new
          features or fixes, the patch is still supposed to be harmless.
          However, the patch changes the dependencies and build instructions,
          and in the past it caused unacceptable regressions for non-UTF-8
          locale users. Thus, failsafe instructions without the patch are
          left in the book just in case. Due to the size and unofficial
          nature of the patch, please do not report bugs in the patched
          <span class="application">MC</span> to the original <span class=
          "application">MC</span> developers.
        </p>
        <h3>
          <a id="id2796475" name="id2796475"></a>MC Dependencies
        </h3>
        <h4>
          <a id="id2752714" name="id2752714"></a>Required
        </h4>
        <p class="required">
          <a href="Glib.html">GLib-1.2.10</a> (untested with Debian patch) or
          <a href="glib2.html">GLib-2.10.3</a>
        </p>
        <h4>
          <a id="id2769990" name="id2769990"></a>Optional
        </h4>
        <p class="optional">
          <a href="sysutils.html#gpm">GPM-1.20.1</a>, <a href=
          "../x/installing.html">X Window System</a>, <a href=
          "../server/samba3.html">Samba-3.0.23d</a>, <a href=
          "slang.html">S-Lang-2.0.6</a> (required when building with Debian
          patch), <a href="zip.html">Zip-2.32</a>, <a href=
          "unzip.html">UnZip-5.52</a>, and <a href=
          "../gnome/gnome-libs.html">GNOME Libraries-1.4.2</a>
        </p>
        <p class="usernotes">
          User Notes: <a href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/MC"><span class=
          "url">http://wiki.linuxfromscratch.org/blfs/wiki/MC</span></a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of MC
          </h2>
        </div>
        <p>
          If desired, apply Debian fixes:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../mc-4.6.1-debian_fixes-1.patch</kbd></pre>
        <p>
          Install <span class="application">MC</span> by running the
          following commands:
        </p>
        <pre class="userinput"><kbd class=
        "command">CPPFLAGS="-DUTF8" ./configure --prefix=/usr \
            --enable-charset &amp;&amp;
make</kbd></pre>
        <p>
          <span class="application">MC</span> with Debian patches expects its
          documentation to be stored in UTF-8 encoding on disk, and
          automatically converts it to the locale encoding when displaying on
          the terminal. This is different from the expectations of the
          unpatched <span class="application">MC</span>, so the documentation
          files have to be converted if (and only if) the Debian patch has
          been applied:
        </p>
        <pre class="userinput"><kbd class=
        "command">convert-mans ISO-8859-1 UTF-8 lib/mc.hint{,.es,.it,.nl} &amp;&amp;
convert-mans ISO-8859-2 UTF-8 lib/mc.hint{.cs,.hu,.pl} &amp;&amp;
convert-mans ISO-8859-5 UTF-8 lib/mc.hint.sr &amp;&amp;
convert-mans KOI8-R UTF-8 lib/mc.hint.ru &amp;&amp;
convert-mans KOI8-U UTF-8 lib/mc.hint.uk &amp;&amp;
convert-mans BIG5 UTF-8 lib/mc.hint.zh &amp;&amp;
convert-mans ISO-8859-1 UTF-8 doc/{es,it}/mc.hlp.* &amp;&amp;
convert-mans ISO-8859-2 UTF-8 doc/{hu,pl}/mc.hlp.* &amp;&amp;
convert-mans ISO-8859-5 UTF-8 doc/sr/mc.hlp.sr &amp;&amp;
convert-mans KOI8-R UTF-8 doc/ru/mc.hlp.ru</kbd></pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Now, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class="command">make install &amp;&amp;
chmod 1755 /usr/lib/mc/cons.saver</kbd></pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command Explanations
          </h2>
        </div>
        <p>
          <em class="parameter"><tt>CPPFLAGS="-DUTF8"</tt></em>: This
          parameter activates UTF-8 support in the Debian patch and has no
          effect without this patch.
        </p>
        <p>
          <em class="parameter"><tt>--enable-charset</tt></em>: This option
          adds support to <span><strong class=
          "command">mcedit</strong></span> for editing files in encodings
          different from the one implied by the current locale. This feature
          works in non-UTF-8 locales only, even with the Debian patch.
        </p>
        <p>
          <em class=
          "parameter"><tt>--with-screen=(slang|mcslang|ncurses)</tt></em>:
          This parameter selects the screen library used by <span class=
          "application">MC</span>. <span class="application">NCurses</span>
          support is currently buggy (MC does not handle mouse events in
          xterm correctly). UTF-8 support in the Debian patch is functional
          only when external <a href="slang.html">S-Lang-2.0.6</a> is used as
          a screen library (this is the default).
        </p>
        <p>
          <em class="parameter"><tt>--with-codepagedir=DIR</tt></em>: This
          parameter was useful only with <span class=
          "application">SAMBA</span>-2.x. New versions of <span class=
          "application">SAMBA</span> do not have codepage files.
        </p>
        <p>
          <span><strong class="command">chmod 1755
          /usr/lib/mc/cons.saver</strong></span>: The <span><strong class=
          "command">cons.saver</strong></span> program has to be installed
          setuid root, because on LFS regular users have no access to
          <tt class="filename">/dev/vcsa*</tt> devices. This step is optional
          if <span class="application">MC</span> is going to be started from
          X terminal emulators or <span><strong class=
          "command">ssh</strong></span> sessions only (thus rendering the
          <span><strong class="command">cons.saver</strong></span> binary
          completely unneeded).
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Configuring MC
          </h2>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="mc-config" name="mc-config"></a>Config Files
                </h4>
              </div>
            </div>
          </div>
          <p>
            <tt class="filename">~/.mc/*</tt>
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="id2618630" name="id2618630"></a>Configuration
                  Information
                </h4>
              </div>
            </div>
          </div>
          <p>
            The <tt class="filename">~/.mc</tt> directory and its contents
            are created when you start <span><strong class=
            "command">mc</strong></span> for the first time. Then you can
            edit the main <tt class="filename">~/.mc/ini</tt> configuration
            file manually or through the <span class="application">MC</span>
            shell. Consult the mc(1) man page for details.
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">cons.saver, mc,
              mcedit, mcmfmt, and mcview</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Libraries:</span></strong> <span class="seg">None</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directories:</span></strong> <span class="seg">/usr/share/mc
              and /usr/lib/mc</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2643390" name="id2643390"></a>Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <a id="conssaver" name="conssaver"></a><span class=
                  "term"><span><strong class=
                  "command">cons.saver</strong></span></span>
                </td>
                <td>
                  <p>
                    is used internally by <span><strong class=
                    "command">mc</strong></span> for saving and restoring the
                    text behind the panels on Linux text console.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="mc-prog" name="mc-prog"></a><span class=
                  "term"><span><strong class=
                  "command">mc</strong></span></span>
                </td>
                <td>
                  <p>
                    is a visual shell.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="mcedit" name="mcedit"></a><span class=
                  "term"><span><strong class=
                  "command">mcedit</strong></span></span>
                </td>
                <td>
                  <p>
                    is an internal file editor.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="mcmfmt" name="mcmfmt"></a><span class=
                  "term"><span><strong class=
                  "command">mcmfmt</strong></span></span>
                </td>
                <td>
                  <p>
                    is used internally by <span><strong class=
                    "command">mcview</strong></span> when viewing mailbox
                    files.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="mcview" name="mcview"></a><span class=
                  "term"><span><strong class=
                  "command">mcview</strong></span></span>
                </td>
                <td>
                  <p>
                    is an internal file viewer.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2007-02-13 23:01:46 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="cpio.html" title="cpio-2.6">Prev</a>
          <p>
            cpio-2.6
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="sysstat.html" title="Sysstat-6.0.2">Next</a>
          <p>
            Sysstat-6.0.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="sysutils.html" title=
          "Chapter&nbsp;11.&nbsp;System Utilities">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
