<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      TCP Wrapper-7.6
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.2.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.2.0
        </h4>
        <h3>
          Chapter&nbsp;18.&nbsp;Basic Networking Programs
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="subversion.html" title=
          "Subversion-1.3.1">Prev</a>
          <p>
            Subversion-1.3.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="wget.html" title="Wget-1.10.2">Next</a>
          <p>
            Wget-1.10.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="netprogs.html" title=
          "Chapter&nbsp;18.&nbsp;Basic Networking Programs">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="tcpwrappers" name="tcpwrappers"></a>
        <h1 class="sect1">
          TCP Wrapper-7.6
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to TCP Wrapper
          </h2>
        </div>
        <p>
          The <span class="application">TCP Wrapper</span> package provides
          daemon wrapper programs that report the name of the client
          requesting network services and the requested service.
        </p>
        <h3>
          <a id="id2701999" name="id2701999"></a>Package Information
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Download (HTTP): <a href=
                "http://files.ichilton.co.uk/nfs/tcp_wrappers_7.6.tar.gz"><span class="url">
                http://files.ichilton.co.uk/nfs/tcp_wrappers_7.6.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a href=
                "ftp://ftp.porcupine.org/pub/security/tcp_wrappers_7.6.tar.gz">
                <span class=
                "url">ftp://ftp.porcupine.org/pub/security/tcp_wrappers_7.6.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: e6fa25f71226d090f34de3f6b122fb5a
              </p>
            </li>
            <li>
              <p>
                Download size: 97 KB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 1.09 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: less than 0.1 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2779186" name="id2779186"></a>Additional Downloads
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Required Patch (Fixes some build issues and adds building a
                shared library): <a href=
                "http://www.linuxfromscratch.org/patches/blfs/6.2.0/tcp_wrappers-7.6-shared_lib_plus_plus-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/patches/blfs/6.2.0/tcp_wrappers-7.6-shared_lib_plus_plus-1.patch</span></a>
              </p>
            </li>
          </ul>
        </div>
        <p class="usernotes">
          User Notes: <a href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/tcpwrappers"><span class="url">
          http://wiki.linuxfromscratch.org/blfs/wiki/tcpwrappers</span></a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of TCP Wrapper
          </h2>
        </div>
        <p>
          Install <span class="application">TCP Wrapper</span> with the
          following commands:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../tcp_wrappers-7.6-shared_lib_plus_plus-1.patch &amp;&amp;
sed -i -e "s,^extern char \*malloc();,/* &amp; */," scaffold.c &amp;&amp;
make REAL_DAEMON_DIR=/usr/sbin STYLE=-DPROCESS_OPTIONS linux</kbd></pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Now, as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class="command">make install</kbd></pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command Explanations
          </h2>
        </div>
        <p>
          <span><strong class="command">sed -i -e ...
          scaffold.c</strong></span>: This command removes an obsolete C
          declaration which causes the build to fail if using <span class=
          "application">GCC &gt;= 3.4.x</span>.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Configuring TCP Wrapper
          </h2>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <div class="titlepage">
            <div>
              <div>
                <h4 class="title">
                  <a id="tcpwrappers-config" name=
                  "tcpwrappers-config"></a>Config Files
                </h4>
              </div>
            </div>
          </div>
          <p>
            <tt class="filename">/etc/hosts.allow</tt> and <tt class=
            "filename">/etc/hosts.deny</tt>
          </p>
          <p>
            File protections: the wrapper, all files used by the wrapper, and
            all directories in the path leading to those files, should be
            accessible but not writable for unprivileged users (mode 755 or
            mode 555). Do not install the wrapper set-uid.
          </p>
          <p>
            As the <tt class="systemitem">root</tt> user, perform the
            following edits on the <tt class="filename">/etc/inetd.conf</tt>
            configuration file:
          </p>
          <pre class="screen"><tt class=
          "literal">finger stream tcp nowait nobody /usr/sbin/in.fingerd in.fingerd</tt></pre>
          <p>
            becomes:
          </p>
          <pre class="screen"><tt class=
          "literal">finger stream tcp nowait nobody /usr/sbin/tcpd in.fingerd</tt></pre>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                The <span><strong class="command">finger</strong></span>
                server is used as an example here.
              </p>
            </div>
          </div>
          <p>
            Similar changes must be made if <span class=
            "application">xinetd</span> is used, with the emphasis being on
            calling <span><strong class=
            "command">/usr/sbin/tcpd</strong></span> instead of calling the
            service daemon directly, and passing the name of the service
            daemon to <span><strong class="command">tcpd</strong></span>.
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">tcpd, tcpdchk,
              tcpdmatch, try-from, and safe_finger</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Library:</span></strong> <span class=
              "seg">libwrap.{so,a}</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directories:</span></strong> <span class="seg">None</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2718834" name="id2718834"></a>Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <a id="tcpd" name="tcpd"></a><span class=
                  "term"><span><strong class=
                  "command">tcpd</strong></span></span>
                </td>
                <td>
                  <p>
                    is the main access control daemon for all Internet
                    services, which <span><strong class=
                    "command">inetd</strong></span> or <span><strong class=
                    "command">xinetd</strong></span> will run instead of
                    running the requested service daemon.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="tcpdchk" name="tcpdchk"></a><span class=
                  "term"><span><strong class=
                  "command">tcpdchk</strong></span></span>
                </td>
                <td>
                  <p>
                    is a tool to examine a <span><strong class=
                    "command">tcpd</strong></span> wrapper configuration and
                    report problems with it.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="tcpdmatch" name="tcpdmatch"></a><span class=
                  "term"><span><strong class=
                  "command">tcpdmatch</strong></span></span>
                </td>
                <td>
                  <p>
                    is used to predict how the TCP wrapper would handle a
                    specific request for a service.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="try-from" name="try-from"></a><span class=
                  "term"><span><strong class=
                  "command">try-from</strong></span></span>
                </td>
                <td>
                  <p>
                    can be called via a remote shell command to find out if
                    the host name and address are properly recognized.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="safe_finger" name="safe_finger"></a><span class=
                  "term"><span><strong class=
                  "command">safe_finger</strong></span></span>
                </td>
                <td>
                  <p>
                    is a wrapper for the <span><strong class=
                    "command">finger</strong></span> utility, to provide
                    automatic reverse name lookups.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="libwrap" name="libwrap"></a><span class=
                  "term"><tt class="filename">libwrap.{so,a}</tt></span>
                </td>
                <td>
                  <p>
                    contains the API functions required by the <span class=
                    "application">TCP Wrapper</span> programs as well as
                    other programs to become &ldquo;<span class=
                    "quote"><span class="application">TCP
                    Wrapper</span>-aware</span>&rdquo;.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2006-06-21 11:26:07 -0500
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="subversion.html" title=
          "Subversion-1.3.1">Prev</a>
          <p>
            Subversion-1.3.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="wget.html" title="Wget-1.10.2">Next</a>
          <p>
            Wget-1.10.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="netprogs.html" title=
          "Chapter&nbsp;18.&nbsp;Basic Networking Programs">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
