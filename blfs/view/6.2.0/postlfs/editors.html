<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      Chapter&nbsp;6.&nbsp;Editors
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.2.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.2.0
        </h4>
        <h3>
          Part&nbsp;II.&nbsp;Post LFS Configuration and Extra Software
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="xfsfs.html" title="XFS-2.8.18">Prev</a>
          <p>
            XFS-2.8.18
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="emacs.html" title="Emacs-21.4a">Next</a>
          <p>
            Emacs-21.4a
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="postlfs.html" title=
          "Part&nbsp;II.&nbsp;Post LFS Configuration and Extra Software">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="chapter" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="postlfs-editors" name="postlfs-editors"></a>
        <h1 class="chapter">
          Editors
        </h1>
      </div>
      <p>
        This chapter is referenced in the LFS book for those wishing to use
        other editors on their LFS system. You're also shown how some LFS
        installed programs benefit from being recompiled after GUI libraries
        have been installed.
      </p>
      <div class="sect1" lang="en" xml:lang="en">
        <div class="titlepage">
          <a id="vim" name="vim"></a>
          <h1 class="sect1">
            Vim-7.0
          </h1>
        </div>
        <div class="package" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Introduction to Vim
            </h2>
          </div>
          <p>
            The <span class="application">Vim</span> package, which is an
            abbreviation for VI IMproved, contains a <span><strong class=
            "command">vi</strong></span> clone with extra features as
            compared to the original <span><strong class=
            "command">vi</strong></span>.
          </p>
          <p>
            The default LFS instructions install <span class=
            "application">vim</span> as a part of the base system. If you
            would prefer to link <span class="application">vim</span> against
            <span class="application">X</span>, you should recompile
            <span class="application">vim</span> to enable GUI mode. There is
            no need for special instructions since <span class=
            "application">X</span> support is automatically detected.
          </p>
          <h3>
            <a id="id2699002" name="id2699002"></a>Package Information
          </h3>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Download (HTTP): <a href=
                  "http://ftp.at.vim.org/pub/vim/unix/vim-7.0.tar.bz2"><span class="url">
                  http://ftp.at.vim.org/pub/vim/unix/vim-7.0.tar.bz2</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download (FTP): <a href=
                  "ftp://ftp.vim.org/pub/vim/unix/vim-7.0.tar.bz2"><span class="url">
                  ftp://ftp.vim.org/pub/vim/unix/vim-7.0.tar.bz2</span></a>
                </p>
              </li>
              <li>
                <p>
                  Download MD5 sum: 4ca69757678272f718b1041c810d82d8
                </p>
              </li>
              <li>
                <p>
                  Download size: 6.3 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated disk space required: 73 MB
                </p>
              </li>
              <li>
                <p>
                  Estimated build time: 0.8 SBU
                </p>
              </li>
            </ul>
          </div>
          <h3>
            <a id="id2646969" name="id2646969"></a>Additional Downloads
          </h3>
          <div class="itemizedlist">
            <ul compact="compact">
              <li>
                <p>
                  Recommended Patch: <a href=
                  "http://www.linuxfromscratch.org/patches/blfs/6.2.0/vim-7.0-fixes-14.patch">
                  <span class=
                  "url">http://www.linuxfromscratch.org/patches/blfs/6.2.0/vim-7.0-fixes-14.patch</span></a>
                </p>
              </li>
              <li>
                <p>
                  Recommended Patch: <a href=
                  "http://www.linuxfromscratch.org/patches/blfs/6.2.0/vim-7.0-mandir-1.patch">
                  <span class=
                  "url">http://www.linuxfromscratch.org/patches/blfs/6.2.0/vim-7.0-mandir-1.patch</span></a>
                </p>
              </li>
              <li>
                <p>
                  Translated Vim messages: <a href=
                  "http://ftp.at.vim.org/pub/vim/extra/vim-7.0-lang.tar.gz"><span class="url">
                  http://ftp.at.vim.org/pub/vim/extra/vim-7.0-lang.tar.gz</span></a>
                </p>
              </li>
            </ul>
          </div>
          <h3>
            <a id="id2645872" name="id2645872"></a>Vim Dependencies
          </h3>
          <h4>
            <a id="id2576590" name="id2576590"></a>Recommended
          </h4>
          <p class="recommended">
            <a href="../x/installing.html">X Window System</a>
          </p>
          <h4>
            <a id="id2606303" name="id2606303"></a>Optional
          </h4>
          <p class="optional">
            <a href="../x/gtk2.html">GTK+-2.8.20</a> OR <a href=
            "../x/lesstif.html">LessTif-0.94.4</a> OR <a href=
            "../x/GTK.html">GTK+-1.2.10</a>, <a href=
            "../general/python.html">Python-2.4.4</a>, <a href=
            "../general/tcl.html">Tcl-8.4.13</a>, <a href=
            "../general/ruby.html">Ruby-1.8.5</a>, and <a href=
            "../general/sysutils.html#gpm">GPM-1.20.1</a>
          </p>
          <p class="usernotes">
            User Notes: <a href=
            "http://wiki.linuxfromscratch.org/blfs/wiki/vim"><span class=
            "url">http://wiki.linuxfromscratch.org/blfs/wiki/vim</span></a>
          </p>
        </div>
        <div class="installation" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Installation of Vim
            </h2>
          </div>
          <div class="note">
            <div class="admonhead">
              <img alt="[Note]" src="../images/note.png" />
              <h3 class="admontitle">
                Note
              </h3>
            </div>
            <div class="admonbody">
              <p>
                If you recompile <span class="application">Vim</span> to link
                against <span class="application">X</span>, and your
                <span class="application">X</span> libraries are not on the
                root partition, you will no longer have an editor for use in
                emergencies. You may choose to install an additional editor,
                not link <span class="application">Vim</span> against
                <span class="application">X</span>, or move the current
                <span><strong class="command">vim</strong></span> executable
                to the <tt class="filename">/bin</tt> directory under a
                different name such as <tt class="filename">vi</tt>.
              </p>
            </div>
          </div>
          <p>
            If desired, unpack the translated messages archive:
          </p>
          <pre class="userinput"><kbd class=
          "command">tar -xf ../vim-7.0-lang.tar.gz --strip-components=1</kbd></pre>
          <p>
            Install <span class="application">Vim</span> by running the
            following commands:
          </p>
          <pre class="userinput"><kbd class=
          "command">patch -Np1 -i ../vim-7.0-fixes-14.patch &amp;&amp;
patch -Np1 -i ../vim-7.0-mandir-1.patch &amp;&amp;
echo '#define SYS_VIMRC_FILE "/etc/vimrc"' &gt;&gt; src/feature.h &amp;&amp;
echo '#define SYS_GVIMRC_FILE "/etc/gvimrc"' &gt;&gt; src/feature.h &amp;&amp;
./configure --prefix=/usr --with-features=huge &amp;&amp;
make</kbd></pre>
          <p>
            To test the results, issue: <span><strong class="command">make
            test</strong></span>. The <span class="application">vim</span>
            test suite outputs a lot of binary data to the screen, which can
            cause issues with the settings of the current terminal. This can
            be resolved by redirecting the output to a log file. Even if one
            of the tests fails to produce the file <tt class=
            "filename">test.out</tt> in <tt class=
            "filename">src/testdir</tt>, the remaining tests will still be
            executed. If all goes well,the final message in the log file will
            be <tt class="literal">ALL DONE</tt>. <span class=
            "emphasis"><em>Note</em></span>: Some color tests expect to be
            executed under the <span><strong class=
            "command">xterm</strong></span> terminal emulator.
          </p>
          <p>
            Now, as the <tt class="systemitem">root</tt> user:
          </p>
          <pre class="root"><kbd class="command">make install</kbd></pre>
          <p>
            By default, Vim's documentation is installed in <tt class=
            "filename">/usr/share/vim</tt>. The following symlink allows the
            documentation to be accessed via <tt class=
            "filename">/usr/share/doc/vim-7.0</tt>, making it consistent with
            the location of documentation for other packages:
          </p>
          <pre class="root"><kbd class=
          "command">ln -snfv ../vim/vim70/doc /usr/share/doc/vim-7.0</kbd></pre>
        </div>
        <div class="commands" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Command Explanations
            </h2>
          </div>
          <p>
            <span><strong class="command">patch &hellip;</strong></span>:
            These patches are the same as LFS and update the package with
            upstream patches and ensure the man pages are placed in the
            proper locations.
          </p>
          <p>
            <em class="parameter"><tt>--with-features=huge</tt></em>: This
            switch enables all the additional features available in
            <span class="application">Vim</span>.
          </p>
          <p>
            <tt class="option">--enable-gui=no</tt>: This will prevent
            compilation of the GUI. <span class="application">Vim</span> will
            still link against <span class="application">X</span> so that
            some nice eye-candy such as updating the title bar of an
            <span class="application">Xterm</span> window are available.
          </p>
          <p>
            <tt class="option">--without-x</tt>: If you prefer not to link
            <span class="application">Vim</span> against <span class=
            "application">X</span>, use this switch.
          </p>
          <p>
            <tt class="option">--enable-perlinterp</tt>, <tt class=
            "option">--enable-pythoninterp</tt>, <tt class=
            "option">--enable-tclinterp</tt>, <tt class=
            "option">--enable-rubyinterp</tt>: These options include the
            Perl, Python, Tcl, or Ruby interpreters that allow using other
            application code in <span class="application">vim</span> scripts.
          </p>
        </div>
        <div class="configuration" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Configuring Vim
            </h2>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="vim-config" name="vim-config"></a>Config Files
                  </h4>
                </div>
              </div>
            </div>
            <p>
              <tt class="filename">/etc/vimrc</tt> and <tt class=
              "filename">~/.vimrc</tt>
            </p>
          </div>
          <div class="sect3" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="vim-init" name="vim-init"></a>Configuration
                    Information
                  </h4>
                </div>
              </div>
            </div>
            <p>
              <span class="application">Vim-7.0</span> introduced an
              integrated spell checker that doesn't requires additional
              libraries to be installed. To enable the spell checker you can
              set the following in one of the configuration files:
            </p>
            <pre class="screen"><tt class="literal">set spell
spelllang=en,ru</tt></pre>
            <p>
              By default, <span class="application">Vim</span> only installs
              spell files for the English language. If a spell file is not
              available for your language, then <span class=
              "application">Vim</span> will call <tt class=
              "filename">$VIMRUNTIME/plugin/spellfile.vim</tt> and will try
              to obtain the *.spl and optionally *.sug from the vim ftp
              server, using the <tt class=
              "filename">$VIMRUNTIME/plugin/netrw</tt> plugin.
            </p>
            <p>
              Alternatively you can manually download the *.spl and *.sug
              files from: <a href=
              "ftp://ftp.vim.org/pub/vim/runtime/spell/"><span class=
              "url">ftp://ftp.vim.org/pub/vim/runtime/spell/</span></a> and
              save them to <tt class="filename">~/.vim/spell</tt> or in
              <tt class="filename">/usr/share/vim/vim70/spell/</tt>.
            </p>
            <p>
              For more information about the spell checker and some other
              features in <span class="application">Vim-7.0</span> (such us
              vimgrep, tab-pages, and omni-completion), issue the following
              command inside <span class="application">Vim</span>:
            </p>
            <pre class="screen"><tt class="literal">:help version7</tt></pre>
            <p>
              For additional information on setting up <span class=
              "application">Vim</span> configuration files, see <a href=
              "vimrc.html">The vimrc Files</a> and <a href=
              "http://www.vi-improved.org/vimrc.php"><span class=
              "url">http://www.vi-improved.org/vimrc.php</span></a>.
            </p>
          </div>
        </div>
        <div class="content" lang="en" xml:lang="en">
          <div class="titlepage">
            <h2 class="sect2">
              Contents
            </h2>
          </div>
          <p>
            A list of the reinstalled files, along with their short
            descriptions can be found in the <a href=
            "../../../../lfs/view/6.2/chapter06/vim.html#contents-vim"><span class="url">
            LFS Vim Installation Instrutions</span></a>
          </p>
          <div class="segmentedlist">
            <div class="seglistitem">
              <div class="seg">
                <strong><span class="segtitle">Installed
                Programs:</span></strong> <span class="seg">gview, gvim,
                gvimdiff, rgview, and rgvim</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Libraries:</span></strong> <span class="seg">None</span>
              </div>
              <div class="seg">
                <strong><span class="segtitle">Installed
                Directory:</span></strong> <span class=
                "seg">/usr/share/vim</span>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <h3>
              <a id="id2718671" name="id2718671"></a>Short Descriptions
            </h3>
            <table border="0">
              <col align="left" valign="top" />
              <tbody>
                <tr>
                  <td>
                    <a id="gview" name="gview"></a><span class=
                    "term"><span><strong class=
                    "command">gview</strong></span></span>
                  </td>
                  <td>
                    <p>
                      starts <span><strong class=
                      "command">gvim</strong></span> in read-only mode.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="gvim" name="gvim"></a><span class=
                    "term"><span><strong class=
                    "command">gvim</strong></span></span>
                  </td>
                  <td>
                    <p>
                      is the editor that runs under <span class=
                      "application">X</span> and includes a GUI.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="gvimdiff" name="gvimdiff"></a><span class=
                    "term"><span><strong class=
                    "command">gvimdiff</strong></span></span>
                  </td>
                  <td>
                    <p>
                      edits two or three versions of a file with
                      <span><strong class="command">gvim</strong></span> and
                      shows the differences.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="rgview" name="rgview"></a><span class=
                    "term"><span><strong class=
                    "command">rgview</strong></span></span>
                  </td>
                  <td>
                    <p>
                      is a restricted version of <span><strong class=
                      "command">gview</strong></span>.
                    </p>
                  </td>
                </tr>
                <tr>
                  <td>
                    <a id="rgvim" name="rgvim"></a><span class=
                    "term"><span><strong class=
                    "command">rgvim</strong></span></span>
                  </td>
                  <td>
                    <p>
                      is a restricted version of <span><strong class=
                      "command">gvim</strong></span>.
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <p class="updated">
        Last updated on 2007-02-11 21:03:11 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="xfsfs.html" title="XFS-2.8.18">Prev</a>
          <p>
            XFS-2.8.18
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="emacs.html" title="Emacs-21.4a">Next</a>
          <p>
            Emacs-21.4a
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="postlfs.html" title=
          "Part&nbsp;II.&nbsp;Post LFS Configuration and Extra Software">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
