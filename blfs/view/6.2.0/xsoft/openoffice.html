<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      OpenOffice-2.0.3
    </title>
    <link rel="stylesheet" href="../stylesheets/blfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.69.1" />
    <link rel="stylesheet" href="../stylesheets/blfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body id="blfs" class="6.2.0">
    <div class="navheader">
      <div class="headertitles">
        <h4>
          Beyond Linux From Scratch - Version 6.2.0
        </h4>
        <h3>
          Chapter&nbsp;35.&nbsp;Office Suites
        </h3>
      </div>
      <ul class="headerlinks">
        <li class="prev">
          <a accesskey="p" href="suites.html" title="Office Suites">Prev</a>
          <p>
            Office Suites
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="graphweb.html" title=
          "Graphical Web Browsers">Next</a>
          <p>
            Graphical Web Browsers
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="suites.html" title=
          "Chapter&nbsp;35.&nbsp;Office Suites">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <div class="titlepage">
        <a id="openoffice" name="openoffice"></a>
        <h1 class="sect1">
          OpenOffice-2.0.3
        </h1>
      </div>
      <div class="package" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Introduction to OpenOffice
          </h2>
        </div>
        <p>
          <span class="application">OpenOffice</span> is an office suite, the
          open source sibling of <span class="application">StarOffice</span>.
        </p>
        <h3>
          <a id="id2903340" name="id2903340"></a>Package Information
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Download (HTTP): <a href=
                "http://anduin.linuxfromscratch.org/sources/BLFS/6.2.0/o/OOo_2.0.3_src.tar.gz">
                <span class=
                "url">http://anduin.linuxfromscratch.org/sources/BLFS/6.2.0/o/OOo_2.0.3_src.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a href=
                "ftp://anduin.linuxfromscratch.org/BLFS/6.2.0/o/OOo_2.0.3_src.tar.gz">
                <span class=
                "url">ftp://anduin.linuxfromscratch.org/BLFS/6.2.0/o/OOo_2.0.3_src.tar.gz</span></a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: f68832ff3458664ae2b741ec67d30104
              </p>
            </li>
            <li>
              <p>
                Download size: 294 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 6 GB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 129 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2863030" name="id2863030"></a>Additional Downloads
        </h3>
        <div class="itemizedlist">
          <ul compact="compact">
            <li>
              <p>
                Required patch: <a href=
                "http://www.linuxfromscratch.org/patches/blfs/6.2.0/OOo_2.0.3-xauth-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/patches/blfs/6.2.0/OOo_2.0.3-xauth-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch if <span class=
                "application">Linux-PAM</span>-0.99.4.0 is not installed:
                <a href=
                "http://www.linuxfromscratch.org/patches/blfs/6.2.0/OOo_2.0.3-no_pam-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/patches/blfs/6.2.0/OOo_2.0.3-no_pam-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required patch if building against the system-installed
                Mozilla products (<span class="application">NSS</span>,
                <span class="application">Firefox</span>, or <span class=
                "application">Seamonkey</span>): <a href=
                "http://www.linuxfromscratch.org/patches/blfs/6.2.0/OOo_2.0.3-system_mozilla_fixes-1.patch">
                <span class=
                "url">http://www.linuxfromscratch.org/patches/blfs/6.2.0/OOo_2.0.3-system_mozilla_fixes-1.patch</span></a>
              </p>
            </li>
            <li>
              <p>
                Required download if you wish to build the in-tree
                <span class="application">Mozilla</span> browser: <a href=
                "ftp://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.5/source/mozilla-source-1.7.5.tar.gz">
                <span class=
                "url">ftp://ftp.mozilla.org/pub/mozilla.org/mozilla/releases/mozilla1.7.5/source/mozilla-source-1.7.5.tar.gz</span></a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          <a id="id2982928" name="id2982928"></a>OpenOffice Dependencies
        </h3>
        <h4>
          <a id="id2941499" name="id2941499"></a>Required
        </h4>
        <p class="required">
          <a href="../general/apache-ant.html">Apache Ant-1.6.5</a>, <a href=
          "../x/gtk2.html">GTK+-2.8.20</a>, <a href=
          "../general/libidl.html">libIDL-0.8.7</a>, <a href=
          "../general/libxml2.html">libxml2-2.6.26</a>, <span class=
          "application">Perl Modules</span> <a href=
          "../general/perl-modules.html#perl-xml-parser">XML::Parser-2.34</a>
          and <a href=
          "../general/perl-modules.html#perl-archive-zip">Archive::Zip-1.16</a>,
          <a href="../postlfs/tcsh.html">Tcsh-6.14.00</a>, <a href=
          "../general/unzip.html">UnZip-5.52</a>, <a href=
          "../general/which.html">which-2.16</a>, and <a href=
          "../general/zip.html">Zip-2.32</a>
        </p>
        <h4>
          <a id="id2507916" name="id2507916"></a>Recommended
        </h4>
        <p class="recommended">
          <a href="../general/libart_lgpl.html">libart_lgpl-2.3.17</a>
        </p>
        <h4>
          <a id="id2931668" name="id2931668"></a>Optional
        </h4>
        <p class="optional">
          <a href=
          "http://packages.debian.org/testing/libdevel/libaltlinuxhyph-dev"><span class="url">
          ALTLinuxhyph</span></a>, <a href=
          "http://boost.sourceforge.net/"><span class="url">boost</span></a>,
          <a href="../pst/printing.html#cups">CUPS-1.2.7</a>, <a href=
          "../basicnet/netlibs.html#curl">cURL-7.15.3</a>, <a href=
          "../general/desktop-file-utils.html">desktop-file-utils-0.11</a>,
          <a href="http://www.easysw.com/epm/"><span class=
          "url">EPM</span></a>, <a href="evolution.html">Evolution-2.6.3</a>,
          <a href="../gnome/gnome-vfs.html">GNOME Virtual File
          System-2.14.2</a>, <a href=
          "http://www.cs.man.ac.uk/~toby/alan/software/"><span class=
          "url">GPC</span></a>, <a href="../kde/kde.html">KDE</a>, <a href=
          "../general/graphlib.html#libjpeg">libjpeg-6b</a>, <a href=
          "http://www.mega-nerd.com/libsndfile/"><span class=
          "url">libsndfile</span></a>, <a href=
          "../general/libtiff.html">LibTIFF-3.8.2</a>, <a href=
          "http://freshmeat.net/projects/libwpd/"><span class=
          "url">libwpd</span></a>, <a href=
          "../postlfs/linux-pam.html">Linux-PAM-0.99.4.0</a>, <a href=
          "graphweb.html#seamonkey">SeaMonkey-1.1</a> (must be built against
          the system <a href="../postlfs/nss.html">NSS-3.11.3</a>) or
          <a href="firefox.html">Firefox-1.5.0.9</a> (with ldap support),
          <a href=
          "http://lingucomponent.openoffice.org/MySpell-3.zip"><span class=
          "url">MySpell</span></a>, <a href=
          "http://lingucomponent.openoffice.org/thesaurus.html"><span class=
          "url">MyThes</span></a>, <a href=
          "../multimedia/nas.html">NAS-1.7</a>, <a href=
          "http://www.webdav.org/neon/"><span class="url">neon</span></a>,
          <a href="../server/openldap.html">OpenLDAP-2.3.27</a>, <a href=
          "http://www.portaudio.com/"><span class="url">PortAudio</span></a>,
          <a href="../general/python.html">Python-2.4.4</a>, <a href=
          "http://www.gingerall.com/charlie/ga/xml/p_sab.xml"><span class=
          "url">Sablotron</span></a>, <a href=
          "../pst/scanning.html#sane">SANE-1.0.17</a>, <a href=
          "../x/startup-notification.html">startup-notification-0.8</a>,
          <a href="http://sourceforge.net/projects/stlport/"><span class=
          "url">STLPort</span></a>, and <a href=
          "../general/unixodbc.html">unixODBC-2.2.11</a>
        </p>
        <p class="usernotes">
          User Notes: <a href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/openoffice"><span class="url">
          http://wiki.linuxfromscratch.org/blfs/wiki/openoffice</span></a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Installation of OpenOffice
          </h2>
        </div>
        <p>
          Apply all of the downloaded patches:
        </p>
        <pre class="userinput"><kbd class=
        "command">for PATCH in ../OOo_2.0.3-*.patch
    do patch -Np1 -i ${PATCH}
done</kbd></pre>
        <p>
          If you wish to build an in-tree <span class=
          "application">Mozilla</span>, as opposed to using a system wide
          installation, copy the <span class="application">Mozilla</span>
          source tarball into the source tree:
        </p>
        <pre class="userinput"><kbd class=
        "command">cp ../mozilla-source-1.7.5.tar.gz moz/download/</kbd></pre>
        <p>
          If you want to optimize the build, edit the appropriate makefile in
          <tt class="filename">solenv/inc/</tt> and add the desired
          optimization flags to the <tt class="envar">CFLAGSOPT</tt>
          variable. The makefiles are arch specific, for instance edit
          <tt class="filename">solenv/inc/unxlngi6.mk</tt> for i686. Some
          users have reported problems with <tt class=
          "option">-fomit-frame-pointer</tt>. The best option is to not use
          any custom optimizations. The following command removes an
          incorrect <tt class="option">-mcpu</tt> option in several of the
          makefiles:
        </p>
        <pre class="userinput"><kbd class=
        "command">sed -i '/^ARCH_FLAGS\*=/d' solenv/inc/unx{lngi{4,5,6},fbsdi}.mk</kbd></pre>
        <p>
          Configure <span class="application">OpenOffice</span> using the
          following commands:
        </p>
        <div class="note">
          <div class="admonhead">
            <img alt="[Note]" src="../images/note.png" />
            <h3 class="admontitle">
              Note
            </h3>
          </div>
          <div class="admonbody">
            <p>
              Because of the complexity of the <span class=
              "application">OpenOffice</span> build system, it is not
              possible to provide generic build instructions for all systems.
              You should review the output of <span><strong class=
              "command">config_office/configure --help</strong></span> and
              take advantage of any system installed programs and libraries
              available using the <em class=
              "parameter"><tt>--enable</tt></em>, <em class=
              "parameter"><tt>--disable</tt></em>, and <em class=
              "parameter"><tt>--with-system-*</tt></em> parameters.
            </p>
          </div>
        </div>
        <div class="warning">
          <div class="admonhead">
            <img alt="[Warning]" src="../images/warning.png" />
            <h3 class="admontitle">
              Warning
            </h3>
          </div>
          <div class="admonbody">
            <p>
              Do not use the <em class=
              "parameter"><tt>--with-system-db</tt></em> or <em class=
              "parameter"><tt>--disable-odk</tt></em> switches. Both are
              known to cause build failures.
            </p>
          </div>
        </div>
        <pre class="userinput"><kbd class=
        "command">cd config_office/ &amp;&amp;
autoreconf &amp;&amp;
./configure --prefix=/opt/openoffice-2.0.3 \
    --enable-libart --disable-fontooo --disable-gnome-vfs \
    --without-fonts --with-system-stdlibs --with-system-freetype \
    --with-system-expat --with-system-libxml --with-system-zlib \
    --enable-build-mozilla --with-build-version=BLFS \
    --with-package-format=native --disable-binfilter &amp;&amp;
cd ..</kbd></pre>
        <p>
          <span class="application">OpenOffice</span> fails to compile if
          <span><strong class="command">umask</strong></span> is set to
          something exotic. The build can also fail if the <tt class=
          "envar">LANG</tt> or <tt class="envar">LC_ALL</tt> environment
          variables are set. Use the following commands to change your
          environment accordingly:
        </p>
        <pre class="userinput"><kbd class="command">umask 0022 &amp;&amp;
unset LANG LC_ALL</kbd></pre>
        <p>
          Compile <span class="application">OpenOffice</span> using the
          following commands:
        </p>
        <pre class="userinput"><kbd class="command">./bootstrap &amp;&amp;
. LinuxIntelEnv.Set.sh &amp;&amp;
dmake</kbd></pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Install <span class="application">OpenOffice</span> as the
          <tt class="systemitem">root</tt> user with the following commands:
        </p>
        <pre class="root"><kbd class=
        "command">cd instsetoo_native/unxlngi6.pro/OpenOffice/\
native/install/en-US/linux-2.6-intel/buildroot/opt &amp;&amp;
cp -r -v openoffice.org2.0 /opt/openoffice-2.0.3</kbd></pre>
        <p>
          Still as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class=
        "command">for appl in sbase scalc sdraw simpress smath soffice spadmin swriter
do
    ln -v -sf /opt/openoffice-2.0.3/program/$appl /usr/bin/$appl
done</kbd></pre>
        <p>
          The icons are not installed by default. While still the <tt class=
          "systemitem">root</tt> user, install the icons with the following
          commands:
        </p>
        <pre class="root"><kbd class=
        "command">cd ../../../../../../../../../sysui/desktop/icons &amp;&amp;
install -v -d /usr/share/icons/{HighContrast,hicolor,locolor} -m755 &amp;&amp;
cp -r -v HighContrast/*x* /usr/share/icons/HighContrast &amp;&amp;
cp -r -v hicolor/*x* /usr/share/icons/hicolor &amp;&amp;
cp -r -v locolor/*x* /usr/share/icons/locolor</kbd></pre>
        <p>
          If you have installed <a href=
          "../general/desktop-file-utils.html">desktop-file-utils-0.11</a>
          and use <span class="application">KDE</span>, there is no further
          configuration necessary. If you use <span class=
          "application">Gnome</span>, you should copy the <tt class=
          "filename">*.desktop</tt> files to <tt class=
          "filename">/usr/share/applications</tt> with the following commands
          as the <tt class="systemitem">root</tt> user:
        </p>
        <pre class="root"><kbd class=
        "command">install -v -d /usr/share/applications -m 755 &amp;&amp;
cd /opt/openoffice-2.0.3/share/xdg/ &amp;&amp;
for appl in *.desktop
do
    sed -i '/Exec/d' $appl
    echo "Exec=/usr/bin/s`echo $appl | sed 's/.desktop//'`" &gt;&gt; $appl
    sed -i '/Icon/d' $appl
    echo "Icon=`echo $appl | sed 's/.desktop//'`" &gt;&gt; $appl
done &amp;&amp;
sed -i 's@bin/sprinteradmin@bin/spadmin@' printeradmin.desktop &amp;&amp;
cp -v *.desktop /usr/share/applications</kbd></pre>
        <p>
          Finally, if you'd like to edit <span class=
          "application">OpenOffice</span> documents directly from
          <span class="application">Mozilla</span> or <span class=
          "application">Firefox</span>, create a symbolic link in your
          plugins directory to <tt class=
          "filename">/opt/openoffice-2.0.3/program/libnpsoplugin.so</tt>.
          Additionally, you must enable the plugin from the <em class=
          "parameter"><tt>Internet Options</tt></em> within any <span class=
          "application">OpenOffice</span> application.
        </p>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Command Explanations
          </h2>
        </div>
        <p>
          <em class="parameter"><tt>--enable-libart</tt></em>: This switch
          forces the use of libart instead of <span class=
          "application">gpc</span> for polygon clipping.
        </p>
        <p>
          <em class="parameter"><tt>--enable-libsn</tt></em>: This switch
          enables the use of <span class=
          "application">startup-notification</span>.
        </p>
        <p>
          <em class="parameter"><tt>--disable-fontooo</tt></em>: Use
          <span class="application">Fontconfig</span> instead of FontOOo.
        </p>
        <p>
          <em class="parameter"><tt>--disable-gnome-vfs</tt></em>: Disable
          the use of <span class="application">Gnome Virtual File
          System</span> libraries. Omit this switch if you have Gnome
          installed.
        </p>
        <p>
          <em class="parameter"><tt>--without-fonts</tt></em>: Do not install
          Bitstream Vera fonts since they are already included in X Window
          System Environment.
        </p>
        <p>
          <em class="parameter"><tt>--with-system-*</tt></em>: Use the system
          libraries and programs instead of building the source packages
          included in the build tree.
        </p>
        <p>
          <em class="parameter"><tt>--enable-build-mozilla</tt></em>: Build
          the in-tree <span class="application">Mozilla</span> suite.
        </p>
        <p>
          <em class="parameter"><tt>--with-build-version=BLFS</tt></em>:
          Appends "BLFS" to the end of the version string.
        </p>
        <p>
          <em class="parameter"><tt>--with-package-format=native</tt></em>:
          This switch disables the build of <span class=
          "application">RPM</span> packages.
        </p>
        <p>
          <em class="parameter"><tt>--disable-binfilter</tt></em>: This
          switch disables the build of legacy <span class=
          "application">StarOffice-5</span> import filters.
        </p>
        <p>
          <em class="parameter"><tt>--with-firefox</tt></em>: Enables the use
          of <span class="application">Firefox</span> in place of the full
          <span class="application">Mozilla</span> suite. This will disable
          the use of a <span class="application">Thunderbird</span> address
          book as a data source.
        </p>
        <p>
          <em class="parameter"><tt>--disable-cups</tt></em>: Disable the use
          of <span class="application">CUPS</span> for printing.
        </p>
        <p>
          <em class="parameter"><tt>--with-lang=<em class=
          "replaceable"><tt>&lt;LANG&gt;</tt></em></tt></em>: Makes an
          install set for the desired language. ENUS is the default.
        </p>
        <p>
          <em class="parameter"><tt>--with-dict=<em class=
          "replaceable"><tt>&lt;LANG&gt;</tt></em></tt></em>: This switch
          installs dictionaries for the desired languages. ENUS is the
          default.
        </p>
        <p>
          <span><strong class="command">./bootstrap</strong></span>: Build
          the <span class="application">dmake</span> utility required to
          complete the build.
        </p>
        <p>
          <span><strong class="command">dmake</strong></span>: Compile the
          package.
        </p>
        <p>
          <span><strong class="command">for appl in
          *.desktop...</strong></span>: Edit the <tt class=
          "filename">*.desktop</tt> files for use with a standard BLFS
          system.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <div class="titlepage">
          <h2 class="sect2">
            Contents
          </h2>
        </div>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong><span class="segtitle">Installed
              Programs:</span></strong> <span class="seg">scalc, sdraw,
              simpress, smath, soffice, spadmin, and swriter.</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Libraries:</span></strong> <span class="seg"><span class=
              "application">OpenOffice</span> libraries</span>
            </div>
            <div class="seg">
              <strong><span class="segtitle">Installed
              Directory:</span></strong> <span class=
              "seg">/opt/openoffice-2.0.3</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            <a id="id2914896" name="id2914896"></a>Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <a id="sbase" name="sbase"></a><span class=
                  "term"><span><strong class=
                  "command">sbase</strong></span></span>
                </td>
                <td>
                  <p>
                    is a database application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="scalc" name="scalc"></a><span class=
                  "term"><span><strong class=
                  "command">scalc</strong></span></span>
                </td>
                <td>
                  <p>
                    is a spreadsheet application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="sdraw" name="sdraw"></a><span class=
                  "term"><span><strong class=
                  "command">sdraw</strong></span></span>
                </td>
                <td>
                  <p>
                    is a drawing application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="simpress" name="simpress"></a><span class=
                  "term"><span><strong class=
                  "command">simpress</strong></span></span>
                </td>
                <td>
                  <p>
                    is a presentation application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="smath" name="smath"></a><span class=
                  "term"><span><strong class=
                  "command">smath</strong></span></span>
                </td>
                <td>
                  <p>
                    is a mathematical formula editor.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="soffice" name="soffice"></a><span class=
                  "term"><span><strong class=
                  "command">soffice</strong></span></span>
                </td>
                <td>
                  <p>
                    opens a base window with access to all <span class=
                    "application">OpenOffice</span> applications.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="spadmin" name="spadmin"></a><span class=
                  "term"><span><strong class=
                  "command">spadmin</strong></span></span>
                </td>
                <td>
                  <p>
                    is the <span class="application">OpenOffice</span>
                    printer configuration utility.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <a id="swriter" name="swriter"></a><span class=
                  "term"><span><strong class=
                  "command">swriter</strong></span></span>
                </td>
                <td>
                  <p>
                    is a word processing application.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2007-02-06 23:51:27 -0600
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="suites.html" title="Office Suites">Prev</a>
          <p>
            Office Suites
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="graphweb.html" title=
          "Graphical Web Browsers">Next</a>
          <p>
            Graphical Web Browsers
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="suites.html" title=
          "Chapter&nbsp;35.&nbsp;Office Suites">Up</a>.
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.2.0">Home</a>.
        </li>
      </ul>
    </div>
  </body>
</html>
