<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      gnome-screensaver-2.18.2
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-6.3">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 6.3
      </h4>
      <h3>
        Chapter&nbsp;30.&nbsp;GNOME Additional Packages
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="gnome-netstatus.html" title=
          "GNOME Netstatus-2.12.1">Prev</a>
          <p>
            GNOME Netstatus-2.12.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="gnome-system-monitor.html" title=
          "GNOME System Monitor-2.18.2">Next</a>
          <p>
            GNOME System Monitor-2.18.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="add.html" title=
          "Chapter&nbsp;30.&nbsp;GNOME Additional Packages">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="gnome-screensaver" name=
        "gnome-screensaver"></a>gnome-screensaver-2.18.2
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to gnome-screensaver
        </h2>
        <p>
          The <span class="application">gnome-screensaver</span> package
          contains a screen saver and locker designed to have simple, sane,
          secure defaults and be well integrated with the desktop. It
          supports locking down of configuration settings, has translations
          into many languages and convenient user switching.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.18/gnome-screensaver-2.18.2.tar.bz2">
                http://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.18/gnome-screensaver-2.18.2.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download (FTP): <a class="ulink" href=
                "ftp://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.18/gnome-screensaver-2.18.2.tar.bz2">
                ftp://ftp.gnome.org/pub/gnome/sources/gnome-screensaver/2.18/gnome-screensaver-2.18.2.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: b5931e1f39c62acee0df1fcf016ddc39
              </p>
            </li>
            <li>
              <p>
                Download size: 2.0 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 21 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 0.3 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          gnome-screensaver Dependencies
        </h3>
        <h4>
          Required
        </h4>
        <p class="required">
          <a class="xref" href="libgnomeui.html" title=
          "libgnomeui-2.18.1">libgnomeui-2.18.1</a> and <a class="xref" href=
          "gnome-menus.html" title=
          "gnome-menus-2.18.3">gnome-menus-2.18.3</a>
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="../general/intltool.html" title=
          "Intltool-0.35.5">intltool-0.35.5</a>, <a class="xref" href=
          "../general/libexif.html" title=
          "libexif-0.6.16">libexif-0.6.16</a>, <a class="xref" href=
          "../postlfs/linux-pam.html" title=
          "Linux-PAM-0.99.10.0">Linux-PAM-0.99.10.0</a>, <a class="xref"
          href="libgnomekbd.html" title=
          "libgnomekbd-2.18.2">libgnomekbd-2.18.2</a>, <a class="xref" href=
          "../general/xscreensaver.html" title=
          "XScreenSaver-5.03">XScreenSaver-5.03</a> (and <a class="xref"
          href="../general/libxslt.html" title=
          "libxslt-1.1.22">libxslt-1.1.22</a>), <a class="xref" href=
          "gdm.html" title="GDM-2.18.3">GDM-2.18.3</a>, and <a class="ulink"
          href="http://cyberelk.net/tim/xmlto/">xmlto</a>
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/gnome-screensaver">http://wiki.linuxfromscratch.org/blfs/wiki/gnome-screensaver</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of gnome-screensaver
        </h2>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            <span class="emphasis"><em>Optional Features</em></span>
          </p>
          <p>
            <span class="strong"><strong>1.</strong></span> If you have
            <span class="application">XScreenSaver</span> installed and wish
            to import any or all of the &ldquo;<span class=
            "quote">hacks</span>&rdquo; into <span class=
            "application">gnome-screensaver</span> themes, set the following
            environment variable (modify it if <span class=
            "application">XScreenSaver</span> is installed in a non-standard
            location):
          </p>
          <pre class="userinput">
<kbd class="command">XSAVERDIR=/usr/share/xscreensaver/config</kbd>
</pre>
          <p>
            Also add the following parameter to the <span class=
            "command"><strong>configure</strong></span> script below:
          </p>
          <pre class="userinput">
<kbd class="command">            --with-xscreensaverdir=$XSAVERDIR</kbd>
</pre>
          <p>
            <span class="strong"><strong>2.</strong></span> If you have
            <span class="application">GDM</span> installed and wish to
            provide user-switching from the <span class=
            "application">gnome-screensaver</span> unlock-screen dialog box,
            add the following parameter to the <span class=
            "command"><strong>configure</strong></span> script below:
          </p>
          <pre class="userinput">
<kbd class=
"command">            --with-gdm-config=/etc/gnome/2.18.3/gdm/custom.conf</kbd>
</pre>
        </div>
        <p>
          Install <span class="application">gnome-screensaver</span> by
          running the following commands:
        </p>
        <pre class="userinput">
<kbd class="command">sed -i 's|etc/pam\.d"|etc"|' data/Makefile.in &amp;&amp;
./configure --prefix=$(pkg-config --variable=prefix ORBit-2.0) \
            --sysconfdir=/etc/gnome/2.18.3 \
            --libexecdir=$(pkg-config \
                --variable=prefix ORBit-2.0)/lib/gnome-screensaver \
            --with-pam-prefix=/etc &amp;&amp;
make</kbd>
</pre>
        <p>
          If you have <span class="application">XScreenSaver</span> installed
          and wish to import any or all of the &ldquo;<span class=
          "quote">hacks</span>&rdquo; into <span class=
          "application">gnome-screensaver</span> themes, you'll need to
          identify which &ldquo;<span class="quote">hacks</span>&rdquo; you
          wish to import. The commands below will import all of them. If you
          want to import less than all of them, modify the setting of the
          <code class="envar">XSAVERLIST</code> environment variable below
          (listing the desired hacks by filename without the extension, space
          delimited) and issue the following commands:
        </p>
        <pre class="userinput">
<kbd class="command">mkdir xscreensavers &amp;&amp;
cd xscreensavers &amp;&amp;

XSAVERLIST="*" &amp;&amp;

for SAVERLIST in $(ls ${XSAVERDIR}/${XSAVERLIST}.xml); do
    ../data/migrate-xscreensaver-config.sh $SAVERLIST
done &amp;&amp;

unset XSAVERDIR
unset XSAVERLIST
unset SAVERLIST

cd ..</kbd>
</pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install &amp;&amp;

GNOMEDOCDIR="$(pkg-config \
    --variable=prefix ORBit-2.0)/share/doc/gnome-screensaver-2.18.2" &amp;&amp;

install -v -m644 -D doc/gnome-screensaver.html \
                    ${GNOMEDOCDIR}/gnome-screensaver.html &amp;&amp;
unset GNOMEDOCDIR</kbd>
</pre>
        <p>
          If you identified some, or all, <span class=
          "application">XScreenSaver</span> hacks to be imported into
          <span class="application">gnome-screensaver</span>, install them by
          issuing the following commands as the <code class=
          "systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">install -v -m755 -d $(pkg-config --variable=prefix \
        ORBit-2.0)/share/gnome-screensaver/themes/xscreensaver &amp;&amp;
install -v -m644 xscreensavers/*.desktop \
        $(pkg-config --variable=prefix \
            ORBit-2.0)/share/gnome-screensaver/themes/xscreensaver</kbd>
</pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <span class="command"><strong>sed -i 's|etc/pam\.d"|etc|'
          data/Makefile.in</strong></span>: This command is used so that an
          erroneous message to copy the PAM configuration file is not
          displayed.
        </p>
        <p>
          <em class="parameter"><code>--prefix=$(pkg-config --variable=prefix
          ORBit-2.0)</code></em>: Setting the prefix using this parameter
          instead of with <code class="envar">$GNOME_PREFIX</code> will
          ensure that the prefix is consistent with the installation
          environment and the package will be installed in the correct
          location.
        </p>
        <p>
          <em class=
          "parameter"><code>--sysconfdir=/etc/gnome/2.18.3</code></em>: This
          parameter causes the configuration files to be installed in
          <code class="filename">/etc/gnome/2.18.3</code> instead of
          <code class="filename">$GNOME_PREFIX/etc</code>. Additionally (if
          applicable), the parameter ensures that the <span class=
          "application">GConf</span>-2 database is correctly updated.
        </p>
        <p>
          <em class="parameter"><code>--libexecdir=$(pkg-config
          --variable=prefix ORBit-2.0)/lib/gnome-screensaver</code></em>:
          This parameter causes the libexec files to be installed in the
          preferred location of <code class=
          "filename">$GNOME_PREFIX/lib/gnome-screensaver</code> instead of
          <code class="filename">$GNOME_PREFIX/libexec</code>.
        </p>
        <p>
          <em class="parameter"><code>--with-pam-prefix=/etc</code></em>:
          This parameter is used so that the <span class=
          "application">Linux-PAM</span> configuration file for the
          <span class="application">gnome-screensaver</span> application is
          installed in the correct location. You may omit this parameter if
          you don't have <span class="application">Linux-PAM</span>
          installed, though it won't affect the build if you don't.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <h2 class="sect2">
          Configuring gnome-screensaver
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            <a id="gnome-screensaver-config" name=
            "gnome-screensaver-config"></a>Config Files
          </h3>
          <p>
            <code class="filename">/etc/pam.d/gnome-screensaver</code>,
            <code class="filename">/etc/gnome/2.18.3/gdm/custom.conf</code>
          </p>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            Configuration Information
          </h3>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2843980" name="id2843980"></a>General
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              Most of the <span class="application">gnome-screensaver</span>
              configuration parameters can be modified using the <span class=
              "guimenuitem">Screensaver</span> menu item from the
              <span class="guimenu">Desktop</span>&mdash;<span class=
              "guisubmenu">Preferences</span> drop-down menu. Some of the
              fine-tuning parameters are only available using <a class="xref"
              href="gconf-editor.html" title="GConf Editor-2.18.0">GConf
              Editor-2.18.0</a>.
            </p>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2844024" name="id2844024"></a>Linux-PAM
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              If you have <span class="application">Linux-PAM</span>
              installed, the just-installed <code class=
              "filename">gnome-screensaver</code> configuration file does not
              work with a BLFS system. Replace the existing file with one
              that can be used on a BLFS system by issuing the following
              command as the <code class="systemitem">root</code> user:
            </p>
            <pre class="root">
<kbd class="command">cat &gt; /etc/pam.d/gnome-screensaver &lt;&lt; "EOF"
<code class="literal"># File: /etc/pam.d/gnome-screensaver

auth         required      pam_unix.so
account      required      pam_unix.so
session      required      pam_unix.so
password     required      pam_unix.so</code>

EOF
chmod -v 644 /etc/pam.d/gnome-screensaver</kbd>
</pre>
          </div>
          <div class="sect4" lang="en" xml:lang="en">
            <div class="titlepage">
              <div>
                <div>
                  <h5 class="title">
                    <a id="id2844080" name="id2844080"></a>User-Switching
                    Configuration
                  </h5>
                </div>
              </div>
            </div>
            <p>
              If you have <span class="application">GDM</span> installed and
              you passed the <code class="option">--with-gdm-config=</code>
              option to the <span class=
              "command"><strong>configure</strong></span> script, the
              screen-unlocking dialog box will contain an option to
              &ldquo;<span class="quote">Switch Users</span>&rdquo;. This
              user switching option uses the same configuration as
              <span class="application">GDM</span> to determine what users
              are displayed in this dialog. You can use the <span class=
              "application">GDM</span> configuration option from the GDM
              login screen, or you can directly edit the <code class=
              "filename">/etc/gnome/2.18.3/gdm/custom.conf</code> file to
              modify the settings.
            </p>
          </div>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">gnome-screensaver,
              gnome-screensaver-command and
              gnome-screensaver-preferences</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">None</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody"><code class=
              "envar">$GNOME_PREFIX</code>/share/{doc/gnome-screensaver-2.18.2,
              gnome-screensaver, pixmaps/backgrounds/cosmos}</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="gnome-screensaver-prog" name=
                    "gnome-screensaver-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>gnome-screensaver</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a screensaver and screen-locking program designed to
                    work seamlessly with the GNOME desktop.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2007-07-27 13:49:21 -0500
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="gnome-netstatus.html" title=
          "GNOME Netstatus-2.12.1">Prev</a>
          <p>
            GNOME Netstatus-2.12.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="gnome-system-monitor.html" title=
          "GNOME System Monitor-2.18.2">Next</a>
          <p>
            GNOME System Monitor-2.18.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="add.html" title=
          "Chapter&nbsp;30.&nbsp;GNOME Additional Packages">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
