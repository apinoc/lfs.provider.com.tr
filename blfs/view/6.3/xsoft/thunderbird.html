<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      Thunderbird-2.0.0.12
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-6.3">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 6.3
      </h4>
      <h3>
        Chapter&nbsp;34.&nbsp;Other X-based Internet Programs
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="other.html" title=
          "Other X-based Internet Programs">Prev</a>
          <p>
            Other X-based Internet Programs
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="pan.html" title="Pan-0.14.2">Next</a>
          <p>
            Pan-0.14.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="other.html" title=
          "Chapter&nbsp;34.&nbsp;Other X-based Internet Programs">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="thunderbird" name="thunderbird"></a>Thunderbird-2.0.0.12
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to Thunderbird
        </h2>
        <p>
          <span class="application">Thunderbird</span> is a stand-alone
          mail/news client based on the <span class=
          "application">Mozilla</span> codebase.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://anduin.linuxfromscratch.org/sources/BLFS/6.3/t/thunderbird-2.0.0.12-source.tar.bz2">
                http://anduin.linuxfromscratch.org/sources/BLFS/6.3/t/thunderbird-2.0.0.12-source.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: c23f576a8fd0ceee5135829c8ae5168b
              </p>
            </li>
            <li>
              <p>
                Download size: 37 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 629 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 18 SBU
              </p>
            </li>
          </ul>
        </div>
        <p>
          To enable the <span class="application">Enigmail</span> extension
          to the <span class="application">Thunderbird</span> mail client,
          you'll need to download the tarball shown below. The <span class=
          "application">Enigmail</span> extension allows users to access the
          authentication and encryption features provided by the <span class=
          "application">GnuPG</span> package. The Enigmail extension will not
          operate correctly unless you have <a class="xref" href=
          "../postlfs/gnupg.html" title="GnuPG-1.4.7">GnuPG-1.4.7</a> or
          <a class="xref" href="../postlfs/gnupg2.html" title=
          "GnuPG-2.0.8">GnuPG-2.0.8</a> installed.
        </p>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                <a class="ulink" href=
                "http://www.mozilla-enigmail.org/download/source/enigmail-0.95.6.tar.gz">
                http://www.mozilla-enigmail.org/download/source/enigmail-0.95.6.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: cfbe6ff77f80a349b396829757ad952a
              </p>
            </li>
            <li>
              <p>
                Download size: 1.1 MB
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Thunderbird Dependencies
        </h3>
        <h4>
          Required
        </h4>
        <p class="required">
          <a class="xref" href="../x/gtk2.html" title=
          "GTK+-2.10.13">GTK+-2.10.13</a>, <a class="xref" href=
          "../general/libidl.html" title="LibIDL-0.8.8">libIDL-0.8.8</a>, and
          <a class="xref" href="../general/zip.html" title=
          "Zip-2.32">Zip-2.32</a>
        </p>
        <p>
          Note: <span class="application">libjpeg</span> should have been
          installed before <span class="application">GTK+</span> and should
          exist on your system. If for some reason you haven't installed
          <span class="application">libjpeg</span>, you should remove the
          <code class="option">--with-system-jpeg</code> option from the
          <code class="filename">.mozconfig</code> file created below.
        </p>
        <h4>
          Recommended
        </h4>
        <p class="recommended">
          <a class="xref" href="../postlfs/nss.html" title=
          "NSS-3.11.7">NSS-3.11.7</a> (if you will be installing any other
          package that utilizes NSS/NSPR, such as <span class=
          "application">Firefox</span>, <span class=
          "application">SeaMonkey</span>, <span class=
          "application">Evolution</span>, or <span class=
          "application">OpenOffice</span>)
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="../general/unzip.html" title=
          "UnZip-5.52">UnZip-5.52</a> and <a class="xref" href=
          "../gnome/libgnomeui.html" title=
          "libgnomeui-2.18.1">libgnomeui-2.18.1</a> (to build the gnomevfs
          extension)
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/Thunderbird">http://wiki.linuxfromscratch.org/blfs/wiki/Thunderbird</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of Thunderbird
        </h2>
        <p>
          The configuration of <span class="application">Thunderbird</span>
          is accomplished by creating a <code class=
          "filename">.mozconfig</code> file containing the desired
          configuration options. A default <code class=
          "filename">.mozconfig</code> is created below. To see the entire
          list of available configuration options (and an abbreviated
          description of each one), issue <span class=
          "command"><strong>./configure --help</strong></span>. If you are
          going to use system-installed versions of the <span class=
          "application">NSS</span> and <span class="application">NSPR</span>
          libraries, ensure you uncomment the two lines near the bottom of
          the file. You may also wish to review the entire file and uncomment
          any other desired options. If you would prefer to download the file
          instead of creating it by typing or cut-and-pasting, you can find
          it at <a class="ulink" href=
          "http://anduin.linuxfromscratch.org/files/BLFS/6.3/thunderbird-2.0.0.12-mozconfig">
          http://anduin.linuxfromscratch.org/files/BLFS/6.3/thunderbird-2.0.0.12-mozconfig</a>
          (the file must be installed in the root of the source tree
          <code class="filename">mozilla</code> directory, and named
          <code class="filename">.mozconfig</code>). Create the file by
          issuing the following command:
        </p>
        <pre class="userinput">
<kbd class="command">cat &gt; .mozconfig &lt;&lt; "EOF"
<code class=
"literal"># This file contains the options used in the Thunderbird build. You may
# need to specify additional options for your specific build needs.
# Use the information provided by running './configure --help' to
# help you determine if you need to add any additional options.
# Some additional options can be added by uncommenting the examples
# in this file or adding options by inserting a line containing
# 'ac_add_options --some-option-you-need'.


# Use the default settings specified in the source tree
. $topsrcdir/mail/config/mozconfig

# Create an object directory and specify to build the package in that
# directory. If desired, modify the location of the object directory
# to a directory inside the source tree by removing '../' from the
# line below.
mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/../thunderbird-build

# Specify the installation prefix. If you would prefer Thunderbird
# installed in a different prefix, modify the line below to fit
# your needs. You'll also need to modify some of the instructions in
# the BLFS book to point to your desired prefix.
ac_add_options --prefix=/usr

# These options are used so that the Thunderbird binaries are linked to
# the system-installed copies of the specified libraries instead of
# the source tree code which may not be the most recent versions.
ac_add_options --with-system-zlib
ac_add_options --with-system-png
ac_add_options --with-system-jpeg
ac_add_options --enable-system-cairo

# This option causes the installed binaries to have the official
# Thunderbird name embedded in them. Due to license restrictions, you
# may not distribute binaries created using this option.
ac_add_options --enable-official-branding

# This option specifies to include support for rendering the HTML
# &lt;canvas&gt;&lt;/canvas&gt; tag in the Thunderbird mail client.
#ac_add_options --enable-canvas

# This option is used so that the debugging symbols are removed from
# the installed binaries during the installation process. Comment out
# this option if you may have a need to retain the debugging symbols
# in the installed binaries. Note that this can substantially
# increase the size of the installed binaries.
ac_add_options --enable-strip

# This option is added so that test libraries and programs are not
# built. These would only be required for debugging purposes.
ac_add_options --disable-tests

# This option is added so that the Mozilla Installer program is not
# built or installed. The program is not required for a BLFS
# installation of Thunderbird.
ac_add_options --disable-installer

# This option is used to disable the a11y support in the Thunderbird
# binaries. Comment out this option if you require a11y support.
ac_add_options --disable-accessibility

# This option is used to enable source tree included LDAP support in
# the Thunderbird binaries.
ac_add_options --enable-ldap

# This option is used to enable support for rendering SVG files in the
# Thunderbird mail client. Uncomment the line below to enable the option.
#ac_add_options --enable-svg

# Uncomment this option if you desire support for dual-monitor
# display of Thunderbird using the X-Window Xinerama libraries.
#ac_add_options --enable-xinerama

# Complex scripts such as Thai can only be rendered in Thunderbird with
# the help of Pango. This option significantly slows rendering, so only
# use it if necessary.
#ac_add_options --enable-pango

# These two options enable support for building Thunderbird with
# system-installed versions of the Network Security Services (NSS)
# and Netscape Portable Runtime (NSPR) libraries. Uncomment both
# lines to enable support for system-installed NSS/NSPR.
#ac_add_options --with-system-nss
#ac_add_options --with-system-nspr

# This option identifies the default binary directory of the Thunderbird
# installation and is used to locate Thunderbird's installed files. This
# option is not required for end-user use, and is only used for
# development purposes. Due to PDF line length limitations, the command
# below is modified. If you need to use the command below, change the
# ... to /usr/lib.
#ac_add_options --with-default-mozilla-five-home=.../thunderbird-2.0.0.12</code>

EOF</kbd>
</pre>
        <p>
          Compile <span class="application">Thunderbird</span> by issuing the
          following commands:
        </p>
        <pre class="userinput">
<kbd class=
"command">cat &gt;&gt; layout/build/Makefile.in &lt;&lt; "EOF" &amp;&amp;
ifdef MOZ_ENABLE_CANVAS
EXTRA_DSO_LDOPTS += $(XLDFLAGS) -lX11 -lXrender
endif
EOF

sed -i "s/^    enum$/&amp; xptinfo_enum_1/" \
    xpcom/reflect/xptinfo/public/xptinfo.h &amp;&amp;

make -f client.mk build</kbd>
</pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          If you're building the <span class="application">Enigmail</span>
          extension, issue the following commands:
        </p>
        <pre class="userinput">
<kbd class=
"command">tar -xf ../enigmail-0.95.6.tar.gz -C mailnews/extensions &amp;&amp;
( cd mailnews/extensions/enigmail &amp;&amp; ./makemake -r ) &amp;&amp;

make -C ../thunderbird-build/mailnews/extensions/enigmail &amp;&amp;
make -C ../thunderbird-build/mailnews/extensions/enigmail \
        XPIFILE=enigmail-0.95.6.xpi xpi</kbd>
</pre>
        <p>
          Install <span class="application">Thunderbird</span> by running the
          following commands as the <code class="systemitem">root</code>
          user:
        </p>
        <pre class="root">
<kbd class="command">make -f client.mk install &amp;&amp;

install -v -m644 ../thunderbird-build/dist/public/ldap-private/* \
    /usr/include/thunderbird-2.0.0.12/ldap &amp;&amp;

install -v -m644 ../thunderbird-build/dist/bin/isp/{movemail,rss}.rdf \
    /usr/lib/thunderbird-2.0.0.12/isp &amp;&amp;
rm -rvf /usr/lib/thunderbird-2.0.0.12/defaults/isp</kbd>
</pre>
        <p>
          If you built <span class="application">Thunderbird</span> utilizing
          system-installed NSS and NSPR libraries, the <code class=
          "filename">thunderbird-ns*.pc</code> <span class=
          "application">pkgconfig</span> files are broken as they point to
          the wrong directories where the actual libraries and interface
          headers are located. Issue the following commands as the
          <code class="systemitem">root</code> user to replace the broken
          files with symbolic links to known good files:
        </p>
        <pre class="root">
<kbd class=
"command">ln -v -sf nss.pc /usr/lib/pkgconfig/thunderbird-nss.pc &amp;&amp;
ln -v -sf nspr.pc /usr/lib/pkgconfig/thunderbird-nspr.pc</kbd>
</pre>
        <p>
          If you did <span class="strong"><strong>NOT</strong></span> build
          <span class="application">Thunderbird</span> utilizing
          system-installed NSS and NSPR libraries, issue the following
          commands as the <code class="systemitem">root</code> user to
          install the NSS interface headers:
        </p>
        <pre class="root">
<kbd class=
"command">install -v -m755 -d /usr/include/thunderbird-2.0.0.12/nss &amp;&amp;
cp -v -Lf ../thunderbird-build/dist/{private,public}/nss/*.h \
    /usr/include/thunderbird-2.0.0.12/nss</kbd>
</pre>
        <p>
          If you built the <span class="application">Enigmail</span>
          extension, issue the following commands as the <code class=
          "systemitem">root</code> user to install the <code class=
          "filename">.xpi</code> file:
        </p>
        <pre class="root">
<kbd class=
"command">install -v -m644 -D ../thunderbird-build/dist/bin/enigmail-0.95.6.xpi \
    /usr/lib/thunderbird-2.0.0.12/xpi_store/enigmail-0.95.6.xpi</kbd>
</pre>
        <p>
          If you want to install <span class="application">Enigmail</span>
          globally so that all users who run <span class=
          "application">Thunderbird</span> will have access to the extension,
          issue the command shown below. Note that this procedure starts an
          instance of <span class="application">Thunderbird</span> and you
          must have an X server running. Issue the following command as the
          <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">/usr/bin/thunderbird -install-global-extension \
    /usr/lib/thunderbird-2.0.0.12/xpi_store/enigmail-0.95.6.xpi</kbd>
</pre>
        <p>
          Global installation of other extensions can be done using the same
          basic method as the <span class="application">Enigmail</span>
          extension. See the &ldquo;<span class="quote">Configuring
          Thunderbird</span>&rdquo; section below for information about
          configuring <span class="application">Enigmail</span> for
          individual users if you did not not install it globally.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            You should run <span class=
            "command"><strong>/usr/bin/thunderbird</strong></span> once as
            the <code class="systemitem">root</code> user (or any user with
            write privileges) to create some necessary additional files in
            the <code class="filename">/usr/lib/thunderbird-2.0.0.12</code>
            directory.
          </p>
        </div>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <span class="command"><strong>'EXTRA_DSO_LDOPTS' += -lX11 -lXrender
          ...</strong></span>: Building the layout backend will break when
          the canvas element is enabled without adding these two required
          libraries.
        </p>
        <p>
          <span class="command"><strong>sed -i "s/^ enum$/&amp;
          xptinfo_enum_1/" ...</strong></span>: This command is used to fix
          an anonymous enum in an external/public interface header file.
        </p>
        <p>
          <span class="command"><strong>make -f client.mk
          ...</strong></span>: Mozilla products are packaged to allow the use
          of a configuration file which can be used to pass the configuration
          settings to the <span class=
          "command"><strong>configure</strong></span> command. <span class=
          "command"><strong>make</strong></span> uses the <code class=
          "filename">client.mk</code> file to get initial configuration and
          setup parameters, then depending on the target parameter
          (<em class="parameter"><code>build</code></em> or <em class=
          "parameter"><code>install</code></em>), either runs the
          <span class="command"><strong>configure</strong></span> script and
          compiles the package or installs the package.
        </p>
        <p>
          <span class="command"><strong>( cd mailnews/... &amp;&amp;
          ./makemake -r )</strong></span>: This command is used to
          recursively create <code class="filename">Makefile</code>s in the
          <code class="filename">enigmail</code> directory.
        </p>
        <p>
          <span class="command"><strong>make -C ... xpi</strong></span>: This
          command builds the <span class="application">Enigmail</span>
          <code class="filename">.xpi</code> file which is used to install
          <span class="application">Enigmail</span>.
        </p>
        <p>
          <span class="command"><strong>install
          .../{movemail,rss}.rdf</strong></span>: These commands are used to
          install two mail extensions inadvertantly left out of the
          installation script or installed to the wrong location.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <h2 class="sect2">
          Configuring Thunderbird
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            Configuration Information
          </h3>
          <p>
            No specific configuration is required as long as the <span class=
            "command"><strong>thunderbird</strong></span> script is in the
            user's path. If <span class="application">Thunderbird</span> is
            installed in a non-standard location, then make a symlink to the
            <span class="command"><strong>thunderbird</strong></span> script
            in the <code class="filename">/usr/bin</code> directory.
          </p>
          <p>
            If you don't have privileges to install extensions globally, or
            you prefer to not install global extensions, you can configure
            <span class="application">Thunderbird</span> on an individual
            user basis for access to extensions. For example, if you built
            the <span class="application">Enigmail</span> extension and did
            not install it globally, it can be installed on an as-needed
            basis for each user of the system who may use <span class=
            "application">Thunderbird</span>. It is accomplished through the
            <span class="application">Thunderbird</span> &ldquo;<span class=
            "quote">Tools</span>&rdquo; menu. Choose the &ldquo;<span class=
            "quote">Extensions</span>&rdquo; &ndash; &ldquo;<span class=
            "quote">Install</span>&rdquo; option and fill in the
            &ldquo;<span class="quote">Look in:</span>&rdquo; field with
            <code class=
            "filename">/usr/lib/thunderbird-2.0.0.12/xpi_store</code>. You'll
            then see the <code class=
            "filename">enigmail-0.95.6-linux-????.xpi</code> file listed.
            Choose this file and click on &ldquo;<span class=
            "quote">Open</span>&rdquo;, then click on &ldquo;<span class=
            "quote">Install now</span>&rdquo;. The <span class=
            "application">Enigmail</span> extension will install and you will
            be prompted to restart <span class=
            "application">Thunderbird</span>.
          </p>
          <p>
            If your Window or Desktop Manager does not allow you to configure
            a default browser, you can add a configuration parameter to
            <span class="application">Thunderbird</span> so that a browser
            will start when when you click on an Internet/intranet/local URL.
            The procedure to check or modify any of the configuration
            parameters is quite simple and the instructions here can be used
            to view or modify any of the parameters.
          </p>
          <p>
            First, open the configuration dialog by opening the
            &ldquo;<span class="quote">Edit</span>&rdquo; drop-down menu.
            Choose &ldquo;<span class="quote">Preferences</span>&rdquo; and
            then click on the &ldquo;<span class=
            "quote">Advanced</span>&rdquo; icon on the top menu bar. Choose
            the &ldquo;<span class="quote">General</span>&rdquo; tab and
            click on the &ldquo;<span class="quote">Config
            Editor</span>&rdquo; button. This will display a list of the
            configuration preferences and information related to each one.
            You can use the &ldquo;<span class="quote">Filter:</span>&rdquo;
            bar to enter search criteria and narrow down the listed items.
            Changing a preference can be done using two methods. One, if the
            preference has a boolean value (True/False), simply double-click
            on the preference to toggle the value and two, for other
            preferences simply right-click on the desired line, choose
            &ldquo;<span class="quote">Modify</span>&rdquo; from the menu and
            change the value. Creating new preference items is accomplished
            in the same way, except choose &ldquo;<span class=
            "quote">New</span>&rdquo; from the menu and provide the desired
            data into the fields when prompted.
          </p>
          <p>
            The configuration preference item you need to check so that
            <span class="application">Thunderbird</span> uses a specified
            browser is the <em class=
            "parameter"><code>network.protocol-handler.app.http</code></em>
            which should be set to the path of the desired browser, e.g.,
            <code class="option">/usr/bin/firefox</code>.
          </p>
          <div class="admon tip">
            <img alt="[Tip]" src="../images/tip.png" />
            <h3>
              Tip
            </h3>
            <p>
              There is a multitude of configuration parameters you can tweak
              to customize <span class="application">Thunderbird</span>. A
              very extensive and up-to-date list of these parameters can be
              found at <a class="ulink" href=
              "http://preferential.mozdev.org/preferences.html">http://preferential.mozdev.org/preferences.html</a>.
            </p>
          </div>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">thunderbird and thunderbird-config</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">Numerous libraries, email/newsgroups
              components, plugins, extensions, and helper modules installed
              in <code class=
              "filename">/usr/lib/thunderbird-2.0.0.12</code></span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/include/thunderbird-2.0.0.12,
              /usr/lib/thunderbird-2.0.0.12, and
              /usr/share/idl/thunderbird-2.0.0.12</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="thunderbird-prog" name=
                    "thunderbird-prog"></a><span class="term"><span class=
                    "command"><strong>thunderbird</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is <span class="application">Mozilla</span>'s
                    next-generation email and newsgroup client.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2008-08-11 19:15:25 -0500
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="other.html" title=
          "Other X-based Internet Programs">Prev</a>
          <p>
            Other X-based Internet Programs
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="pan.html" title="Pan-0.14.2">Next</a>
          <p>
            Pan-0.14.2
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="other.html" title=
          "Chapter&nbsp;34.&nbsp;Other X-based Internet Programs">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
