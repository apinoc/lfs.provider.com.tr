<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      FFmpeg-svn_20070606
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-6.3">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 6.3
      </h4>
      <h3>
        Chapter&nbsp;37.&nbsp;Video Utilities
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="videoutils.html" title=
          "Video Utilities">Prev</a>
          <p>
            Video Utilities
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="avifile.html" title=
          "Avifile-0.7.45">Next</a>
          <p>
            Avifile-0.7.45
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="videoutils.html" title=
          "Chapter&nbsp;37.&nbsp;Video Utilities">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="ffmpeg" name="ffmpeg"></a>FFmpeg-svn_20070606
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to FFmpeg
        </h2>
        <p>
          <span class="application">FFmpeg</span> is a solution to record,
          convert and stream audio and video. It is a very fast video and
          audio converter and it can also acquire from a live audio/video
          source. Designed to be intuitive, the command-line interface
          (<span class="command"><strong>ffmpeg</strong></span>) tries to
          figure out all the parameters, when possible. <span class=
          "application">FFmpeg</span> can also convert from any sample rate
          to any other, and resize video on the fly with a high quality
          polyphase filter. <span class="application">FFmpeg</span> can use a
          video4linux compatible video source and any Open Sound System audio
          source. The developers of this package do not create or distribute
          package tarballs any longer. BLFS created the tarball for this
          package by checking out from upstream SVN the <span class=
          "application">FFmpeg</span> code dated June 6, 2007.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://anduin.linuxfromscratch.org/files/BLFS/6.3/sources/ffmpeg-svn_20070606.tar.bz2">
                http://anduin.linuxfromscratch.org/files/BLFS/6.3/sources/ffmpeg-svn_20070606.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: abae526f04693c08684f0a18c28e3313
              </p>
            </li>
            <li>
              <p>
                Download size: 2.2 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 131 MB (built with all
                dependencies)
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 1.8 SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          FFmpeg Dependencies
        </h3>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="ulink" href="http://www.penguin.cz/~utx/amr">AMR
          narrowband (floating point)</a>, <a class="ulink" href=
          "http://www.penguin.cz/~utx/amr">AMR wideband</a>, <a class="xref"
          href="faac.html" title="FAAC-1.26">FAAC-1.26</a>, <a class="xref"
          href="faad2.html" title="FAAD2-2.6.1">FAAD2-2.6.1</a>, <a class=
          "xref" href="../general/freetype2.html" title=
          "FreeType-2.3.7">FreeType-2.3.7</a>, <a class="ulink" href=
          "http://kbs.cs.tu-berlin.de/~jutta/gsm/">GSM</a>, <a class="xref"
          href="../general/imlib2.html" title=
          "Imlib2-1.4.0">Imlib2-1.4.0</a>, <a class="xref" href="lame.html"
          title="LAME-3.97">LAME-3.97</a>, <a class="xref" href="liba52.html"
          title="Liba52-0.7.4">liba52-0.7.4</a>, <a class="ulink" href=
          "http://sourceforge.net/projects/libdc1394">libdc1394</a>,
          <a class="ulink" href=
          "http://svn.mplayerhq.hu/nut/src/trunk/">libnut</a> (SVN checkout),
          <a class="xref" href="libvorbis.html" title=
          "libvorbis-1.2.0">libvorbis-1.2.0</a>, <a class="ulink" href=
          "http://medialibrary.sourceforge.net/">MediaLibrary</a>, <a class=
          "xref" href="sdl.html" title="SDL-1.2.11">SDL-1.2.11</a>, <a class=
          "ulink" href="http://www.theora.org/">Theora</a>, <a class="xref"
          href="../x/installing.html" title=
          "Chapter&nbsp;23.&nbsp;X Window System Environment">X Window
          System</a>, <a class="ulink" href=
          "http://www.videolan.org/developers/x264.html">x264</a>, <a class=
          "xref" href="xvid.html" title="XviD-1.1.3">XviD-1.1.3</a>, and
          <a class="xref" href="../pst/tetex.html" title=
          "teTeX-3.0">teTeX-3.0</a> (to build HTML documentation)
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/ffmpeg">http://wiki.linuxfromscratch.org/blfs/wiki/ffmpeg</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of FFmpeg
        </h2>
        <p>
          Review the <code class="filename">doc/optimization.txt</code> file
          in the source tree for information about optimizing the build.
          Additionally, you may want to build the postprocessing library as
          other packages such as <a class="xref" href="mplayer.html" title=
          "MPlayer-1.0rc1">MPlayer-1.0rc1</a> and <a class="xref" href=
          "transcode.html" title="Transcode-1.0.3">Transcode-1.0.3</a> can
          utilize it, and <a class="xref" href="xine-lib.html" title=
          "Xine Libraries-1.1.12">xine Libraries-1.1.12</a> depends on it.
          See the &ldquo;<span class="quote">Command
          Explanations</span>&rdquo; section for additional information.
        </p>
        <p>
          Install <span class="application">FFmpeg</span> by running the
          following commands:
        </p>
        <pre class="userinput">
<kbd class="command">./configure --prefix=/usr \
            --enable-shared \
            --enable-pthreads \
            --disable-ffplay &amp;&amp;
sed -i 's|/man|/share/man|' config.mak &amp;&amp;
make &amp;&amp;
texi2html --version &gt;/dev/null 2&gt;&amp;1 || make doc/ff{mpeg,play,server}.1</kbd>
</pre>
        <p>
          If you have <span class="application">teTeX</span> installed, the
          HTML documentation was built during the <span class=
          "command"><strong>make</strong></span> process. If you wish to
          create additional formats of the documentation, you must have
          <span class="application">teTeX</span> installed, then issue
          following commands:
        </p>
        <pre class="userinput">
<kbd class="command">cd doc &amp;&amp;
for DOCNAME in faq ffmpeg-doc hooks ffserver-doc ffplay-doc; do
    texi2dvi -b -p $DOCNAME.texi
    texi2dvi -b    $DOCNAME.texi
    dvips -o $DOCNAME.ps $DOCNAME.dvi
    if [ $DOCNAME = ffserver-doc ] || [ $DOCNAME = ffplay-doc ]; then \
        continue
    fi
    makeinfo --plaintext --force -o $DOCNAME.txt $DOCNAME.texi
done &amp;&amp;
cd .. &amp;&amp;
unset DOCNAME</kbd>
</pre>
        <p>
          If you have <a class="xref" href="../general/doxygen.html" title=
          "Doxygen-1.5.2">Doxygen-1.5.2</a> installed and wish to create the
          API documentation (takes about 100 MB of space), issue <span class=
          "command"><strong>doxygen</strong></span>.
        </p>
        <p>
          This package does not come with a test suite that works.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install &amp;&amp;
install -v -m755 -d        /usr/share/doc/ffmpeg-svn_20070606 &amp;&amp;
install -v -m644 doc/*.txt /usr/share/doc/ffmpeg-svn_20070606 &amp;&amp;
texi2html --version &gt;/dev/null 2&gt;&amp;1 || make install-man</kbd>
</pre>
        <p>
          If you created additional formats of the documentation, install it
          by issuing the following commands as the <code class=
          "systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">install -v -m644 doc/*.{html,dvi,pdf,ps} \
    /usr/share/doc/ffmpeg-svn_20070606</kbd>
</pre>
        <p>
          If you created the API documentation, install it by issuing the
          following commands as the <code class="systemitem">root</code>
          user:
        </p>
        <pre class="root">
<kbd class=
"command">install -v -m755 -d /usr/share/doc/ffmpeg-svn_20070606/api &amp;&amp;
cp -v doxy/*        /usr/share/doc/ffmpeg-svn_20070606/api</kbd>
</pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>--enable-shared</code></em>: This
          switch is needed to build the shared libraries, otherwise only
          static libraries are built and installed.
        </p>
        <p>
          <em class="parameter"><code>--enable-pthreads</code></em>: This
          switch enables the build to link against the Posix threads library.
        </p>
        <p>
          <em class="parameter"><code>--disable-ffplay</code></em>: Only
          installs the server part. <span class=
          "command"><strong>ffplay</strong></span> requires <span class=
          "application">X</span> for building. Remove this option if
          <span class="application">X</span> is installed.
        </p>
        <p>
          <code class="option">--enable-<em class=
          "replaceable"><code>&lt;codec&gt;</code></em></code>: Review the
          available options and codecs using the <span class=
          "command"><strong>./configure --help</strong></span> command. You
          must explicitly enable each optional codec. Note that if you wish
          to build support for postprocessing, liba52, xvid, x264, libfaad2,
          x11grab or swscaler, you must pass <code class=
          "option">--enable-gpl</code> to the <span class=
          "command"><strong>configure</strong></span> script.
        </p>
        <p>
          <em class="parameter"><code>--enable-pp</code></em>: This switch
          enables postprocessing support.
        </p>
        <p>
          <em class="parameter"><code>--enable-gpl</code></em>: This switch
          enables the use of GPL code for postprocessing support.
        </p>
        <p>
          <span class="command"><strong>texi2html --version
          ...</strong></span>: These commands are used to check the presence
          of the <span class="application">teTeX</span> package, and
          builds/installs the man pages if it is not found.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <h2 class="sect2">
          Configuring FFmpeg
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            <a id="ffmpeg-config" name="ffmpeg-config"></a>Config Files
          </h3>
          <p>
            <code class="filename">/etc/ffserver.conf</code> and <code class=
            "filename">~/.ffmpeg/ffserver-config</code>
          </p>
          <p>
            You'll find a sample ffserver configuration file at <a class=
            "ulink" href=
            "http://ffmpeg.sourceforge.net/sample.html">http://ffmpeg.sourceforge.net/sample.html</a>
            (also <code class="filename">doc/ffserver.conf</code> in the
            source tree).
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">ffmpeg, ffserver, and optionally,
              ffplay</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libavcodec.{so,a}, libavformat.{so,a},
              libavutil.{so,a}, video hook modules and optionally,
              libpostproc.{so,a}</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/include/ffmpeg,
              /usr/include/postproc, /usr/lib/vhook, and
              /usr/share/doc/ffmpeg-svn_20070606</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="ffmpeg-prog" name="ffmpeg-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>ffmpeg</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a command-line tool to convert video files, network
                    streams and input from a TV card to several video
                    formats.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ffplay" name="ffplay"></a><span class=
                    "term"><span class=
                    "command"><strong>ffplay</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a very simple and portable media player using the
                    <code class="filename">ffmpeg</code> libraries and the
                    SDL library.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ffserver" name="ffserver"></a><span class=
                    "term"><span class=
                    "command"><strong>ffserver</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a streaming server for everything that <span class=
                    "command"><strong>ffmpeg</strong></span> could use as
                    input (files, streams, TV card input, webcam, etc.).
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libavcodec" name="libavcodec"></a><span class=
                    "term"><code class="filename">libavcodec.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a library containing the <span class=
                    "application">FFmpeg</span> codecs (both encoding and
                    decoding).
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libavformat" name="libavformat"></a><span class=
                    "term"><code class=
                    "filename">libavformat.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a library containing the file formats handling (mux
                    and demux code for several formats) used by <span class=
                    "command"><strong>ffplay</strong></span> as well as
                    allowing the generation of audio or video streams.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2008-05-09 08:00:42 -0500
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="videoutils.html" title=
          "Video Utilities">Prev</a>
          <p>
            Video Utilities
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="avifile.html" title=
          "Avifile-0.7.45">Next</a>
          <p>
            Avifile-0.7.45
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="videoutils.html" title=
          "Chapter&nbsp;37.&nbsp;Video Utilities">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
