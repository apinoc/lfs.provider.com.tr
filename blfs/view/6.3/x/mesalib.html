<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      MesaLib-6.5.2
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-6.3">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 6.3
      </h4>
      <h3>
        Chapter&nbsp;24.&nbsp;X Libraries
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="goffice.html" title="GOffice-0.6.1">Prev</a>
          <p>
            GOffice-0.6.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="wm.html" title="Window Managers">Next</a>
          <p>
            Window Managers
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="lib.html" title=
          "Chapter&nbsp;24.&nbsp;X Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="mesalib" name="mesalib"></a>MesaLib-6.5.2
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to MesaLib
        </h2>
        <p>
          <span class="application">Mesa</span> is an OpenGL compatible 3-D
          graphics library.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://downloads.sourceforge.net/mesa3d/MesaLib-6.5.2.tar.bz2">
                http://downloads.sourceforge.net/mesa3d/MesaLib-6.5.2.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: e4d894181f1859651658b3704633e10d
              </p>
            </li>
            <li>
              <p>
                Download size (including recommended download): 3.1 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required (including recommended
                download): 172 MB
              </p>
            </li>
            <li>
              <p>
                Estimated build time (including recommended download): 1.6
                SBU
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Additional Downloads
        </h3>
        <div class="itemizedlist">
          <p class="title">
            <b>Recommended demonstration and diagnostic utilities for
            verifying OpenGL operation</b>
          </p>
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://downloads.sourceforge.net/mesa3d/MesaDemos-6.5.2.tar.bz2">
                http://downloads.sourceforge.net/mesa3d/MesaDemos-6.5.2.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: e870efe98d3a50be01ab211b9b2e25d9
              </p>
            </li>
            <li>
              <p>
                Download size: 1.3 MB
              </p>
            </li>
          </ul>
        </div>
        <div class="itemizedlist">
          <p class="title">
            <b>Optional GLUT library (see also <a class="xref" href=
            "freeglut.html" title="freeglut-2.4.0">freeglut-2.4.0</a>)</b>
          </p>
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://downloads.sourceforge.net/mesa3d/MesaGLUT-6.5.2.tar.bz2">
                http://downloads.sourceforge.net/mesa3d/MesaGLUT-6.5.2.tar.bz2</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: e84edbb11c69c8e408dfadd2ed08e95b
              </p>
            </li>
            <li>
              <p>
                Download size: 306 KB
              </p>
            </li>
          </ul>
        </div>
        <h3>
          MesaLib Dependencies
        </h3>
        <h4>
          Required
        </h4>
        <p class="required">
          <a class="xref" href="x7lib.html" title="Xorg Libraries">Xorg
          Libraries</a>, <a class="xref" href="x7util.html" title=
          "Xorg Utilities">Xorg Utilities</a>, <a class="xref" href=
          "../general/libdrm.html" title="libdrm-2.3.0">libdrm-2.3.0</a>, and
          <a class="xref" href="../general/expat.html" title=
          "Expat-2.0.1">expat-2.0.1</a>
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/mesalib">http://wiki.linuxfromscratch.org/blfs/wiki/mesalib</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of MesaLib
        </h2>
        <p>
          Extract all three tarballs from the same top-level directory as
          they all will extract to the <code class=
          "filename">Mesa-6.5.2</code> directory.
        </p>
        <p>
          Install <span class="application">MesaLib</span> by running the
          following command:
        </p>
        <pre class="userinput">
<kbd class=
"command">make linux-dri-x86 OPT_FLAGS="-O2 -fno-strict-aliasing" \
    DRI_DRIVER_INSTALL_DIR=${XORG_PREFIX}/lib/X11/modules/dri \
    X11_INCLUDES=-I${XORG_PREFIX}/include \
    EXTRA_LIB_PATH=-L${XORG_PREFIX}/lib</kbd>
</pre>
        <p>
          If you downloaded and extracted the Demos package, build the
          programs with the following commands:
        </p>
        <pre class="userinput">
<kbd class="command">sed -i 's@-l$(GLUT_LIB)@@g' configs/default &amp;&amp;
make -C progs/xdemos PROGS='glxinfo glxgears'</kbd>
</pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install INSTALL_DIR=${XORG_PREFIX} \
    DRI_DRIVER_INSTALL_DIR=${XORG_PREFIX}/lib/X11/modules/dri &amp;&amp;
install -dv ${XORG_PREFIX}/share/doc/MesaLib-6.5.2 &amp;&amp;
install -v -m644 docs/* ${XORG_PREFIX}/share/doc/MesaLib-6.5.2</kbd>
</pre>
        <p>
          If you built the demo programs, install them using the following
          command as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class=
"command">install -v -m755 progs/xdemos/glx{info,gears} ${XORG_PREFIX}/bin</kbd>
</pre>
        <p>
          Finally, if installing to any prefix other than <code class=
          "filename">/usr</code>, you should create symlinks to the GL
          headers in <code class="filename">/usr/include</code>. Execute the
          following command as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">ln -s -v ${XORG_PREFIX}/include/GL /usr/include</kbd>
</pre>
        <div class="admon tip">
          <img alt="[Tip]" src="../images/tip.png" />
          <h3>
            Tip
          </h3>
          <p>
            Do not remove the Mesa source tree yet, it will be required to
            build the <a class="xref" href="x7server.html" title=
            "Xorg-Server-1.2.0">Xorg-Server-1.2.0</a>.
          </p>
        </div>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <span class="command"><strong>make ...
          linux-dri-x86</strong></span>: The <code class=
          "option">linux-dri-x86</code> target is specified to use a few
          other helpful flags in addition to the defaults. See the other
          targets in the <code class="filename">configs</code> directory if
          your architecture is not x86.
        </p>
        <p>
          <code class="envar">OPT_FLAGS="-O2 -fno-strict-aliasing"</code>: A
          bug where OpenGL applications are shifted to the left by 50% can be
          worked around by adding <code class=
          "option">-fno-strict-aliasing</code> to the compiler flags.
        </p>
        <p>
          <code class=
          "envar">DRI_DRIVER_INSTALL_DIR=${XORG_PREFIX}/lib/X11/modules/dri</code>:
          This setting specifies the location that the DRI modules will be
          installed to. This path is also built into <code class=
          "filename">libGL.so</code>.
        </p>
        <p>
          <span class="command"><strong>sed -i 's@-l$(GLUT_LIB)@@g'
          configs/default</strong></span>: Disables linking against the GLUT
          libraries for the demo programs, omit this command if you
          downloaded and extracted the GLUT tarball.
        </p>
        <p>
          <span class="command"><strong>make ... PROGS='glxinfo
          glxgears'</strong></span>: Only builds the <span class=
          "command"><strong>glxinfo</strong></span> and <span class=
          "command"><strong>glxgears</strong></span> programs.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs
              (optional):</strong> <span class="segbody">glxgears and
              glxinfo</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libGL.so, libGLU.so, libGLw.so, *_dri.so
              and optionally, libglut.so</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody"><code class=
              "envar">$XORG_PREFIX</code>/lib/modules/dri and <code class=
              "envar">$XORG_PREFIX</code>/share/doc/MesaLib-6.5.2</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="glxgears" name="glxgears"></a><span class=
                    "term"><code class="filename">glxgears</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a GL demo useful for troubleshooting graphics
                    problems.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="glxinfo" name="glxinfo"></a><span class=
                    "term"><code class="filename">glxinfo</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a diagnostic program that displays information about
                    the graphics hardware and installed GL libraries.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libGL" name="libGL"></a><span class=
                    "term"><code class="filename">libGL.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the main OpenGL library.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libGLU" name="libGLU"></a><span class=
                    "term"><code class="filename">libGLU.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the OpenGL Utility library.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libGLw" name="libGLw"></a><span class=
                    "term"><code class="filename">libGLw.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the Xt/Motif OpenGL drawing area widget library.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="libglut-mesa" name="libglut-mesa"></a><span class=
                    "term"><code class="filename">libglut.so</code></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the OpenGL Utility Toolkit (GLUT) library.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2008-05-03 00:18:57 -0500
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="goffice.html" title="GOffice-0.6.1">Prev</a>
          <p>
            GOffice-0.6.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="wm.html" title="Window Managers">Next</a>
          <p>
            Window Managers
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="lib.html" title=
          "Chapter&nbsp;24.&nbsp;X Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 6.3">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
