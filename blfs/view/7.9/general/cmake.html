<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      CMake-3.4.3
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-7.9">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 7.9
      </h4>
      <h3>
        Chapter&nbsp;13.&nbsp;Programming
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="clisp.html" title="Clisp-2.49">Prev</a>
          <p>
            Clisp-2.49
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="dejagnu.html" title="DejaGnu-1.5.3">Next</a>
          <p>
            DejaGnu-1.5.3
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapter&nbsp;13.&nbsp;Programming">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.9">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="cmake" name="cmake"></a>CMake-3.4.3
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to CMake
        </h2>
        <p>
          The <span class="application">CMake</span> package contains a
          modern toolset used for generating Makefiles. It is a successor of
          the auto-generated <span class=
          "command"><strong>configure</strong></span> script and aims to be
          platform- and compiler-independent. A significant user of
          <span class="application">CMake</span> is <span class=
          "application">KDE</span> since version 4.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.9
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://www.cmake.org/files/v3.4/cmake-3.4.3.tar.gz">http://www.cmake.org/files/v3.4/cmake-3.4.3.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 4cb3ff35b2472aae70f542116d616e63
              </p>
            </li>
            <li>
              <p>
                Download size: 6.5 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 704 MB (with tests and
                cmake-gui)
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 4 SBU, with parallelism = 4 (with tests
                and cmake-gui)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          CMake Dependencies
        </h3>
        <h4>
          Recommended
        </h4>
        <p class="recommended">
          <a class="xref" href="../basicnet/curl.html" title=
          "cURL-7.47.1">cURL-7.47.1</a> and <a class="xref" href=
          "libarchive.html" title="libarchive-3.1.2">libarchive-3.1.2</a>
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="../x/qt4.html" title="Qt-4.8.7">Qt-4.8.7</a>
          or <a class="xref" href="../x/qt5.html" title=
          "Qt-5.5.1">Qt-5.5.1</a> (for the Qt-based GUI), <a class="xref"
          href="subversion.html" title=
          "Subversion-1.9.3">Subversion-1.9.3</a> (for testing), and
          <a class="ulink" href=
          "http://pypi.python.org/pypi/Sphinx">Sphinx</a> (for building
          documents)
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/cmake">http://wiki.linuxfromscratch.org/blfs/wiki/cmake</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of CMake
        </h2>
        <p>
          If <span class="application">Qt4</span> and <span class=
          "application">Qt5</span> are installed in <code class=
          "filename">/opt</code>, use <span class="command"><strong>source
          setqt4</strong></span> or <span class="command"><strong>source
          setqt5</strong></span> to choose which one will be used to build
          the Qt-based GUI.
        </p>
        <p>
          Install <span class="application">CMake</span> by running the
          following commands:
        </p>
        <pre class="userinput">
<kbd class="command">./bootstrap --prefix=/usr       \
            --system-libs       \
            --mandir=/share/man \
            --no-system-jsoncpp \
            --docdir=/share/doc/cmake-3.4.3 &amp;&amp;
make</kbd>
</pre>
        <p>
          To test the results, issue: <span class="command"><strong>bin/ctest
          -j<em class="replaceable"><code>&lt;N&gt;</code></em> -O
          cmake-3.4.3-test.log</strong></span>, where <em class=
          "replaceable"><code>&lt;N&gt;</code></em> is an integer between 1
          and the number of system cores. For some systems, it may be
          necessary to run the tests only for Qt4 using <span class=
          "command"><strong>source setq4</strong></span>, then <span class=
          "command"><strong>export CXXFLAGS="-std=c++11"</strong></span>
          before the <span class="command"><strong>./bootstrap
          ...</strong></span>) command. If used, be sure to <span class=
          "command"><strong>unset CXXFLAGS</strong></span> after the tests.
          One of the problematic tests relates to the test procedures finding
          the correct Qt files. Eight of 447 tests are known to fail under
          some circumstances related to Gtk+2 and c++ standards.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install</kbd>
</pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>--system-libs</code></em>: This switch
          forces the build system to link against <span class=
          "application">Zlib</span>, <span class="application">Bzip2</span>,
          <span class="application">cURL</span>, <span class=
          "application">Expat</span> and <span class=
          "application">libarchive</span> installed on the system.
        </p>
        <p>
          <em class="parameter"><code>--no-system-jsoncpp</code></em>: This
          switch removes the <span class="application">JSON-C++</span>
          library from the list of system libraries. A bundled version of
          that library is used instead.
        </p>
        <p>
          <code class="option">--qt-gui</code>: This switch enables building
          of the <span class="application">Qt</span>-based GUI for
          <span class="application">CMake</span>.
        </p>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">ccmake, cmake, cmake-gui (optional),
              cpack and ctest</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">None</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/share/cmake-3.4 and
              /usr/share/doc/cmake-3.4.3</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="ccmake" name="ccmake"></a><span class=
                    "term"><span class=
                    "command"><strong>ccmake</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a curses based interactive frontend to <span class=
                    "command"><strong>cmake</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="cmake-prog" name="cmake-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>cmake</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the makefile generator.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="cmake-gui" name="cmake-gui"></a><span class=
                    "term"><span class=
                    "command"><strong>cmake-gui</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    (optional) is the <span class=
                    "application">Qt</span>-based frontent to <span class=
                    "command"><strong>cmake</strong></span>.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="cpack" name="cpack"></a><span class=
                    "term"><span class=
                    "command"><strong>cpack</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the <span class="application">CMake</span> packaging
                    program.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="ctest" name="ctest"></a><span class=
                    "term"><span class=
                    "command"><strong>ctest</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a testing utility for cmake-generated build trees.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2016-02-21 12:38:55 -0800
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="clisp.html" title="Clisp-2.49">Prev</a>
          <p>
            Clisp-2.49
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="dejagnu.html" title="DejaGnu-1.5.3">Next</a>
          <p>
            DejaGnu-1.5.3
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="prog.html" title=
          "Chapter&nbsp;13.&nbsp;Programming">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.9">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
