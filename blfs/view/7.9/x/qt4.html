<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      Qt-4.8.7
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-7.9">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 7.9
      </h4>
      <h3>
        Chapter&nbsp;25.&nbsp;X Libraries
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="pangomm.html" title=
          "Pangomm-2.38.1">Prev</a>
          <p>
            Pangomm-2.38.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="qt5.html" title="Qt-5.5.1">Next</a>
          <p>
            Qt-5.5.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="lib.html" title=
          "Chapter&nbsp;25.&nbsp;X Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.9">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="qt4" name="qt4"></a>Qt-4.8.7
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to Qt4
        </h2>
        <p>
          <span class="application">Qt4</span> is a cross-platform
          application framework that is widely used for developing
          application software with a graphical user interface (GUI) (in
          which cases Qt4 is classified as a widget toolkit), and also used
          for developing non-GUI programs such as command-line tools and
          consoles for servers. One of the major users of <span class=
          "application">Qt</span> is <span class="application">KDE4</span>.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.9
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://download.qt-project.org/official_releases/qt/4.8/4.8.7/qt-everywhere-opensource-src-4.8.7.tar.gz">
                http://download.qt-project.org/official_releases/qt/4.8/4.8.7/qt-everywhere-opensource-src-4.8.7.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: d990ee66bf7ab0c785589776f35ba6ad
              </p>
            </li>
            <li>
              <p>
                Download size: 230 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 2.3 GB
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 12 SBU, using parallelism=4
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Additional Downloads
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Recommended package: <a class="ulink" href=
                "http://download.kde.org/stable/qtwebkit-2.3/2.3.4/src/qtwebkit-2.3.4.tar.gz">
                http://download.kde.org/stable/qtwebkit-2.3/2.3.4/src/qtwebkit-2.3.4.tar.gz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: 42ef76d0cf7d0c611ef83418e9f297ff
              </p>
            </li>
            <li>
              <p>
                Download size: 50 MB
              </p>
            </li>
            <li>
              <p>
                Recommended patch: <a class="ulink" href=
                "http://www.linuxfromscratch.org/patches/blfs/7.9/qtwebkit-2.3.4-gcc5-1.patch">
                http://www.linuxfromscratch.org/patches/blfs/7.9/qtwebkit-2.3.4-gcc5-1.patch</a>
              </p>
            </li>
          </ul>
        </div>
        <h3>
          Qt Dependencies
        </h3>
        <h4>
          Required
        </h4>
        <p class="required">
          <a class="xref" href="x7lib.html" title="Xorg Libraries">Xorg
          Libraries</a>
        </p>
        <h4>
          Recommended
        </h4>
        <p class="recommended">
          <a class="xref" href="../multimedia/alsa-lib.html" title=
          "alsa-lib-1.1.0">alsa-lib-1.1.0</a>, <a class="xref" href=
          "mesa.html" title="Mesa-11.1.2">Mesa-11.1.2</a>, <a class="xref"
          href="../postlfs/cacerts.html" title=
          "Certificate Authority Certificates">Certificate Authority
          Certificates</a>, <a class="xref" href="../general/dbus.html"
          title="D-Bus-1.10.6">D-Bus-1.10.6</a>, <a class="xref" href=
          "../general/glib2.html" title="GLib-2.46.2">GLib-2.46.2</a>,
          <a class="xref" href="../multimedia/gst10-plugins-base.html" title=
          "gst-plugins-base-1.6.3">gst-plugins-base-1.6.3</a> (For QtWebKit
          HTML5 Video), <a class="xref" href="../general/icu.html" title=
          "ICU-56.1">ICU-56.1</a> (unicode support), <a class="xref" href=
          "../general/libjpeg.html" title=
          "libjpeg-turbo-1.4.2">libjpeg-turbo-1.4.2</a>, <a class="xref"
          href="../general/libmng.html" title=
          "libmng-2.0.3">libmng-2.0.3</a>, <a class="xref" href=
          "../general/libpng.html" title="libpng-1.6.21">libpng-1.6.21</a>,
          <a class="xref" href="../general/libtiff.html" title=
          "LibTIFF-4.0.6">LibTIFF-4.0.6</a>, <a class="xref" href=
          "../general/ruby.html" title="Ruby-2.3.0">Ruby-2.3.0</a>, <a class=
          "xref" href="../postlfs/openssl.html" title=
          "OpenSSL-1.0.2g">OpenSSL-1.0.2g</a>, and <a class="xref" href=
          "../server/sqlite.html" title="SQLite-3.11.0">SQLite-3.11.0</a>
        </p>
        <h4>
          Optional
        </h4>
        <p class="optional">
          <a class="xref" href="../pst/cups.html" title=
          "Cups-2.1.3">Cups-2.1.3</a>, <a class="xref" href="gtk2.html"
          title="GTK+-2.24.29">GTK+-2.24.29</a> (GTK+ 2 theme support),
          <a class="xref" href="../server/mariadb.html" title=
          "MariaDB-10.1.11">MariaDB-10.1.11</a> or <a class="ulink" href=
          "http://www.mysql.com/">MySQL</a>, <a class="xref" href=
          "../server/postgresql.html" title=
          "PostgreSQL-9.5.1">PostgreSQL-9.5.1</a>, <a class="xref" href=
          "../multimedia/pulseaudio.html" title=
          "PulseAudio-8.0">PulseAudio-8.0</a>, and <a class="xref" href=
          "../general/unixodbc.html" title=
          "unixODBC-2.3.4">unixODBC-2.3.4</a>
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/qt4">http://wiki.linuxfromscratch.org/blfs/wiki/qt4</a>
        </p>
      </div>
      <div class="sect2" lang="en" xml:lang="en">
        <h2 class="sect2">
          Qt Installation Alternatives
        </h2>
        <p>
          The installation of <span class="application">Qt</span> presents
          several challenges and choices. Complicating the Qt installation is
          the fact that there are two versions, <span class=
          "application">Qt4</span> and <span class="application">Qt5</span>,
          that have executable programs with identical names. If both
          packages are installed on one system, the only methods to manage
          which set of programs is used is to either control the users'
          <code class="envar">PATH</code> or to rename files either directly
          or via symbolic links. Both packages cannot be installed in the
          same directory.
        </p>
        <p>
          If you are only going to install one of the Qt versions, the choice
          of installation methods is easier. You can either install the
          components in the several directories of the <code class=
          "filename">/usr</code> hierarchy or install the entire package in a
          separate directory of your choice.
        </p>
        <p>
          If both versions of Qt are to be installed, one or both versions
          need to be installed in a separate directory. For the purposes here
          we use the <code class="filename">/opt</code> directory. The
          selection of which version is being used by individual users on a
          system is controlled by the <code class="envar">PATH</code>
          variable. Other systems can be designed, but the BLFS editors find
          the <code class="envar">PATH</code> method easiest.
        </p>
        <p>
          The advantage of installing in <code class="filename">/usr</code>
          is that no updates to the <code class=
          "filename">/etc/ld.so.conf</code> or <code class=
          "filename">/etc/man_db.conf</code> files are required. The package
          files are distributed within several subdirectories of the
          <code class="filename">/usr</code> hierarchy. This is the method
          that most commercial distributions use. The disadvantage for BLFS
          users is that this Qt instance cannot be upgraded while it is in
          use. For instance, it cannot be upgraded from a running KDE
          environment. It also precludes having multiple versions of Qt on
          your system and does not allow reverting to an existing, known
          working instance of Qt.
        </p>
        <p>
          The advantage of installing <span class="application">Qt</span> in
          a custom directory such as <code class=
          "filename">/opt/qt-4.8.7</code> or <code class=
          "filename">/opt/qt-5.5.1</code> is that it keeps all the package
          files consolidated in a dedicated directory hierarchy. By using
          this method, an update can be made without overwriting a previous
          installation and users can easily revert to a previous version by
          changing one symbolic link or merely changing the PATH variable. It
          also allows a developer to maintain multiple versions of
          <span class="application">Qt4</span> or <span class=
          "application">Qt5</span> for testing.
        </p>
      </div>
      <div class="qt4-prefix" lang="en" xml:lang="en">
        <h2 class="sect2">
          Setting the installation prefix
        </h2>
        <h3>
          Installing in /opt/qt4
        </h3>
        <p>
          The BLFS editors recommend installing <span class=
          "application">Qt4</span> in a directory other than <code class=
          "filename">/usr</code>, ie <code class="filename">/opt/qt4</code>.
          To do this, set the following environment variable:
        </p>
        <pre class="userinput">
<kbd class="command">export QT4PREFIX=/opt/qt4</kbd>
</pre>
        <div class="admon tip">
          <img alt="[Tip]" src="../images/tip.png" />
          <h3>
            Tip
          </h3>
          <p>
            Sometimes, the installation paths are hardcoded into installed
            files. This is the reason why <code class=
            "filename">/opt/qt4</code> is used as installation prefix instead
            of <code class="filename">/opt/qt-4.8.7</code>. To create a
            versioned <span class="application">Qt4</span> directory, you may
            rename the directory and create a symlink:
          </p>
          <pre class="root">
<kbd class="command">mkdir -pv /opt/qt-4.8.7
ln -sfnv qt-4.8.7 /opt/qt4</kbd>
</pre>
          <p>
            Later on, you may want to install other versions of <span class=
            "application">Qt4</span>. To do that, just remove the symlink and
            use <code class="filename">/opt/qt4</code> as the prefix again.
            Which version of <span class="application">Qt4</span> you use
            depends only on where the symlink points.
          </p>
        </div>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of Qt4
        </h2>
        <div class="admon warning">
          <img alt="[Warning]" src="../images/warning.png" />
          <h3>
            Warning
          </h3>
          <p>
            If <span class="application">Qt4</span> is being reinstalled into
            the same directory as an existing instance, run the commands done
            by <code class="systemitem">root</code>, such as <span class=
            "command"><strong>make install</strong></span>, from a console or
            non-Qt4 based window manager. It overwrites <span class=
            "application">Qt4</span> libraries that should not be in use
            during the install process.
          </p>
        </div>
        <div class="admon caution">
          <img alt="[Caution]" src="../images/caution.png" />
          <h3>
            Caution
          </h3>
          <p>
            If you did not install some of the recommended dependencies,
            examine <span class="command"><strong>./configure
            --help</strong></span> output to check how to disable them or use
            internal versions bundled in the source tarball.
          </p>
        </div>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            The build time and space required for the full <span class=
            "application">Qt4</span> is quite long. The instructions below do
            not build the tutorials and examples. Removing the <em class=
            "parameter"><code>-nomake</code></em> lines will create a
            complete build.
          </p>
        </div>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            The BLFS editors do not recommend installing <span class=
            "application">Qt4</span> into the /usr hierarchy because it
            becomes difficult to find components and to update to a new
            version. If you do want to install <span class=
            "application">Qt4</span> in /usr, the directories need to be
            specified explicitly. In this case, set QT4PREFIX=/usr and add
            the following to the configure arguments below:
          </p>
          <pre class="userinput">
<kbd class="command">-bindir         /usr/bin/qt4                \
-plugindir      /usr/lib/qt4/plugins        \
-importdir      /usr/lib/qt4/imports        \
-headerdir      /usr/include/qt4            \
-datadir        /usr/share/qt4              \
-docdir         /usr/share/doc/qt4          \
-translationdir /usr/share/qt4/translations \
-demosdir       /usr/share/doc/qt4/demos    \
-examplesdir    /usr/share/doc/qt4/examples \</kbd>
</pre>
        </div>
        <p>
          Install <span class="application">Qt4</span> by running the
          following commands:
        </p>
        <pre class="userinput">
<kbd class="command">./configure -prefix           $QT4PREFIX \
            -sysconfdir       /etc/xdg   \
            -confirm-license             \
            -opensource                  \
            -release                     \
            -dbus-linked                 \
            -openssl-linked              \
            -system-sqlite               \
            -no-phonon                   \
            -no-phonon-backend           \
            -no-webkit                   \
            -no-openvg                   \
            -nomake demos                \
            -nomake examples             \
            -optimized-qmake             &amp;&amp;
make</kbd>
</pre>
        <p>
          This package does not come with a test suite.
        </p>
        <p>
          Now as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">make install &amp;&amp;
rm -rf $QT4PREFIX/tests</kbd>
</pre>
        <p>
          Remove references to the build directory from the installed
          <code class="filename">.pc</code> files by running the following
          command as the <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class=
"command">find $QT4PREFIX/lib/pkgconfig -name "*.pc" -exec perl -pi -e "s, -L$PWD/?\S+,,g" {} \;</kbd>
</pre>
        <p>
          Remove references to the build directory in the installed library
          dependency (prl) files by running the following command as the
          <code class="systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">for file in $QT4PREFIX/lib/libQt*.prl; do
     sed -r -e '/^QMAKE_PRL_BUILD_DIR/d'    \
            -e 's/(QMAKE_PRL_LIBS =).*/\1/' \
            -i $file
done</kbd>
</pre>
        <h3>
          Building Qtwebkit
        </h3>
        <p>
          The bundled version of qtwebkit in the main package requires an
          obsolete version of the <span class="application">gstreamer</span>
          package. To overcome this, we use a more recent version available
          separately.
        </p>
        <p>
          To start, the upstream package is unusual in that it does not come
          in a directory, so we have to create one before unpacking the
          tarball. After that, we need to make the package compatible with
          the latest version of gcc and use an included script to actually
          complete the build. To do this, run the following instructions:
        </p>
        <pre class="userinput">
<kbd class="command">mkdir qtwebkit-2.3.4 &amp;&amp;
pushd qtwebkit-2.3.4 &amp;&amp;

tar -xf ../../qtwebkit-2.3.4.tar.gz             &amp;&amp;
patch -Np1 -i ../../qtwebkit-2.3.4-gcc5-1.patch &amp;&amp;

QTDIR=$QT4PREFIX PATH=$PATH:$QT4PREFIX/bin \
Tools/Scripts/build-webkit --qt            \
                           --no-webkit2    \
                           --prefix=$QT4PREFIX</kbd>
</pre>
        <p>
          If desired, the build process can use parallel processors by adding
          the option <code class="option">--makeargs=-j&lt;number&gt;</code>
          to the <span class="command"><strong>build-webkit</strong></span>
          instruction above.
        </p>
        <p>
          To install the package, as the <code class="systemitem">root</code>
          user:
        </p>
        <pre class="root">
<kbd class="command">make -C WebKitBuild/Release install</kbd>
</pre>
        <h3>
          Installing Auxillary Files
        </h3>
        <p>
          The following instructions assume that your working directory is
          the top of the <span class="application">Qt4</span> source tree:
        </p>
        <pre class="userinput">
<kbd class="command">popd</kbd>
</pre>
        <p>
          Install images and create the menu entries for installed
          applications. The <code class="envar">QT4BINDIR</code> variable is
          used here to point to the directory for the executable programs. If
          you have changed the bindir above, <code class=
          "envar">QT4BINDIR</code> will need to be adjusted below. Be sure
          that the <code class="envar">QT4BINDIR</code> variable is defined
          in root's environment and as the <code class=
          "systemitem">root</code> user:
        </p>
        <pre class="root">
<kbd class="command">QT4BINDIR=$QT4PREFIX/bin

install -v -Dm644 src/gui/dialogs/images/qtlogo-64.png \
                  /usr/share/pixmaps/qt4logo.png       &amp;&amp;

install -v -Dm644 tools/assistant/tools/assistant/images/assistant-128.png \
                  /usr/share/pixmaps/assistant-qt4.png &amp;&amp;

install -v -Dm644 tools/designer/src/designer/images/designer.png \
                  /usr/share/pixmaps/designer-qt4.png  &amp;&amp;

install -v -Dm644 tools/linguist/linguist/images/icons/linguist-128-32.png \
                  /usr/share/pixmaps/linguist-qt4.png  &amp;&amp;

install -v -Dm644 tools/qdbus/qdbusviewer/images/qdbusviewer-128.png \
                  /usr/share/pixmaps/qdbusviewer-qt4.png &amp;&amp;

install -dm755 /usr/share/applications &amp;&amp;

cat &gt; /usr/share/applications/assistant-qt4.desktop &lt;&lt; EOF
<code class="literal">[Desktop Entry]
Name=Qt4 Assistant
Comment=Shows Qt4 documentation and examples
Exec=$QT4BINDIR/assistant
Icon=assistant-qt4.png
Terminal=false
Encoding=UTF-8
Type=Application
Categories=Qt;Development;Documentation;</code>
EOF

cat &gt; /usr/share/applications/designer-qt4.desktop &lt;&lt; EOF
<code class="literal">[Desktop Entry]
Name=Qt4 Designer
Comment=Design GUIs for Qt4 applications
Exec=$QT4BINDIR/designer
Icon=designer-qt4.png
MimeType=application/x-designer;
Terminal=false
Encoding=UTF-8
Type=Application
Categories=Qt;Development;</code>
EOF

cat &gt; /usr/share/applications/linguist-qt4.desktop &lt;&lt; EOF
<code class="literal">[Desktop Entry]
Name=Qt4 Linguist
Comment=Add translations to Qt4 applications
Exec=$QT4BINDIR/linguist
Icon=linguist-qt4.png
MimeType=text/vnd.trolltech.linguist;application/x-linguist;
Terminal=false
Encoding=UTF-8
Type=Application
Categories=Qt;Development;</code>
EOF

cat &gt; /usr/share/applications/qdbusviewer-qt4.desktop &lt;&lt; EOF
<code class="literal">[Desktop Entry]
Name=Qt4 QDbusViewer
GenericName=D-Bus Debugger
Comment=Debug D-Bus applications
Exec=$QT4BINDIR/qdbusviewer
Icon=qdbusviewer-qt4.png
Terminal=false
Encoding=UTF-8
Type=Application
Categories=Qt;Development;Debugger;</code>
EOF

cat &gt; /usr/share/applications/qtconfig-qt4.desktop &lt;&lt; EOF
<code class="literal">[Desktop Entry]
Name=Qt4 Config
Comment=Configure Qt4 behavior, styles, fonts
Exec=$QT4BINDIR/qtconfig
Icon=qt4logo.png
Terminal=false
Encoding=UTF-8
Type=Application
Categories=Qt;Settings;</code>
EOF</kbd>
</pre>
        <p>
          Some packages such as <a class="xref" href="../multimedia/vlc.html"
          title="VLC-2.2.2">VLC-2.2.2</a> look for certain executables with a
          -qt4 suffix. Run the following command as the <code class=
          "systemitem">root</code> user to create the necessary symlinks:
        </p>
        <pre class="root">
<kbd class=
"command">for file in moc uic rcc qmake lconvert lrelease lupdate; do
  ln -sfrvn $QT4BINDIR/$file /usr/bin/$file-qt4
done</kbd>
</pre>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <em class="parameter"><code>-confirm-license</code></em>: Accept
          license without prompting user during configuration.
        </p>
        <p>
          <em class="parameter"><code>-opensource</code></em>: Install the
          opensource version of <span class="application">Qt</span>.
        </p>
        <p>
          <em class="parameter"><code>-release</code></em>: This switch
          disables building with debugging symbols.
        </p>
        <p>
          <em class="parameter"><code>-nomake examples -nomake
          demos</code></em>: These switches disable building programs that
          are only of interest to a developer using <span class=
          "application">Qt</span>.
        </p>
        <p>
          <em class="parameter"><code>-system-sqlite</code></em>: This switch
          enables use the system version of <span class=
          "application">SQLite</span>.
        </p>
        <p>
          <em class="parameter"><code>-no-nis</code></em>: This switch
          disables support for Network Information Service (NIS) which has
          been deprecated in recent versions of <span class=
          "application">Glibc</span>.
        </p>
        <p>
          <em class="parameter"><code>-no-phonon
          -no-phonon-backend</code></em>: These switches disable building of
          the bundled <span class="application">Phonon</span> library. Better
          version is provided by <a class="xref" href="../kde/phonon.html"
          title="Phonon-4.8.3">phonon-4.8.3</a> package.
        </p>
        <p>
          <em class="parameter"><code>-dbus-linked
          -openssl-linked</code></em>: These switches enable explicit linking
          of the <span class="application">D-Bus</span> and <span class=
          "application">OpenSSL</span> libraries into <span class=
          "application">Qt</span> libraries instead of <span class=
          "command"><strong>dlopen()</strong></span>-ing them.
        </p>
        <p>
          <em class="parameter"><code>-no-openvg</code></em>: This switch
          disables <span class="application">OpenVG</span> support in
          <span class="application">Qt</span>.
        </p>
        <p>
          <em class="parameter"><code>-optimized-qmake</code></em>: This
          switch enables building of the optimized <span class=
          "command"><strong>qmake</strong></span> program.
        </p>
        <p>
          <code class="option">-no-dbus</code>: Use this switch if you don't
          have <span class="application">D-Bus</span> installed.
        </p>
      </div>
      <div class="configuration" lang="en" xml:lang="en">
        <h2 class="sect2">
          Configuring Qt
        </h2>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            <a id="qt4-config" name="qt4-config"></a>Configuration
            Information
          </h3>
          <p>
            If you installed <span class="application">Qt</span> in /usr,
            create an environment variable needed by certain packages. As the
            <code class="systemitem">root</code> user:
          </p>
          <pre class="root">
<kbd class="command">cat &gt; /etc/profile.d/qt4.sh &lt;&lt; "EOF"
<code class="literal"># Begin /etc/profile.d/qt4.sh

QT4DIR=/usr
QTDIR=$QT4DIR
export QT4DIR QTDIR

# End /etc/profile.d/qt4.sh</code>
EOF</kbd>
</pre>
          <p>
            If you installed <span class="application">Qt4</span> in a
            location other than /usr, you need to update the following
            configuration files so that <span class="application">Qt</span>
            is correctly found by other packages and system processes.
          </p>
          <p>
            As the <code class="systemitem">root</code> user, update the
            <code class="filename">/etc/ld.so.conf</code> file and the
            dynamic linker's run-time cache file:
          </p>
          <pre class="root">
<kbd class="command">cat &gt;&gt; /etc/ld.so.conf &lt;&lt; EOF
<code class="literal"># Begin Qt addition

/opt/qt4/lib

# End Qt addition</code>
EOF

ldconfig</kbd>
</pre>
          <p>
            As the <code class="systemitem">root</code> user, create the
            <code class="filename">/etc/profile.d/qt4.sh</code> file:
          </p>
          <pre class="root">
<kbd class="command">cat &gt; /etc/profile.d/qt4.sh &lt;&lt; "EOF"
<code class="literal"># Begin /etc/profile.d/qt4.sh

QT4DIR=/opt/qt4
QTDIR=$QT4DIR

pathappend $QT4DIR/bin           PATH
pathappend $QT4DIR/lib/pkgconfig PKG_CONFIG_PATH

export QT4DIR QTDIR

# End /etc/profile.d/qt4.sh</code>
EOF</kbd>
</pre>
        </div>
        <div class="sect3" lang="en" xml:lang="en">
          <h3 class="sect3">
            Choosing Qt Program Versions
          </h3>
          <p>
            If you install both Qt4 and Qt5, you can use some simple scripts
            to select the currently active set of Qt programs. As the
            <code class="systemitem">root</code> user, create the following
            scripts:
          </p>
          <pre class="root">
<kbd class="command">cat &gt; /usr/bin/setqt4 &lt;&lt; 'EOF'
<code class=
"literal">if [ "x$QT5DIR" != "x/usr" ] &amp;&amp; [ "x$QT5DIR" != "x" ]; then pathremove  $QT5DIR/bin; fi
if [ "x$QT4DIR" != "x/usr" ]; then pathprepend $QT4DIR/bin; fi
echo $PATH</code>
EOF</kbd>
</pre>
          <pre class="root">
<kbd class="command">cat &gt; /usr/bin/setqt5 &lt;&lt; 'EOF'
<code class=
"literal">if [ "x$QT4DIR" != "x/usr" ] &amp;&amp; [ "x$QT4DIR" != "x" ]; then pathremove  $QT4DIR/bin; fi
if [ "x$QT5DIR" != "x/usr" ]; then pathprepend $QT5DIR/bin; fi
echo $PATH</code>
EOF</kbd>
</pre>
          <p>
            You should now be able to use the appropriate Qt version by
            running <span class="command"><strong>source
            setqt4</strong></span> or <span class="command"><strong>source
            setqt5</strong></span> as desired. (Setting the PATH wont work in
            a subshell.) Another technique that can be used is to create
            appropriate alias additions to your ~/.bashrc like <span class=
            "command"><strong>alias setqt4='source setqt4'</strong></span>.
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">assistant, designer, lconvert, linguist,
              lrelease, lupdate, moc, pixeltool, qcollectiongenerator,
              qdbuscpp2xml, qdbus, qdbusviewer, qdbusxml2cpp, qdoc3,
              qhelpconverter, qhelpgenerator, qmake, qmlplugindump,
              qmlviewer, qt3to4, qtconfig, qttracereplay, rcc, uic3, uic,
              xmlpatterns, and xmlpatternsvalidator</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libQtUiTools.a, libQt3Support.so,
              libQtCLucene.so, libQtCore.so, libQtDBus.so,
              libQtDeclarative.so, libQtDesignerComponents.so,
              libQtDesigner.so, libQtGui.so, libQtHelp.so,
              libQtMultimedia.so, libQtNetwork.so, libQtOpenGL.so,
              libQtScript.so, libQtScriptTools.so, libQtSql.so, libQtSvg.so,
              libQtTest.so, libQtWebKit.so, libQtXmlPatterns.so, and
              libQtXml.so, and several plugins under /opt/qt4/imports and
              /opt/qt4/plugins</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/include/qt4, /usr/lib/qt4,
              /usr/share/doc/qt4, and /usr/share/qt4 OR /opt/qt4 and
              /opt/qt-4.8.7</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="assistant-qt4" name=
                    "assistant-qt4"></a><span class="term"><span class=
                    "command"><strong>assistant</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool for presenting on-line documentation.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="designer-qt4" name="designer-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>designer</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a full-fledged GUI builder. It includes powerful
                    features such as preview mode, automatic widget layout,
                    support for custom widgets, and an advanced property
                    editor.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="lconvert-qt4" name="lconvert-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>lconvert</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is part of Qt4's Linguist tool chain. It can be used as a
                    standalone tool to convert and filter translation data
                    files.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="linguist-qt4" name="linguist-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>linguist</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    provides support for translating applications into local
                    languages.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="lrelease-qt4" name="lrelease-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>lrelease</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a simple command line tool. It reads a Qt project file
                    and produces message files used by the application.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="lupdate-qt4" name="lupdate-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>lupdate</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    reads a Qt project file, finds the translatable strings
                    in the specified source, header and Qt Designer interface
                    files, and produces or updates the translation files
                    listed in the project file.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="moc-qt4" name="moc-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>moc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    generates Qt meta object support code.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="pixeltool-qt4" name=
                    "pixeltool-qt4"></a><span class="term"><span class=
                    "command"><strong>pixeltool</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a desktop magnifier and as you move your mouse around
                    the screen it will show the magnified contents in its
                    window.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qcollectiongenerator-qt4" name=
                    "qcollectiongenerator-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>qcollectiongenerator</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool used to create a Qt Help Collection.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qdbuscpp2xml-qt4" name=
                    "qdbuscpp2xml-qt4"></a><span class="term"><span class=
                    "command"><strong>qdbuscpp2xml</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    takes a C++ source file and generates a D-Bus XML
                    definition of the interface.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qdbus-qt4" name="qdbus-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>qdbus</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    lists available services, object paths, methods, signals,
                    and properties of objects on a bus.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qdbusviewer-qt4" name=
                    "qdbusviewer-qt4"></a><span class="term"><span class=
                    "command"><strong>qdbusviewer</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a graphical D-Bus browser.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qdbusxml2cpp-qt4" name=
                    "qdbusxml2cpp-qt4"></a><span class="term"><span class=
                    "command"><strong>qdbusxml2cpp</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool that can be used to parse interface
                    descriptions and produce static code representing those
                    interfaces,
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qdoc3-qt4" name="qdoc3-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>qdoc3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool used by <span class="application">Qt</span>
                    Developers to generate documentation for software
                    projects.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qhelpconverter-qt4" name=
                    "qhelpconverter-qt4"></a><span class="term"><span class=
                    "command"><strong>qhelpconverter</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool used to convert files to <span class=
                    "application">Qt</span> help format.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qhelpgenerator-qt4" name=
                    "qhelpgenerator-qt4"></a><span class="term"><span class=
                    "command"><strong>qhelpgenerator</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool used to generate a <span class=
                    "application">Qt</span> compressed help file.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qmake-qt4" name="qmake-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>qmake</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    uses information stored in project files to determine
                    what should go in the makefiles it generates.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qmlplugindump-qt4" name=
                    "qmlplugindump-qt4"></a><span class="term"><span class=
                    "command"><strong>qmlplugindump</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool to create a qmltypes file.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qmlviewer-qt4" name=
                    "qmlviewer-qt4"></a><span class="term"><span class=
                    "command"><strong>qmlviewer</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool for loading QML documents that makes it easy to
                    quickly develop and debug QML applications.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qt3to4-qt4" name="qt3to4-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>qt3to4</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    qt3to4 is a tool to help update Qt3 code to Qt4.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qtconfig-qt4" name="qtconfig-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>qtconfig</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is used to customize the appearance of Qt applications.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qttracereplay" name=
                    "qttracereplay"></a><span class="term"><span class=
                    "command"><strong>qttracereplay</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool to replay all drawing operations recording with
                    <span class="command"><strong>-graphicssystem
                    trace</strong></span> into a trace buffer.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rcc-qt4" name="rcc-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>rcc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a resource compiler used in conjunction with designer.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="uic-qt4" name="uic-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>uic</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a Qt user interface compiler.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="uic3-qt4" name="uic3-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>uic3</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool to generate Qt4 code out of user interface
                    files generated by the Qt3 version of designer.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="xmlpatterns-qt4" name=
                    "xmlpatterns-qt4"></a><span class="term"><span class=
                    "command"><strong>xmlpatterns</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    provides support for XPath, XQuery, XSLT, and XML Schema
                    validation.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="xmlpatternsvalidator-qt4" name=
                    "xmlpatternsvalidator-qt4"></a><span class=
                    "term"><span class=
                    "command"><strong>xmlpatternsvalidator</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a tool used to validate XML documents.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2016-02-24 19:22:02 -0800
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="pangomm.html" title=
          "Pangomm-2.38.1">Prev</a>
          <p>
            Pangomm-2.38.1
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="qt5.html" title="Qt-5.5.1">Next</a>
          <p>
            Qt-5.5.1
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="lib.html" title=
          "Chapter&nbsp;25.&nbsp;X Libraries">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.9">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
