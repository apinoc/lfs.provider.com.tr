<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      VLC-2.2.2
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="blfs" id="blfs-7.9">
    <div class="navheader">
      <h4>
        Beyond Linux<sup>®</sup> From Scratch - Version 7.9
      </h4>
      <h3>
        Chapter&nbsp;48.&nbsp;Video Utilities
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="transcode.html" title=
          "Transcode-1.1.7">Prev</a>
          <p>
            Transcode-1.1.7
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xine-ui.html" title=
          "xine-ui-0.99.9">Next</a>
          <p>
            xine-ui-0.99.9
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="videoutils.html" title=
          "Chapter&nbsp;48.&nbsp;Video Utilities">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.9">Home</a>
        </li>
      </ul>
    </div>
    <div class="sect1" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="vlc" name="vlc"></a>VLC-2.2.2
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <h2 class="sect2">
          Introduction to VLC
        </h2>
        <p>
          <span class="application">VLC</span> is a media player, streamer,
          and encoder. It can play from many inputs, such as files, network
          streams, capture devices, desktops, or DVD, SVCD, VCD, and audio
          CD. It can use most audio and video codecs (MPEG 1/2/4, H264, VC-1,
          DivX, WMV, Vorbis, AC3, AAC, etc.), and it can also convert to
          different formats and/or send streams through the network.
        </p>
        <p>
          This package is known to build and work properly using an LFS-7.9
          platform.
        </p>
        <h3>
          Package Information
        </h3>
        <div class="itemizedlist">
          <ul class="compact">
            <li>
              <p>
                Download (HTTP): <a class="ulink" href=
                "http://download.videolan.org/vlc/2.2.2/vlc-2.2.2.tar.xz">http://download.videolan.org/vlc/2.2.2/vlc-2.2.2.tar.xz</a>
              </p>
            </li>
            <li>
              <p>
                Download MD5 sum: f98d60f0f59ef72b6e3407f2ff09bda6
              </p>
            </li>
            <li>
              <p>
                Download size: 22 MB
              </p>
            </li>
            <li>
              <p>
                Estimated disk space required: 679 MB (with tests)
              </p>
            </li>
            <li>
              <p>
                Estimated build time: 4.4 SBU (with tests)
              </p>
            </li>
          </ul>
        </div>
        <h3>
          VLC Dependencies
        </h3>
        <h4>
          Recommended
        </h4>
        <p class="recommended">
          <a class="xref" href="alsa-lib.html" title=
          "alsa-lib-1.1.0">alsa-lib-1.1.0</a>, <a class="xref" href=
          "ffmpeg.html" title="FFmpeg-2.8.6">FFmpeg-2.8.6</a>, <a class=
          "xref" href="liba52.html" title="Liba52-0.7.4">liba52-0.7.4</a>,
          <a class="xref" href="../general/libgcrypt.html" title=
          "libgcrypt-1.6.5">libgcrypt-1.6.5</a> <a class="xref" href=
          "libmad.html" title="libmad-0.15.1b">libmad-0.15.1b</a>, <a class=
          "xref" href="../general/lua.html" title="Lua-5.3.2">Lua-5.3.2</a>,
          and <a class="xref" href="../x/installing.html" title=
          "Chapter&nbsp;24.&nbsp;X Window System Environment">X Window
          System</a>,
        </p>
        <h4>
          Optional features and packages
        </h4>
        <p class="optional">
          <a class="xref" href="../general/dbus.html" title=
          "D-Bus-1.10.6">D-Bus-1.10.6</a>
        </p>
        <h4>
          Optional input plugins
        </h4>
        <p class="optional">
          <a class="xref" href="libdv.html" title=
          "Libdv-1.0.0">libdv-1.0.0</a>, <a class="xref" href=
          "libdvdcss.html" title="libdvdcss-1.4.0">libdvdcss-1.4.0</a>,
          <a class="xref" href="libdvdread.html" title=
          "Libdvdread-5.0.3">libdvdread-5.0.3</a>, <a class="xref" href=
          "libdvdnav.html" title="Libdvdnav-5.0.3">libdvdnav-5.0.3</a>,
          <a class="xref" href="../general/opencv.html" title=
          "opencv-3.1.0">opencv-3.1.0</a>, <a class="xref" href=
          "../basicnet/samba.html" title="Samba-4.3.4">Samba-4.3.4</a>,
          <a class="xref" href="v4l-utils.html" title=
          "v4l-utils-1.10.0">v4l-utils-1.10.0</a>, <a class="ulink" href=
          "http://www.videolan.org/developers/libbluray.html">libbluray</a>,
          <a class="ulink" href=
          "http://sourceforge.net/projects/libdc1394/">libdc1394</a>,
          <a class="ulink" href=
          "http://sourceforge.net/projects/libcddb/">libcddb</a>, <a class=
          "ulink" href="https://github.com/libproxy/libproxy">libproxy</a>,
          <a class="ulink" href="http://www.live555.com/">Live555</a>, and
          <a class="ulink" href=
          "http://www.gnu.org/software/vcdimager/">VCDImager</a> (requires
          <a class="xref" href="libcdio.html" title=
          "libcdio-0.93">libcdio-0.93</a>)
        </p>
        <h4>
          Optional mux/demux plugins
        </h4>
        <p class="optional">
          <a class="xref" href="libogg.html" title=
          "libogg-1.3.2">libogg-1.3.2</a>, <a class="ulink" href=
          "https://github.com/kode54/Game_Music_Emu">Game Music Emu</a>,
          <a class="ulink" href=
          "http://www.videolan.org/developers/libdvbpsi.html">libdvbpsi</a>,
          <a class="ulink" href=
          "http://downloads.xiph.org/releases/libshout/">libshout</a>,
          <a class="ulink" href=
          "http://dl.matroska.org/downloads/libmatroska/">libmatroska</a>
          (requires <a class="ulink" href=
          "http://dl.matroska.org/downloads/libebml/">libebml</a>), <a class=
          "ulink" href=
          "http://sourceforge.net/projects/modplug-xmms/">libmodplug</a>,
          <a class="ulink" href="http://www.musepack.net/">Musepack</a>, and
          <a class="ulink" href=
          "http://sourceforge.net/projects/sidplay2/">sidplay-libs</a>
        </p>
        <h4>
          Optional codec plugins
        </h4>
        <p class="optional">
          <a class="xref" href="faad2.html" title="FAAD2-2.7">FAAD2-2.7</a>,
          <a class="xref" href="flac.html" title="FLAC-1.3.1">FLAC-1.3.1</a>,
          <a class="xref" href="libass.html" title=
          "libass-0.13.1">libass-0.13.1</a>, <a class="xref" href=
          "libmpeg2.html" title="libmpeg2-0.5.1">libmpeg2-0.5.1</a>,
          <a class="xref" href="../general/libpng.html" title=
          "libpng-1.6.21">libpng-1.6.21</a>, <a class="xref" href=
          "libtheora.html" title="libtheora-1.1.1">libtheora-1.1.1</a>,
          <a class="xref" href="../x/x7driver.html#libva" title=
          "libva-1.6.2">libva-1.6.2</a>, <a class="xref" href=
          "libvorbis.html" title="libvorbis-1.3.5">libvorbis-1.3.5</a>,
          <a class="xref" href="opus.html" title="Opus-1.1.2">Opus-1.1.2</a>,
          <a class="xref" href="speex.html" title=
          "Speex-1.2rc2">Speex-1.2rc2</a>, <a class="xref" href="x264.html"
          title="x264-20160220-2245">x264-20160220-2245</a>, <a class="ulink"
          href="http://sourceforge.net/projects/dirac/">Dirac</a>, <a class=
          "ulink" href=
          "http://sourceforge.net/projects/fluidsynth/">FluidSynth</a>,
          <a class="ulink" href=
          "http://www.videolan.org/developers/libdca.html">libdca</a>,
          <a class="ulink" href=
          "http://code.google.com/p/libkate/">libkate</a>, <a class="ulink"
          href="http://www.khronos.org/openmax/">OpenMAX</a>, <a class=
          "ulink" href=
          "http://sourceforge.net/projects/schrodinger/">Schroedinger</a>,
          <a class="ulink" href="http://wiki.xiph.org/Tremor">Tremor</a>,
          <a class="ulink" href="http://www.twolame.org/">Twolame</a>, and
          <a class="ulink" href=
          "http://sourceforge.net/projects/zapping/">Zapping VBI</a>
        </p>
        <h4>
          Optional video plugins
        </h4>
        <p class="optional">
          <a class="xref" href="../general/aalib.html" title=
          "AAlib-1.4rc5">AAlib-1.4rc5</a>, <a class="xref" href=
          "../general/fontconfig.html" title=
          "Fontconfig-2.11.1">Fontconfig-2.11.1</a>, <a class="xref" href=
          "../general/freetype2.html" title=
          "FreeType-2.6.3">FreeType-2.6.3</a>, <a class="xref" href=
          "../general/fribidi.html" title=
          "FriBidi-0.19.7">FriBidi-0.19.7</a>, <a class="xref" href=
          "../general/librsvg.html" title=
          "librsvg-2.40.13">librsvg-2.40.13</a>, <a class="xref" href=
          "../x/x7driver.html#libvdpau" title=
          "libvdpau-1.1.1">libvdpau-1.1.1</a>, <a class="xref" href=
          "sdl.html" title="SDL-1.2.15">SDL-1.2.15</a> (with <a class="ulink"
          href="http://www.libsdl.org/projects/SDL_image/">SDL_image</a>),
          and <a class="ulink" href="http://caca.zoy.org/">libcaca</a>
        </p>
        <h4>
          Optional audio plugins
        </h4>
        <p class="optional">
          <a class="xref" href="pulseaudio.html" title=
          "PulseAudio-8.0">PulseAudio-8.0</a>, <a class="xref" href=
          "libsamplerate.html" title=
          "libsamplerate-0.1.8">libsamplerate-0.1.8</a>, and <a class="ulink"
          href="http://jackaudio.org/">JACK</a>
        </p>
        <h4>
          Optional interface plugins
        </h4>
        <p class="optional">
          <a class="xref" href="../x/qt4.html" title="Qt-4.8.7">Qt-4.8.7</a>
          (required for the graphical user interface), <a class="xref" href=
          "../x/qt5.html" title="Qt-5.5.1">Qt-5.5.1</a> (for some plugins,
          but currently broken with Qt-5.5), <a class="ulink" href=
          "http://pkgbuild.com/~giovanni/libtar/">libtar</a>, and <a class=
          "ulink" href="http://www.lirc.org/">LIRC</a>
        </p>
        <h4>
          Optional visualisations and video filter plugins
        </h4>
        <p class="optional">
          <a class="ulink" href=
          "http://sourceforge.net/projects/goom/">Goom</a> and <a class=
          "ulink" href=
          "http://sourceforge.net/projects/projectm/">projectM</a>
        </p>
        <h4>
          Optional service discovery plugins
        </h4>
        <p class="optional">
          <a class="xref" href="../basicnet/avahi.html" title=
          "Avahi-0.6.31">Avahi-0.6.31</a>, <a class="ulink" href=
          "http://sourceforge.net/projects/libmtp/">libmtp</a> and <a class=
          "ulink" href="http://sourceforge.net/projects/pupnp/">libupnp</a>
        </p>
        <h4>
          Miscellaneous options
        </h4>
        <p class="optional">
          <a class="xref" href="../postlfs/gnutls.html" title=
          "GnuTLS-3.4.9">GnuTLS-3.4.9</a>, <a class="xref" href=
          "../x/libnotify.html" title="libnotify-0.7.6">libnotify-0.7.6</a>,
          <a class="xref" href="../general/libxml2.html" title=
          "libxml2-2.9.3">libxml2-2.9.3</a>, <a class="xref" href=
          "taglib.html" title="Taglib-1.10">taglib-1.10</a>, and <a class=
          "xref" href="../xsoft/xdg-utils.html" title=
          "xdg-utils-1.1.1">xdg-utils-1.1.1</a> (runtime)
        </p>
        <p class="usernotes">
          User Notes: <a class="ulink" href=
          "http://wiki.linuxfromscratch.org/blfs/wiki/vlc">http://wiki.linuxfromscratch.org/blfs/wiki/vlc</a>
        </p>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          Installation of VLC
        </h2>
        <p>
          If both Qt4 and Qt5 are installed, Qt5 has to be hidden from
          <code class="envar">PKG_CONFIG_PATH</code>, due to a bug.
          Temporarily do it, issuing:
        </p>
        <pre class="userinput">
<kbd class="command">SAVEPATH=$PKG_CONFIG_PATH &amp;&amp;
PKG_CONFIG_PATH="\
`echo $PKG_CONFIG_PATH | sed 's@:/opt/qt5/lib/pkgconfig@@'`"</kbd>
</pre>
        <p>
          If you wish to avoid thousands of annoying warnings, issue:
        </p>
        <pre class="userinput">
<kbd class=
"command">sed -i 's/ifndef __FAST_MATH__/if 0/g' configure.ac</kbd>
</pre>
        <p>
          Install <span class="application">VLC</span> by running the
          following commands:
        </p>
        <pre class="userinput">
<kbd class="command">sed -e 's:libsmbclient.h:samba-4.0/&amp;:' \
    -i modules/access/smb.c &amp;&amp;

sed -e '/LUA_C/ i #define LUA_COMPAT_APIINTCASTS' \
    -i modules/lua/vlc.h    &amp;&amp;

sed -e '/core.h/ {
        a #include &lt;opencv2/imgproc/imgproc_c.h&gt;
        a #include &lt;opencv2/imgproc/imgproc.hpp&gt;
    }' \
    -i modules/video_filter/opencv_example.cpp &amp;&amp;

./bootstrap &amp;&amp;

OPENCV_LIBS="-L/usr/share/OpenCV" \
./configure --prefix=/usr &amp;&amp;

sed -e '/seems to be moved/s/^/#/' \
    -i autotools/ltmain.sh libtool &amp;&amp;</kbd>
</pre>
        <p>
          In order to build with Lua 5.1 compatiblity, issue:
        </p>
        <pre class="userinput">
<kbd class=
"command">CFLAGS='-fPIC -O2 -Wall -Wextra -DLUA_COMPAT_5_1' make </kbd>
</pre>
        <p>
          Again, if both Qt4 and 5 are installed, restore <code class=
          "envar">PKG_CONFIG_PATH</code>:
        </p>
        <pre class="userinput">
<kbd class="command">PKG_CONFIG_PATH=$SAVEPATH &amp;&amp;
unset SAVEPATH</kbd>
</pre>
        <p>
          To test the results, issue: <span class="command"><strong>make -k
          check</strong></span>. Tests must be run from an active X session.
          One test fails for unknown reasons.
        </p>
        <p>
          Now, as the <code class="systemitem">root</code> user:
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            If the XORG_PREFIX is not /usr, make sure the LIBRARY_PATH
            environment variable is set properly when doing the install, For
            example: <span class="command"><strong>sudo make
            LIBRARY_PATH=$XORG_PREFIX/lib ... install</strong></span>.
          </p>
        </div>
        <pre class="root">
<kbd class="command">make docdir=/usr/share/doc/vlc-2.2.2 install</kbd>
</pre>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            This package installs icon files into the <code class=
            "filename">/usr/share/icons/hicolor</code> hierarchy and desktop
            files into the <code class=
            "filename">/usr/share/applications</code> hierarchy. You can
            improve system performance and memory usage by updating
            <code class=
            "filename">/usr/share/icons/hicolor/index.theme</code> and
            <code class=
            "filename">/usr/share/applications/mimeinfo.cache</code>. To
            perform the update you must have <a class="xref" href=
            "../x/gtk2.html" title="GTK+-2.24.29">GTK+-2.24.29</a> or
            <a class="xref" href="../x/gtk3.html" title=
            "GTK+-3.18.7">GTK+-3.18.7</a> installed (for the icon cache) and
            <a class="xref" href="../general/desktop-file-utils.html" title=
            "desktop-file-utils-0.22">desktop-file-utils-0.22</a> (for the
            desktop cache) and issue the following commands as the
            <code class="systemitem">root</code> user:
          </p>
          <pre class="root">
<kbd class="command">gtk-update-icon-cache &amp;&amp;
update-desktop-database</kbd>
</pre>
        </div>
      </div>
      <div class="commands" lang="en" xml:lang="en">
        <h2 class="sect2">
          Command Explanations
        </h2>
        <p>
          <span class="command"><strong>sed -i ...</strong></span>: This sed
          fixes compilation with <span class="application">Samba</span> 4.
        </p>
        <p>
          <span class="command"><strong>sed -e ... -i
          modules/lua/vlc.h</strong></span> This sed fixes compilation with
          <span class="application">lua</span> 5.3.
        </p>
        <p>
          <span class="command"><strong>sed -e ... -i
          modules/video_filter/opencv_example.cpp</strong></span> This sed
          partially fixes compilation with <span class=
          "application">OpenCV</span> 3.
        </p>
        <p>
          <code class="envar">OPENCV_LIBS="-L/usr/share/OpenCV"</code> This
          environment variable helps the linker to find <code class=
          "filename">libippicv.a</code> installed by <span class=
          "application">OpenCV</span> 3.
        </p>
        <p>
          <span class="command"><strong>./bootstrap</strong></span>: This
          command calls autoreconf to generate m4 macros and prepare
          Makefiles.
        </p>
        <p>
          <span class="command"><strong>sed -e ... -i.orig
          autotools/ltmain.sh libtool</strong></span>: This optional sed
          removes a lot of invalid build warnings. If desired, remove it.
        </p>
        <p>
          <code class="option">--enable-opencv=no</code>: This switch
          disables <span class="application">OpenCV</span> suport.
        </p>
        <p>
          <code class="option">--disable-lua</code>: Use this switch if you
          don't have <span class="application">Lua</span> installed.
        </p>
        <p>
          <code class="option">--disable-mad</code>: Use this switch if you
          don't have <span class="application">libmad</span> installed.
        </p>
        <p>
          <code class="option">--disable-avcodec --disable-swscale</code>:
          Use these switches if you don't have <span class=
          "application">FFmpeg</span> installed.
        </p>
        <p>
          <code class="option">--disable-a52</code>: Use this switch if you
          don't have <span class="application">liba52</span> installed.
        </p>
        <p>
          <code class="option">--disable-xcb</code>: Use this switch if you
          don't have <span class="application">X Window System</span>
          installed.
        </p>
        <p>
          <code class="option">--disable-alsa</code>: Use this switch if you
          don't have <span class="application">ALSA</span> installed.
        </p>
        <p>
          <code class="option">--disable-libgcrypt</code>: Use this switch if
          you don't have <span class="application">libgcrypt</span>
          installed.
        </p>
        <div class="admon note">
          <img alt="[Note]" src="../images/note.png" />
          <h3>
            Note
          </h3>
          <p>
            There are many options to <span class="application">VLC</span>'s
            <span class="command"><strong>configure</strong></span> command.
            Check the <span class="command"><strong>configure
            --help</strong></span> output for a complete list.
          </p>
        </div>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          Contents
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed Programs:</strong>
              <span class="segbody">cvlc, nvlc, qvlc, rvlc, svlc, vlc and
              vlc-wrapper</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Libraries:</strong>
              <span class="segbody">libvlccore.so, libvlc.so and several
              plugins in /usr/lib/vlc/plugins</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Installed Directories:</strong>
              <span class="segbody">/usr/{include,lib,share}/vlc and
              /usr/share/doc/vlc-2.2.2</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="cvlc" name="cvlc"></a><span class=
                    "term"><span class=
                    "command"><strong>cvlc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a script to run VLC with the dummy interface.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="nvlc" name="nvlc"></a><span class=
                    "term"><span class=
                    "command"><strong>nvlc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a script to run VLC with the ncurses interface.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="qvlc" name="qvlc"></a><span class=
                    "term"><span class=
                    "command"><strong>qvlc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a script to run <span class="application">VLC</span>
                    with the <span class="application">Qt</span> interface.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="rvlc" name="rvlc"></a><span class=
                    "term"><span class=
                    "command"><strong>rvlc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a script to run <span class="application">VLC</span>
                    with a command line interface.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="svlc" name="svlc"></a><span class=
                    "term"><span class=
                    "command"><strong>svlc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a script to run <span class="application">VLC</span>
                    with the skins interface.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="vlc-prog" name="vlc-prog"></a><span class=
                    "term"><span class=
                    "command"><strong>vlc</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is the <span class="application">VLC</span> media player.
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="vlc-wrapper" name="vlc-wrapper"></a><span class=
                    "term"><span class=
                    "command"><strong>vlc-wrapper</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    is a wrapper to drop privileges with <span class=
                    "application">VLC</span>.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <p class="updated">
        Last updated on 2016-02-24 13:13:06 -0800
      </p>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="transcode.html" title=
          "Transcode-1.1.7">Prev</a>
          <p>
            Transcode-1.1.7
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="xine-ui.html" title=
          "xine-ui-0.99.9">Next</a>
          <p>
            xine-ui-0.99.9
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="videoutils.html" title=
          "Chapter&nbsp;48.&nbsp;Video Utilities">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Beyond Linux® From Scratch - Version 7.9">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
