<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content=
    "application/xhtml+xml; charset=iso-8859-1" />
    <title>
      6.39.&nbsp;Grep-2.5.3
    </title>
    <link rel="stylesheet" href="../stylesheets/lfs.css" type="text/css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.73.2" />
    <link rel="stylesheet" href="../stylesheets/lfs-print.css" type=
    "text/css" media="print" />
  </head>
  <body class="lfs" id="lfs-6.4">
    <div class="navheader">
      <h4>
        Linux From Scratch - Version 6.4
      </h4>
      <h3>
        Chapter&nbsp;6.&nbsp;Installing Basic System Software
      </h3>
      <ul>
        <li class="prev">
          <a accesskey="p" href="gettext.html" title="Gettext-0.17">Prev</a>
          <p>
            Gettext-0.17
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="groff.html" title="Groff-1.18.1.4">Next</a>
          <p>
            Groff-1.18.1.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Chapter&nbsp;6.&nbsp;Installing Basic System Software">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 6.4">Home</a>
        </li>
      </ul>
    </div>
    <div class="wrap" lang="en" xml:lang="en">
      <h1 class="sect1">
        <a id="ch-system-grep" name="ch-system-grep"></a>6.39. Grep-2.5.3
      </h1>
      <div class="package" lang="en" xml:lang="en">
        <p>
          The Grep package contains programs for searching through files.
        </p>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Approximate build time:</strong>
              <span class="segbody">0.1 SBU</span>
            </div>
            <div class="seg">
              <strong class="segtitle">Required disk space:</strong>
              <span class="segbody">7.2 MB</span>
            </div>
          </div>
        </div>
      </div>
      <div class="installation" lang="en" xml:lang="en">
        <h2 class="sect2">
          6.39.1. Installation of Grep
        </h2>
        <p>
          The current Grep package has many bugs, especially in the support
          of multibyte locales. The following consolidated patch from Debian
          fixes some of them, improves the number of individual tests which
          are passed, and much improves the speed in UTF-8 locales:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../grep-2.5.3-debian_fixes-1.patch</kbd></pre>
        <p>
          Upstream have fixed some of the documentation, and changed some of
          the tests and the expected results in the newest test scripts. This
          means that not so many of the individual tests fail:
        </p>
        <pre class="userinput"><kbd class=
        "command">patch -Np1 -i ../grep-2.5.3-upstream_fixes-1.patch</kbd></pre>
        <p>
          Prepare Grep for compilation:
        </p>
        <pre class="userinput"><kbd class=
        "command">./configure --prefix=/usr \
    --bindir=/bin \
    --without-included-regex</kbd></pre>
        <div class="variablelist">
          <p class="title">
            <b>The meaning of the configure switch:</b>
          </p>
          <dl>
            <dt>
              <span class="term"><em class=
              "parameter"><code>--without-included-regex</code></em></span>
            </dt>
            <dd>
              <p>
                The configure check for glibc's regex library is broken when
                building against glibc-2.8. This switch forces the use of
                glibc's regex library.
              </p>
            </dd>
          </dl>
        </div>
        <p>
          Compile the package:
        </p>
        <pre class="userinput"><kbd class="command">make</kbd></pre>
        <p>
          To test the results, issue:
        </p>
        <pre class="userinput"><kbd class=
        "command">make check || true</kbd></pre>
        <p>
          There are known test failures in the <span class=
          "command"><strong>foad1.sh</strong></span> and <span class=
          "command"><strong>fmbtest.sh</strong></span> tests. The "|| true"
          construct is used to avoid build automated build scripts failing
          due to the test failures. A good run will show 2 failures from 14
          tests, but if you look at the output you will see in excess of
          forty individual tests which failed - these are all in the new
          tests added since the previous version.
        </p>
        <p>
          Install the package:
        </p>
        <pre class="userinput"><kbd class="command">make install</kbd></pre>
      </div>
      <div class="content" lang="en" xml:lang="en">
        <h2 class="sect2">
          <a id="contents-grep" name="contents-grep"></a>6.39.2. Contents of
          Grep
        </h2>
        <div class="segmentedlist">
          <div class="seglistitem">
            <div class="seg">
              <strong class="segtitle">Installed programs:</strong>
              <span class="segbody">egrep, fgrep, and grep</span>
            </div>
          </div>
        </div>
        <div class="variablelist">
          <h3>
            Short Descriptions
          </h3>
          <table border="0">
            <col align="left" valign="top" />
            <tbody>
              <tr>
                <td>
                  <p>
                    <a id="egrep" name="egrep"></a><span class=
                    "term"><span class=
                    "command"><strong>egrep</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Prints lines matching an extended regular expression
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="fgrep" name="fgrep"></a><span class=
                    "term"><span class=
                    "command"><strong>fgrep</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Prints lines matching a list of fixed strings
                  </p>
                </td>
              </tr>
              <tr>
                <td>
                  <p>
                    <a id="grep" name="grep"></a><span class=
                    "term"><span class=
                    "command"><strong>grep</strong></span></span>
                  </p>
                </td>
                <td>
                  <p>
                    Prints lines matching a basic regular expression
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="navfooter">
      <ul>
        <li class="prev">
          <a accesskey="p" href="gettext.html" title="Gettext-0.17">Prev</a>
          <p>
            Gettext-0.17
          </p>
        </li>
        <li class="next">
          <a accesskey="n" href="groff.html" title="Groff-1.18.1.4">Next</a>
          <p>
            Groff-1.18.1.4
          </p>
        </li>
        <li class="up">
          <a accesskey="u" href="chapter06.html" title=
          "Chapter&nbsp;6.&nbsp;Installing Basic System Software">Up</a>
        </li>
        <li class="home">
          <a accesskey="h" href="../index.html" title=
          "Linux From Scratch - Version 6.4">Home</a>
        </li>
      </ul>
    </div>
  </body>
</html>
